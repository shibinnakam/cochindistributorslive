"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[213],{2213:function(s,r,o){o.r(r),o.d(r,{default:function(){return w}});var t=o(6768),e=o(5130),a=o(4232);const i={class:"set-password"},d={class:"set-password-box"},n=["disabled"];function l(s,r,o,l,h,u){return(0,t.uX)(),(0,t.CE)("div",i,[(0,t.Lk)("div",d,[r[3]||(r[3]=(0,t.Lk)("h2",null,"Set Your Password",-1)),(0,t.bo)((0,t.Lk)("input",{type:"password",placeholder:"Enter new password","onUpdate:modelValue":r[0]||(r[0]=s=>h.password=s)},null,512),[[e.Jo,h.password]]),(0,t.bo)((0,t.Lk)("input",{type:"password",placeholder:"Confirm new password","onUpdate:modelValue":r[1]||(r[1]=s=>h.confirmPassword=s)},null,512),[[e.Jo,h.confirmPassword]]),(0,t.Lk)("button",{onClick:r[2]||(r[2]=(...s)=>u.setPassword&&u.setPassword(...s)),disabled:h.loading},(0,a.v_)(h.loading?"Setting...":"Set Password"),9,n),h.message?((0,t.uX)(),(0,t.CE)("p",{key:0,class:(0,a.C4)(h.isError?"error":"success")},(0,a.v_)(h.message),3)):(0,t.Q3)("",!0)])])}o(4114);var h=o(586),u={data(){return{password:"",confirmPassword:"",message:"",isError:!1,loading:!1}},methods:{async setPassword(){if(this.message="",this.isError=!1,!this.password||this.password.length<6)return this.message="Password must be at least 6 characters",void(this.isError=!0);if(this.password!==this.confirmPassword)return this.message="Passwords do not match",void(this.isError=!0);const s=this.$route.params.token||this.$route.query.token,r=this.$route.query.email;if(!s||!r)return this.message="Invalid or missing reset information",void(this.isError=!0);this.loading=!0;try{const o=await h.A.post("http://localhost:5000/api/auth/set-password",{token:s,email:r,password:this.password});this.message=o.data.msg||"Password set successfully!",this.isError=!1,setTimeout(()=>{this.$router.push("/login")},2e3)}catch(o){this.message=o.response?.data?.msg||"Error setting password",this.isError=!0}finally{this.loading=!1}}}},p=o(1241);const c=(0,p.A)(u,[["render",l],["__scopeId","data-v-6432771c"]]);var w=c}}]);
//# sourceMappingURL=213.9ce1b2b0.js.map