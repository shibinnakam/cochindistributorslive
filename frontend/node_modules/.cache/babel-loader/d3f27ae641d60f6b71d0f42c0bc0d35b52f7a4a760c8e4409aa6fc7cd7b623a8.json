{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, normalizeClass as _normalizeClass } from \"vue\";\nimport _imports_0 from '@/assets/logo.jpeg';\nconst _hoisted_1 = {\n  class: \"login-container\"\n};\nconst _hoisted_2 = {\n  class: \"login-form-section\"\n};\nconst _hoisted_3 = {\n  class: \"form-title\"\n};\nconst _hoisted_4 = {\n  key: 0\n};\nconst _hoisted_5 = {\n  type: \"submit\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[7] || (_cache[7] = _createElementVNode(\"div\", {\n    class: \"overlay\"\n  }, null, -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", {\n    class: _normalizeClass(['login-box', $data.isFilled ? 'box-filled' : ''])\n  }, [_cache[6] || (_cache[6] = _createElementVNode(\"img\", {\n    src: _imports_0,\n    alt: \"Company Logo\",\n    class: \"logo\"\n  }, null, -1 /* CACHED */)), _createElementVNode(\"h2\", _hoisted_3, _toDisplayString($data.isSignup ? 'Sign Up' : 'Login'), 1 /* TEXT */), _createElementVNode(\"form\", {\n    onSubmit: _cache[4] || (_cache[4] = _withModifiers((...args) => $options.handleSubmit && $options.handleSubmit(...args), [\"prevent\"]))\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    placeholder: \"Email\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.email = $event),\n    onInput: _cache[1] || (_cache[1] = (...args) => $options.checkFilled && $options.checkFilled(...args)),\n    required: \"\"\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $data.email]]), !$data.isSignup ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    placeholder: \"Password\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.password = $event),\n    onInput: _cache[3] || (_cache[3] = (...args) => $options.checkFilled && $options.checkFilled(...args)),\n    required: \"\"\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $data.password]])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"button\", _hoisted_5, _toDisplayString($data.isSignup ? 'Sign Up' : 'Login'), 1 /* TEXT */)], 32 /* NEED_HYDRATION */), _createElementVNode(\"p\", {\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.toggleMode && $options.toggleMode(...args)),\n    class: \"toggle-text\"\n  }, _toDisplayString($data.isSignup ? 'Already have an account? Login' : 'Create an account'), 1 /* TEXT */)], 2 /* CLASS */)])]);\n}","map":{"version":3,"names":["_imports_0","class","type","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_normalizeClass","$data","isFilled","src","alt","_hoisted_3","_toDisplayString","isSignup","onSubmit","_cache","_withModifiers","args","$options","handleSubmit","placeholder","email","$event","onInput","checkFilled","required","_hoisted_4","password","_hoisted_5","onClick","toggleMode"],"sources":["C:\\Users\\LENOVO\\Music\\distribution-agency-project\\frontend\\src\\views\\Login.vue"],"sourcesContent":["<template>\n  <div class=\"login-container\">\n    <div class=\"overlay\"></div>\n\n    <div class=\"login-form-section\">\n      <div :class=\"['login-box', isFilled ? 'box-filled' : '']\">\n        <img src=\"@/assets/logo.jpeg\" alt=\"Company Logo\" class=\"logo\" />\n\n        <h2 class=\"form-title\">{{ isSignup ? 'Sign Up' : 'Login' }}</h2>\n\n        <form @submit.prevent=\"handleSubmit\">\n          <input\n            type=\"email\"\n            placeholder=\"Email\"\n            v-model=\"email\"\n            @input=\"checkFilled\"\n            required\n          />\n\n          <div v-if=\"!isSignup\">\n            <input\n              type=\"password\"\n              placeholder=\"Password\"\n              v-model=\"password\"\n              @input=\"checkFilled\"\n              required\n            />\n          </div>\n\n          <button type=\"submit\">{{ isSignup ? 'Sign Up' : 'Login' }}</button>\n        </form>\n\n        <p @click=\"toggleMode\" class=\"toggle-text\">\n          {{ isSignup ? 'Already have an account? Login' : 'Create an account' }}\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"LoginPage\",\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      isSignup: false,\n      isFilled: false,\n    };\n  },\n  methods: {\n    checkFilled() {\n      this.isFilled = this.email.length > 0 && (!this.isSignup ? this.password.length > 0 : true);\n    },\n    toggleMode() {\n      this.isSignup = !this.isSignup;\n      this.email = \"\";\n      this.password = \"\";\n      this.isFilled = false;\n    },\n    async handleSubmit() {\n      try {\n        if (this.isSignup) {\n          // Step 1: Send only email to backend to trigger \"set password\" email\n          const res = await axios.post(\"http://localhost:5000/auth/send-set-password-email\", {\n            email: this.email,\n          });\n          alert(res.data.message);\n        } else {\n          // Step 2: Login\n          const res = await axios.post(\"http://localhost:5000/auth/login\", {\n            email: this.email,\n            password: this.password,\n          });\n          alert(\"Login Successful\");\n          console.log(res.data);\n        }\n      } catch (error) {\n        alert(error.response?.data?.message || \"Something went wrong\");\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.login-container {\n  position: relative;\n  height: 100vh;\n  background: url(\"@/assets/login-bg.jpg\") no-repeat center center/cover;\n}\n.overlay {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.4);\n}\n.login-form-section {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n}\n.login-box {\n  background: rgba(255, 255, 255, 0.9);\n  padding: 2rem;\n  border-radius: 10px;\n  width: 300px;\n  text-align: center;\n  transition: all 0.3s ease;\n}\n.login-box.box-filled {\n  border: 2px solid lightblue;\n}\n.logo {\n  width: 80px;\n  margin-bottom: 1rem;\n}\n.form-title {\n  margin-bottom: 1rem;\n}\n.toggle-text {\n  margin-top: 1rem;\n  color: blue;\n  cursor: pointer;\n}\n</style>\n"],"mappings":";OAMaA,UAAwB;;EAL9BC,KAAK,EAAC;AAAiB;;EAGrBA,KAAK,EAAC;AAAoB;;EAIvBA,KAAK,EAAC;AAAY;;;;;EAqBZC,IAAI,EAAC;AAAQ;;uBA5B7BC,mBAAA,CAoCM,OApCNC,UAoCM,G,0BAnCJC,mBAAA,CAA2B;IAAtBJ,KAAK,EAAC;EAAS,4BAEpBI,mBAAA,CAgCM,OAhCNC,UAgCM,GA/BJD,mBAAA,CA8BM;IA9BAJ,KAAK,EAAAM,eAAA,eAAgBC,KAAA,CAAAC,QAAQ;gCACjCJ,mBAAA,CAAgE;IAA3DK,GAAwB,EAAxBV,UAAwB;IAACW,GAAG,EAAC,cAAc;IAACV,KAAK,EAAC;8BAEvDI,mBAAA,CAAgE,MAAhEO,UAAgE,EAAAC,gBAAA,CAAtCL,KAAA,CAAAM,QAAQ,wCAElCT,mBAAA,CAoBO;IApBAU,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,YAAA,IAAAD,QAAA,CAAAC,YAAA,IAAAF,IAAA,CAAY;sBACjCb,mBAAA,CAME;IALAH,IAAI,EAAC,OAAO;IACZmB,WAAW,EAAC,OAAO;+DACVb,KAAA,CAAAc,KAAK,GAAAC,MAAA;IACbC,OAAK,EAAAR,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAM,WAAA,IAAAN,QAAA,CAAAM,WAAA,IAAAP,IAAA,CAAW;IACnBQ,QAAQ,EAAR;iEAFSlB,KAAA,CAAAc,KAAK,E,IAKJd,KAAA,CAAAM,QAAQ,I,cAApBX,mBAAA,CAQM,OAAAwB,UAAA,G,gBAPJtB,mBAAA,CAME;IALAH,IAAI,EAAC,UAAU;IACfmB,WAAW,EAAC,UAAU;+DACbb,KAAA,CAAAoB,QAAQ,GAAAL,MAAA;IAChBC,OAAK,EAAAR,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAM,WAAA,IAAAN,QAAA,CAAAM,WAAA,IAAAP,IAAA,CAAW;IACnBQ,QAAQ,EAAR;iEAFSlB,KAAA,CAAAoB,QAAQ,E,0CAMrBvB,mBAAA,CAAmE,UAAnEwB,UAAmE,EAAAhB,gBAAA,CAA1CL,KAAA,CAAAM,QAAQ,uC,4BAGnCT,mBAAA,CAEI;IAFAyB,OAAK,EAAAd,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAY,UAAA,IAAAZ,QAAA,CAAAY,UAAA,IAAAb,IAAA,CAAU;IAAEjB,KAAK,EAAC;sBACxBO,KAAA,CAAAM,QAAQ,0E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}