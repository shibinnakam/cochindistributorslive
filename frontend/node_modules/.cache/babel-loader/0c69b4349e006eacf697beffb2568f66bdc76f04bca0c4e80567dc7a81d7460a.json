{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"category-container\"\n};\nconst _hoisted_2 = {\n  class: \"category-table\"\n};\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = [\"onClick\"];\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = [\"onClick\"];\nconst _hoisted_7 = {\n  key: 0,\n  class: \"modal-overlay\"\n};\nconst _hoisted_8 = {\n  class: \"modal\"\n};\nconst _hoisted_9 = {\n  class: \"modal-actions\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[11] || (_cache[11] = _createElementVNode(\"h2\", null, \"Category Management\", -1 /* CACHED */)), _createCommentVNode(\" Add Form \"), _createElementVNode(\"form\", {\n    onSubmit: _cache[1] || (_cache[1] = _withModifiers((...args) => $options.addCategory && $options.addCategory(...args), [\"prevent\"])),\n    class: \"add-form\"\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.name = $event),\n    type: \"text\",\n    placeholder: \"Enter category name\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.name]]), _cache[6] || (_cache[6] = _createElementVNode(\"button\", {\n    type: \"submit\"\n  }, \"+ Add New Category\", -1 /* CACHED */))], 32 /* NEED_HYDRATION */), _createCommentVNode(\" Table \"), _createElementVNode(\"table\", _hoisted_2, [_cache[8] || (_cache[8] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Category Name\"), _createElementVNode(\"th\", null, \"Status\"), _createElementVNode(\"th\", null, \"Last Updated\"), _createElementVNode(\"th\", null, \"Actions\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.categories, cat => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: cat._id\n    }, [_createElementVNode(\"td\", null, [$data.editId !== cat._id ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, _toDisplayString(cat.name), 1 /* TEXT */)) : _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n      key: 1,\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.editName = $event),\n      type: \"text\",\n      placeholder: \"Update category\"\n    }, null, 512 /* NEED_PATCH */)), [[_vModelText, $data.editName]])]), _cache[7] || (_cache[7] = _createElementVNode(\"td\", null, [_createElementVNode(\"span\", {\n      class: \"published\"\n    }, \"Published\")], -1 /* CACHED */)), _createElementVNode(\"td\", null, _toDisplayString($options.formatDate(cat.updatedAt)), 1 /* TEXT */), _createElementVNode(\"td\", null, [$data.editId !== cat._id ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      onClick: $event => $options.startEdit(cat),\n      class: \"btn-icon edit\"\n    }, \" Edit \", 8 /* PROPS */, _hoisted_4)) : _createCommentVNode(\"v-if\", true), $data.editId === cat._id ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 1,\n      onClick: $event => $options.updateCategory(cat._id),\n      class: \"btn-icon save\"\n    }, \" Save \", 8 /* PROPS */, _hoisted_5)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"button\", {\n      onClick: $event => $options.openDeleteModal(cat._id),\n      class: \"btn-icon delete\"\n    }, \" Delete \", 8 /* PROPS */, _hoisted_6)])]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createCommentVNode(\" Delete Confirmation Modal \"), $data.showDeleteModal ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"button\", {\n    class: \"close-btn\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.closeDeleteModal && $options.closeDeleteModal(...args))\n  }, \"âœ–\"), _cache[9] || (_cache[9] = _createElementVNode(\"h3\", null, \"Are you sure you want to permanently delete this category?\", -1 /* CACHED */)), _cache[10] || (_cache[10] = _createElementVNode(\"p\", null, \"This change cannot be undone.\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"button\", {\n    class: \"cancel\",\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.closeDeleteModal && $options.closeDeleteModal(...args))\n  }, \"Cancel\"), _createElementVNode(\"button\", {\n    class: \"confirm\",\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.confirmDelete && $options.confirmDelete(...args))\n  }, \"Delete\")])])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_createCommentVNode","onSubmit","_cache","_withModifiers","args","$options","addCategory","$data","name","$event","type","placeholder","required","_hoisted_2","_Fragment","_renderList","categories","cat","key","_id","editId","_hoisted_3","_toDisplayString","editName","formatDate","updatedAt","onClick","startEdit","_hoisted_4","updateCategory","_hoisted_5","openDeleteModal","_hoisted_6","showDeleteModal","_hoisted_7","_hoisted_8","closeDeleteModal","_hoisted_9","confirmDelete"],"sources":["C:\\Users\\LENOVO\\Music\\OneDrive\\Pictures\\distribution-agency-project\\frontend\\src\\views\\AddCategory.vue"],"sourcesContent":["<template>\r\n  <div class=\"category-container\">\r\n    <h2>Category Management</h2>\r\n\r\n    <!-- Add Form -->\r\n    <form @submit.prevent=\"addCategory\" class=\"add-form\">\r\n      <input\r\n        v-model=\"name\"\r\n        type=\"text\"\r\n        placeholder=\"Enter category name\"\r\n        required\r\n      />\r\n      <button type=\"submit\">+ Add New Category</button>\r\n    </form>\r\n\r\n    <!-- Table -->\r\n    <table class=\"category-table\">\r\n      <thead>\r\n        <tr>\r\n          <th>Category Name</th>\r\n          <th>Status</th>\r\n          <th>Last Updated</th>\r\n          <th>Actions</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"cat in categories\" :key=\"cat._id\">\r\n          <td>\r\n            <span v-if=\"editId !== cat._id\">{{ cat.name }}</span>\r\n            <input\r\n              v-else\r\n              v-model=\"editName\"\r\n              type=\"text\"\r\n              placeholder=\"Update category\"\r\n            />\r\n          </td>\r\n          <td><span class=\"published\">Published</span></td>\r\n          <td>{{ formatDate(cat.updatedAt) }}</td>\r\n          <td>\r\n            <button\r\n              v-if=\"editId !== cat._id\"\r\n              @click=\"startEdit(cat)\"\r\n              class=\"btn-icon edit\"\r\n            >\r\n              Edit\r\n            </button>\r\n\r\n            <button\r\n              v-if=\"editId === cat._id\"\r\n              @click=\"updateCategory(cat._id)\"\r\n              class=\"btn-icon save\"\r\n            >\r\n              Save\r\n            </button>\r\n\r\n            <button @click=\"openDeleteModal(cat._id)\" class=\"btn-icon delete\">\r\n              Delete\r\n            </button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <!-- Delete Confirmation Modal -->\r\n    <div v-if=\"showDeleteModal\" class=\"modal-overlay\">\r\n      <div class=\"modal\">\r\n        <button class=\"close-btn\" @click=\"closeDeleteModal\">âœ–</button>\r\n        <h3>Are you sure you want to permanently delete this category?</h3>\r\n        <p>This change cannot be undone.</p>\r\n        <div class=\"modal-actions\">\r\n          <button class=\"cancel\" @click=\"closeDeleteModal\">Cancel</button>\r\n          <button class=\"confirm\" @click=\"confirmDelete\">Delete</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      name: \"\",\r\n      categories: [],\r\n      editId: null,\r\n      editName: \"\",\r\n      showDeleteModal: false,\r\n      deleteId: null,\r\n    };\r\n  },\r\n  methods: {\r\n    async fetchCategories() {\r\n      try {\r\n        const res = await axios.get(\"http://localhost:5000/api/categories\");\r\n        this.categories = res.data;\r\n      } catch (err) {\r\n        console.error(\"Error fetching categories:\", err);\r\n      }\r\n    },\r\n    async addCategory() {\r\n      try {\r\n        const res = await axios.post(\"http://localhost:5000/api/categories\", {\r\n          name: this.name,\r\n        });\r\n        this.categories.unshift(res.data);\r\n        this.name = \"\";\r\n      } catch (err) {\r\n        alert(err.response?.data?.error || \"Error adding category\");\r\n      }\r\n    },\r\n    startEdit(cat) {\r\n      this.editId = cat._id;\r\n      this.editName = cat.name;\r\n    },\r\n    async updateCategory(id) {\r\n      try {\r\n        const res = await axios.put(\r\n          `http://localhost:5000/api/categories/${id}`,\r\n          {\r\n            name: this.editName,\r\n          }\r\n        );\r\n        const index = this.categories.findIndex((c) => c._id === id);\r\n        if (index !== -1) this.categories[index] = res.data;\r\n        this.editId = null;\r\n        this.editName = \"\";\r\n      } catch (err) {\r\n        alert(err.response?.data?.error || \"Error updating category\");\r\n      }\r\n    },\r\n\r\n    // ðŸ”´ Open Modal\r\n    openDeleteModal(id) {\r\n      this.deleteId = id;\r\n      this.showDeleteModal = true;\r\n    },\r\n    closeDeleteModal() {\r\n      this.showDeleteModal = false;\r\n      this.deleteId = null;\r\n    },\r\n    async confirmDelete() {\r\n      try {\r\n        await axios.delete(\r\n          `http://localhost:5000/api/categories/${this.deleteId}`\r\n        );\r\n        this.categories = this.categories.filter(\r\n          (c) => c._id !== this.deleteId\r\n        );\r\n        this.closeDeleteModal();\r\n      } catch (err) {\r\n        alert(err.response?.data?.error || \"Error deleting category\");\r\n      }\r\n    },\r\n\r\n    formatDate(date) {\r\n      return new Date(date).toLocaleString();\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchCategories();\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n/* --- Table Styles --- */\r\n.category-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  margin-top: 20px;\r\n  font-family: Arial, sans-serif;\r\n  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.1);\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n}\r\n\r\n.category-table thead {\r\n  background: #f8f9fa; /* Light grey like screenshot */\r\n  color: #333; /* Dark text */\r\n  font-weight: 600;\r\n  text-align: left;\r\n  border-bottom: 2px solid #dee2e6; /* subtle border */\r\n}\r\n.category-table th {\r\n  padding: 14px 18px;\r\n  font-size: 15px;\r\n}\r\n.category-table td {\r\n  padding: 12px 16px;\r\n}\r\n\r\n.category-table tbody tr {\r\n  border-bottom: 1px solid #ddd;\r\n  transition: background 0.2s ease;\r\n  background: #fff;\r\n}\r\n\r\n.category-table tbody tr:hover {\r\n  background: #f9f9f9;\r\n}\r\n\r\n/* Published Status Badge */\r\n.published {\r\n  background: #2ecc71;\r\n  color: #fff;\r\n  padding: 4px 10px;\r\n  border-radius: 6px;\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n}\r\n\r\n/* --- Buttons (Edit, Save, Delete) --- */\r\n.btn-icon {\r\n  border: none;\r\n  padding: 6px 16px;\r\n  margin-right: 6px;\r\n  border-radius: 6px;\r\n  color: #fff;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  background: linear-gradient(135deg, #34495e, #2c3e50);\r\n  transition: transform 0.2s ease, opacity 0.2s ease;\r\n  font-size: 14px;\r\n}\r\n\r\n.btn-icon:hover {\r\n  transform: translateY(-2px);\r\n  opacity: 0.9;\r\n}\r\n\r\n/* Remove icons inside buttons, keep text only */\r\n.btn-icon.edit::before,\r\n.btn-icon.save::before,\r\n.btn-icon.delete::before {\r\n  content: \"\";\r\n}\r\n\r\n/* Add New Category button style */\r\n.add-form button {\r\n  background: linear-gradient(135deg, #34495e, #2c3e50);\r\n  color: #fff;\r\n  border: none;\r\n  padding: 8px 18px;\r\n  border-radius: 6px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: transform 0.2s ease, opacity 0.2s ease;\r\n}\r\n\r\n.add-form button:hover {\r\n  transform: translateY(-2px);\r\n  opacity: 0.9;\r\n}\r\n\r\n/* --- Modal Styles --- */\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.55);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 999;\r\n}\r\n\r\n.modal {\r\n  background: #fff;\r\n  padding: 24px;\r\n  border-radius: 10px;\r\n  width: 420px;\r\n  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.2);\r\n  text-align: center;\r\n  position: relative;\r\n}\r\n\r\n.modal h3 {\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  margin-bottom: 8px;\r\n  color: #333;\r\n}\r\n\r\n.modal p {\r\n  font-size: 14px;\r\n  color: #666;\r\n  margin-bottom: 18px;\r\n}\r\n\r\n.modal-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 12px;\r\n}\r\n\r\n.cancel {\r\n  background: transparent;\r\n  border: none;\r\n  color: #555;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  padding: 8px 14px;\r\n}\r\n\r\n.confirm {\r\n  background: #e74c3c;\r\n  border: none;\r\n  color: #fff;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  padding: 8px 16px;\r\n  border-radius: 6px;\r\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.12);\r\n  transition: all 0.2s ease-in-out;\r\n}\r\n.confirm:hover {\r\n  background: #c0392b;\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.close-btn {\r\n  position: absolute;\r\n  top: 12px;\r\n  right: 12px;\r\n  background: transparent;\r\n  border: none;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  color: #888;\r\n}\r\n.close-btn:hover {\r\n  color: #333;\r\n}\r\n</style>\r\n"],"mappings":";;EACOA,KAAK,EAAC;AAAoB;;EAetBA,KAAK,EAAC;AAAgB;;;;;;;;;EAgDDA,KAAK,EAAC;;;EAC3BA,KAAK,EAAC;AAAO;;EAIXA,KAAK,EAAC;AAAe;;uBApEhCC,mBAAA,CA0EM,OA1ENC,UA0EM,G,4BAzEJC,mBAAA,CAA4B,YAAxB,qBAAmB,qBAEvBC,mBAAA,cAAiB,EACjBD,mBAAA,CAQO;IARAE,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,WAAA,IAAAD,QAAA,CAAAC,WAAA,IAAAF,IAAA,CAAW;IAAER,KAAK,EAAC;sBACxCG,mBAAA,CAKE;+DAJSQ,KAAA,CAAAC,IAAI,GAAAC,MAAA;IACbC,IAAI,EAAC,MAAM;IACXC,WAAW,EAAC,qBAAqB;IACjCC,QAAQ,EAAR;iDAHSL,KAAA,CAAAC,IAAI,E,6BAKfT,mBAAA,CAAiD;IAAzCW,IAAI,EAAC;EAAQ,GAAC,oBAAkB,oB,4BAG1CV,mBAAA,WAAc,EACdD,mBAAA,CA6CQ,SA7CRc,UA6CQ,G,0BA5CNd,mBAAA,CAOQ,gBANNA,mBAAA,CAKK,aAJHA,mBAAA,CAAsB,YAAlB,eAAa,GACjBA,mBAAA,CAAe,YAAX,QAAM,GACVA,mBAAA,CAAqB,YAAjB,cAAY,GAChBA,mBAAA,CAAgB,YAAZ,SAAO,E,uBAGfA,mBAAA,CAmCQ,iB,kBAlCNF,mBAAA,CAiCKiB,SAAA,QAAAC,WAAA,CAjCaR,KAAA,CAAAS,UAAU,EAAjBC,GAAG;yBAAdpB,mBAAA,CAiCK;MAjC0BqB,GAAG,EAAED,GAAG,CAACE;QACtCpB,mBAAA,CAQK,aAPSQ,KAAA,CAAAa,MAAM,KAAKH,GAAG,CAACE,GAAG,I,cAA9BtB,mBAAA,CAAqD,QAAAwB,UAAA,EAAAC,gBAAA,CAAlBL,GAAG,CAACT,IAAI,oB,+BAC3CX,mBAAA,CAKE;;iEAHSU,KAAA,CAAAgB,QAAQ,GAAAd,MAAA;MACjBC,IAAI,EAAC,MAAM;MACXC,WAAW,EAAC;oDAFHJ,KAAA,CAAAgB,QAAQ,E,+BAKrBxB,mBAAA,CAAiD,aAA7CA,mBAAA,CAAwC;MAAlCH,KAAK,EAAC;IAAW,GAAC,WAAS,E,qBACrCG,mBAAA,CAAwC,YAAAuB,gBAAA,CAAjCjB,QAAA,CAAAmB,UAAU,CAACP,GAAG,CAACQ,SAAS,mBAC/B1B,mBAAA,CAoBK,aAlBKQ,KAAA,CAAAa,MAAM,KAAKH,GAAG,CAACE,GAAG,I,cAD1BtB,mBAAA,CAMS;;MAJN6B,OAAK,EAAAjB,MAAA,IAAEJ,QAAA,CAAAsB,SAAS,CAACV,GAAG;MACrBrB,KAAK,EAAC;OACP,QAED,iBAAAgC,UAAA,K,mCAGQrB,KAAA,CAAAa,MAAM,KAAKH,GAAG,CAACE,GAAG,I,cAD1BtB,mBAAA,CAMS;;MAJN6B,OAAK,EAAAjB,MAAA,IAAEJ,QAAA,CAAAwB,cAAc,CAACZ,GAAG,CAACE,GAAG;MAC9BvB,KAAK,EAAC;OACP,QAED,iBAAAkC,UAAA,K,mCAEA/B,mBAAA,CAES;MAFA2B,OAAK,EAAAjB,MAAA,IAAEJ,QAAA,CAAA0B,eAAe,CAACd,GAAG,CAACE,GAAG;MAAGvB,KAAK,EAAC;OAAkB,UAElE,iBAAAoC,UAAA,E;sCAMRhC,mBAAA,+BAAkC,EACvBO,KAAA,CAAA0B,eAAe,I,cAA1BpC,mBAAA,CAUM,OAVNqC,UAUM,GATJnC,mBAAA,CAQM,OARNoC,UAQM,GAPJpC,mBAAA,CAA8D;IAAtDH,KAAK,EAAC,WAAW;IAAE8B,OAAK,EAAAxB,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAA+B,gBAAA,IAAA/B,QAAA,CAAA+B,gBAAA,IAAAhC,IAAA,CAAgB;KAAE,GAAC,G,0BACrDL,mBAAA,CAAmE,YAA/D,4DAA0D,qB,4BAC9DA,mBAAA,CAAoC,WAAjC,+BAA6B,qBAChCA,mBAAA,CAGM,OAHNsC,UAGM,GAFJtC,mBAAA,CAAgE;IAAxDH,KAAK,EAAC,QAAQ;IAAE8B,OAAK,EAAAxB,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAA+B,gBAAA,IAAA/B,QAAA,CAAA+B,gBAAA,IAAAhC,IAAA,CAAgB;KAAE,QAAM,GACvDL,mBAAA,CAA8D;IAAtDH,KAAK,EAAC,SAAS;IAAE8B,OAAK,EAAAxB,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAiC,aAAA,IAAAjC,QAAA,CAAAiC,aAAA,IAAAlC,IAAA,CAAa;KAAE,QAAM,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}