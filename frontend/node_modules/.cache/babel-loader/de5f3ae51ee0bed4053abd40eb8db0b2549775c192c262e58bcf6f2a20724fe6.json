{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      password: \"\",\n      confirmPassword: \"\",\n      message: \"\",\n      isError: false,\n      loading: false\n    };\n  },\n  methods: {\n    async setPassword() {\n      this.message = \"\";\n      this.isError = false;\n      if (!this.password || this.password.length < 6) {\n        this.message = \"Password must be at least 6 characters\";\n        this.isError = true;\n        return;\n      }\n      if (this.password !== this.confirmPassword) {\n        this.message = \"Passwords do not match\";\n        this.isError = true;\n        return;\n      }\n      const token = this.$route.query.token;\n      if (!token) {\n        this.message = \"Invalid or missing reset token\";\n        this.isError = true;\n        return;\n      }\n      this.loading = true;\n      try {\n        const res = await axios.post(`${process.env.VUE_APP_API_URL}/api/auth/reset-password`, {\n          token,\n          password: this.password\n        });\n        this.message = res.data.msg || \"Password set successfully!\";\n        this.isError = false;\n\n        // Redirect after 2 seconds\n        setTimeout(() => {\n          this.$router.push(\"/login\");\n        }, 2000);\n      } catch (err) {\n        this.message = err.response?.data?.msg || \"Error setting password\";\n        this.isError = true;\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","password","confirmPassword","message","isError","loading","methods","setPassword","length","token","$route","query","res","post","process","env","VUE_APP_API_URL","msg","setTimeout","$router","push","err","response"],"sources":["C:\\Users\\LENOVO\\Music\\distribution-agency-project\\frontend\\src\\views\\SetPassword.vue"],"sourcesContent":["<template>\n  <div class=\"set-password\">\n    <h2>Set Your Password</h2>\n    <input\n      v-model=\"password\"\n      type=\"password\"\n      placeholder=\"Enter new password\"\n    />\n    <input\n      v-model=\"confirmPassword\"\n      type=\"password\"\n      placeholder=\"Confirm password\"\n    />\n    <button :disabled=\"loading\" @click=\"setPassword\">\n      {{ loading ? \"Setting...\" : \"Set Password\" }}\n    </button>\n    <p v-if=\"message\" :class=\"{ error: isError, success: !isError }\">\n      {{ message }}\n    </p>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      password: \"\",\n      confirmPassword: \"\",\n      message: \"\",\n      isError: false,\n      loading: false,\n    };\n  },\n  methods: {\n    async setPassword() {\n      this.message = \"\";\n      this.isError = false;\n\n      if (!this.password || this.password.length < 6) {\n        this.message = \"Password must be at least 6 characters\";\n        this.isError = true;\n        return;\n      }\n\n      if (this.password !== this.confirmPassword) {\n        this.message = \"Passwords do not match\";\n        this.isError = true;\n        return;\n      }\n\n      const token = this.$route.query.token;\n      if (!token) {\n        this.message = \"Invalid or missing reset token\";\n        this.isError = true;\n        return;\n      }\n\n      this.loading = true;\n      try {\n        const res = await axios.post(\n          `${process.env.VUE_APP_API_URL}/api/auth/reset-password`,\n          { token, password: this.password }\n        );\n        this.message = res.data.msg || \"Password set successfully!\";\n        this.isError = false;\n\n        // Redirect after 2 seconds\n        setTimeout(() => {\n          this.$router.push(\"/login\");\n        }, 2000);\n      } catch (err) {\n        this.message = err.response?.data?.msg || \"Error setting password\";\n        this.isError = true;\n      } finally {\n        this.loading = false;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.set-password {\n  max-width: 400px;\n  margin: auto;\n  padding: 1rem;\n}\n.error {\n  color: red;\n}\n.success {\n  color: green;\n}\n</style>\n"],"mappings":";AAuBA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,eAAe,EAAE,EAAE;MACnBC,OAAO,EAAE,EAAE;MACXC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAE;IACX,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,WAAWA,CAAA,EAAG;MAClB,IAAI,CAACJ,OAAM,GAAI,EAAE;MACjB,IAAI,CAACC,OAAM,GAAI,KAAK;MAEpB,IAAI,CAAC,IAAI,CAACH,QAAO,IAAK,IAAI,CAACA,QAAQ,CAACO,MAAK,GAAI,CAAC,EAAE;QAC9C,IAAI,CAACL,OAAM,GAAI,wCAAwC;QACvD,IAAI,CAACC,OAAM,GAAI,IAAI;QACnB;MACF;MAEA,IAAI,IAAI,CAACH,QAAO,KAAM,IAAI,CAACC,eAAe,EAAE;QAC1C,IAAI,CAACC,OAAM,GAAI,wBAAwB;QACvC,IAAI,CAACC,OAAM,GAAI,IAAI;QACnB;MACF;MAEA,MAAMK,KAAI,GAAI,IAAI,CAACC,MAAM,CAACC,KAAK,CAACF,KAAK;MACrC,IAAI,CAACA,KAAK,EAAE;QACV,IAAI,CAACN,OAAM,GAAI,gCAAgC;QAC/C,IAAI,CAACC,OAAM,GAAI,IAAI;QACnB;MACF;MAEA,IAAI,CAACC,OAAM,GAAI,IAAI;MACnB,IAAI;QACF,MAAMO,GAAE,GAAI,MAAMb,KAAK,CAACc,IAAI,CAC1B,GAAGC,OAAO,CAACC,GAAG,CAACC,eAAe,0BAA0B,EACxD;UAAEP,KAAK;UAAER,QAAQ,EAAE,IAAI,CAACA;QAAS,CACnC,CAAC;QACD,IAAI,CAACE,OAAM,GAAIS,GAAG,CAACZ,IAAI,CAACiB,GAAE,IAAK,4BAA4B;QAC3D,IAAI,CAACb,OAAM,GAAI,KAAK;;QAEpB;QACAc,UAAU,CAAC,MAAM;UACf,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;QAC7B,CAAC,EAAE,IAAI,CAAC;MACV,EAAE,OAAOC,GAAG,EAAE;QACZ,IAAI,CAAClB,OAAM,GAAIkB,GAAG,CAACC,QAAQ,EAAEtB,IAAI,EAAEiB,GAAE,IAAK,wBAAwB;QAClE,IAAI,CAACb,OAAM,GAAI,IAAI;MACrB,UAAU;QACR,IAAI,CAACC,OAAM,GAAI,KAAK;MACtB;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}