{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"category-wrapper\"\n};\nconst _hoisted_2 = {\n  class: \"header\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"form-box\"\n};\nconst _hoisted_4 = {\n  class: \"category-table\"\n};\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Search & Add \"), _createElementVNode(\"div\", _hoisted_2, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.searchQuery = $event),\n    type: \"text\",\n    placeholder: \"Search Categories\",\n    class: \"search-box\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.searchQuery]]), _createElementVNode(\"button\", {\n    class: \"add-btn\",\n    onClick: _cache[1] || (_cache[1] = $event => $data.showForm = !$data.showForm)\n  }, \" + Add New Category \")]), _createCommentVNode(\" Add / Update Form \"), $data.showForm ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.newCategory = $event),\n    type: \"text\",\n    placeholder: \"Enter category name\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newCategory]]), !$data.editingId ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.addCategory && $options.addCategory(...args))\n  }, \"Save\")) : (_openBlock(), _createElementBlock(\"button\", {\n    key: 1,\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.updateCategory && $options.updateCategory(...args))\n  }, \"Update\"))])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Category Table \"), _createElementVNode(\"table\", _hoisted_4, [_cache[6] || (_cache[6] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Category Name\"), _createElementVNode(\"th\", null, \"Status\"), _createElementVNode(\"th\", null, \"Last Updated\"), _createElementVNode(\"th\", null, \"Actions\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredCategories, cat => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: cat._id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(cat.name), 1 /* TEXT */), _cache[5] || (_cache[5] = _createElementVNode(\"td\", {\n      class: \"published\"\n    }, \"Published\", -1 /* CACHED */)), _createElementVNode(\"td\", null, _toDisplayString($options.formatDate(cat.updatedAt)), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      class: \"update-btn\",\n      onClick: $event => $options.editCategory(cat)\n    }, \" Update \", 8 /* PROPS */, _hoisted_5), _createElementVNode(\"button\", {\n      class: \"delete-btn\",\n      onClick: $event => $options.deleteCategory(cat._id)\n    }, \" Delete \", 8 /* PROPS */, _hoisted_6)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","$data","searchQuery","$event","type","placeholder","onClick","_cache","showForm","_hoisted_3","newCategory","editingId","args","$options","addCategory","updateCategory","_hoisted_4","_Fragment","_renderList","filteredCategories","cat","key","_id","_toDisplayString","name","formatDate","updatedAt","editCategory","_hoisted_5","deleteCategory","_hoisted_6"],"sources":["C:\\Users\\LENOVO\\Music\\distribution-agency-project\\frontend\\src\\views\\AddCategory.vue"],"sourcesContent":["<template>\n  <div class=\"category-wrapper\">\n    <!-- Search & Add -->\n    <div class=\"header\">\n      <input\n        v-model=\"searchQuery\"\n        type=\"text\"\n        placeholder=\"Search Categories\"\n        class=\"search-box\"\n      />\n      <button class=\"add-btn\" @click=\"showForm = !showForm\">\n        + Add New Category\n      </button>\n    </div>\n\n    <!-- Add / Update Form -->\n    <div v-if=\"showForm\" class=\"form-box\">\n      <input\n        v-model=\"newCategory\"\n        type=\"text\"\n        placeholder=\"Enter category name\"\n      />\n      <button v-if=\"!editingId\" @click=\"addCategory\">Save</button>\n      <button v-else @click=\"updateCategory\">Update</button>\n    </div>\n\n    <!-- Category Table -->\n    <table class=\"category-table\">\n      <thead>\n        <tr>\n          <th>Category Name</th>\n          <th>Status</th>\n          <th>Last Updated</th>\n          <th>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"cat in filteredCategories\" :key=\"cat._id\">\n          <td>{{ cat.name }}</td>\n          <td class=\"published\">Published</td>\n          <td>{{ formatDate(cat.updatedAt) }}</td>\n          <td>\n            <button class=\"update-btn\" @click=\"editCategory(cat)\">\n              Update\n            </button>\n            <button class=\"delete-btn\" @click=\"deleteCategory(cat._id)\">\n              Delete\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"CategoryList\",\n  data() {\n    return {\n      categories: [],\n      searchQuery: \"\",\n      newCategory: \"\",\n      showForm: false,\n      editingId: null,\n    };\n  },\n  computed: {\n    filteredCategories() {\n      return this.categories.filter((c) =>\n        c.name.toLowerCase().includes(this.searchQuery.toLowerCase())\n      );\n    },\n  },\n  methods: {\n    async fetchCategories() {\n      const res = await axios.get(\"http://localhost:5000/api/categories\");\n      this.categories = res.data;\n    },\n    async addCategory() {\n      if (!this.newCategory) return;\n      await axios.post(\"http://localhost:5000/api/categories\", {\n        name: this.newCategory,\n      });\n      this.newCategory = \"\";\n      this.showForm = false;\n      this.fetchCategories();\n    },\n    editCategory(cat) {\n      this.newCategory = cat.name;\n      this.editingId = cat._id;\n      this.showForm = true;\n    },\n    async updateCategory() {\n      if (!this.newCategory || !this.editingId) return;\n      await axios.put(\n        `http://localhost:5000/api/categories/${this.editingId}`,\n        {\n          name: this.newCategory,\n        }\n      );\n      this.newCategory = \"\";\n      this.editingId = null;\n      this.showForm = false;\n      this.fetchCategories();\n    },\n    async deleteCategory(id) {\n      await axios.delete(`http://localhost:5000/api/categories/${id}`);\n      this.fetchCategories();\n    },\n    formatDate(date) {\n      return new Date(date).toLocaleString();\n    },\n  },\n  mounted() {\n    this.fetchCategories();\n  },\n};\n</script>\n\n<style scoped>\n.category-wrapper {\n  width: 90%;\n  margin: auto;\n  font-family: Arial, sans-serif;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  margin: 10px 0;\n}\n\n.search-box {\n  padding: 6px;\n  width: 250px;\n}\n\n.add-btn {\n  background: none;\n  border: none;\n  color: #0073e6;\n  cursor: pointer;\n  font-weight: bold;\n}\n\n.form-box {\n  margin: 10px 0;\n}\n\n.category-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 10px;\n}\n\n.category-table th,\n.category-table td {\n  border: 1px solid #ddd;\n  padding: 8px;\n  text-align: left;\n}\n\n.published {\n  color: green;\n  font-weight: bold;\n}\n\n.update-btn {\n  background-color: #007bff;\n  color: white;\n  border: none;\n  padding: 4px 8px;\n  margin-right: 5px;\n  cursor: pointer;\n}\n\n.delete-btn {\n  background-color: #dc3545;\n  color: white;\n  border: none;\n  padding: 4px 8px;\n  cursor: pointer;\n}\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAkB;;EAEtBA,KAAK,EAAC;AAAQ;;;EAaEA,KAAK,EAAC;;;EAWpBA,KAAK,EAAC;AAAgB;;;;uBA1B/BC,mBAAA,CAmDM,OAnDNC,UAmDM,GAlDJC,mBAAA,kBAAqB,EACrBC,mBAAA,CAUM,OAVNC,UAUM,G,gBATJD,mBAAA,CAKE;+DAJSE,KAAA,CAAAC,WAAW,GAAAC,MAAA;IACpBC,IAAI,EAAC,MAAM;IACXC,WAAW,EAAC,mBAAmB;IAC/BV,KAAK,EAAC;iDAHGM,KAAA,CAAAC,WAAW,E,GAKtBH,mBAAA,CAES;IAFDJ,KAAK,EAAC,SAAS;IAAEW,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAJ,MAAA,IAAEF,KAAA,CAAAO,QAAQ,IAAIP,KAAA,CAAAO,QAAQ;KAAE,sBAEtD,E,GAGFV,mBAAA,uBAA0B,EACfG,KAAA,CAAAO,QAAQ,I,cAAnBZ,mBAAA,CAQM,OARNa,UAQM,G,gBAPJV,mBAAA,CAIE;+DAHSE,KAAA,CAAAS,WAAW,GAAAP,MAAA;IACpBC,IAAI,EAAC,MAAM;IACXC,WAAW,EAAC;iDAFHJ,KAAA,CAAAS,WAAW,E,IAIPT,KAAA,CAAAU,SAAS,I,cAAxBf,mBAAA,CAA4D;;IAAjCU,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAK,IAAA,KAAEC,QAAA,CAAAC,WAAA,IAAAD,QAAA,CAAAC,WAAA,IAAAF,IAAA,CAAW;KAAE,MAAI,M,cACnDhB,mBAAA,CAAsD;;IAAtCU,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAK,IAAA,KAAEC,QAAA,CAAAE,cAAA,IAAAF,QAAA,CAAAE,cAAA,IAAAH,IAAA,CAAc;KAAE,QAAM,G,wCAG/Cd,mBAAA,oBAAuB,EACvBC,mBAAA,CAwBQ,SAxBRiB,UAwBQ,G,0BAvBNjB,mBAAA,CAOQ,gBANNA,mBAAA,CAKK,aAJHA,mBAAA,CAAsB,YAAlB,eAAa,GACjBA,mBAAA,CAAe,YAAX,QAAM,GACVA,mBAAA,CAAqB,YAAjB,cAAY,GAChBA,mBAAA,CAAgB,YAAZ,SAAO,E,uBAGfA,mBAAA,CAcQ,iB,kBAbNH,mBAAA,CAYKqB,SAAA,QAAAC,WAAA,CAZaL,QAAA,CAAAM,kBAAkB,EAAzBC,GAAG;yBAAdxB,mBAAA,CAYK;MAZkCyB,GAAG,EAAED,GAAG,CAACE;QAC9CvB,mBAAA,CAAuB,YAAAwB,gBAAA,CAAhBH,GAAG,CAACI,IAAI,kB,0BACfzB,mBAAA,CAAoC;MAAhCJ,KAAK,EAAC;IAAW,GAAC,WAAS,qBAC/BI,mBAAA,CAAwC,YAAAwB,gBAAA,CAAjCV,QAAA,CAAAY,UAAU,CAACL,GAAG,CAACM,SAAS,mBAC/B3B,mBAAA,CAOK,aANHA,mBAAA,CAES;MAFDJ,KAAK,EAAC,YAAY;MAAEW,OAAK,EAAAH,MAAA,IAAEU,QAAA,CAAAc,YAAY,CAACP,GAAG;OAAG,UAEtD,iBAAAQ,UAAA,GACA7B,mBAAA,CAES;MAFDJ,KAAK,EAAC,YAAY;MAAEW,OAAK,EAAAH,MAAA,IAAEU,QAAA,CAAAgB,cAAc,CAACT,GAAG,CAACE,GAAG;OAAG,UAE5D,iBAAAQ,UAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}