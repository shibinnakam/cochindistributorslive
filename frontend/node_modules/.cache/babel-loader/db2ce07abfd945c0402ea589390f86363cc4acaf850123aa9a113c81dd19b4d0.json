{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, withModifiers as _withModifiers, normalizeClass as _normalizeClass, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"admin-wrapper\"\n};\nconst _hoisted_2 = {\n  class: \"sidebar\"\n};\nconst _hoisted_3 = {\n  class: \"menu\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"message-badge\"\n};\nconst _hoisted_5 = {\n  class: \"main\"\n};\nconst _hoisted_6 = {\n  class: \"header\"\n};\nconst _hoisted_7 = {\n  class: \"admin-menu\"\n};\nconst _hoisted_8 = {\n  class: \"content\"\n};\nconst _hoisted_9 = {\n  key: 0,\n  class: \"page-container\"\n};\nconst _hoisted_10 = {\n  key: 1,\n  class: \"page-container\"\n};\nconst _hoisted_11 = {\n  key: 2,\n  class: \"page-container\"\n};\nconst _hoisted_12 = {\n  key: 3,\n  class: \"page-container\"\n};\nconst _hoisted_13 = {\n  key: 4,\n  class: \"page-container chat-page\"\n};\nconst _hoisted_14 = {\n  key: 0,\n  class: \"loading-dashboard\"\n};\nconst _hoisted_15 = {\n  class: \"card blue\"\n};\nconst _hoisted_16 = {\n  class: \"card orange\"\n};\nconst _hoisted_17 = {\n  class: \"card green\"\n};\nconst _hoisted_18 = {\n  class: \"card purple\"\n};\nconst _hoisted_19 = {\n  class: \"card red\"\n};\nconst _hoisted_20 = {\n  class: \"card teal\"\n};\nconst _hoisted_21 = {\n  class: \"card pink\"\n};\nconst _hoisted_22 = {\n  class: \"modal-header\"\n};\nconst _hoisted_23 = {\n  class: \"modal-header\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ProductCategory = _resolveComponent(\"ProductCategory\");\n  const _component_StaffManagement = _resolveComponent(\"StaffManagement\");\n  const _component_AdminLeaves = _resolveComponent(\"AdminLeaves\");\n  const _component_ProductList = _resolveComponent(\"ProductList\");\n  const _component_ChatWindow = _resolveComponent(\"ChatWindow\");\n  const _component_AddProduct = _resolveComponent(\"AddProduct\");\n  const _component_ProductEdit = _resolveComponent(\"ProductEdit\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Sidebar \"), _createElementVNode(\"aside\", _hoisted_2, [_cache[22] || (_cache[22] = _createElementVNode(\"div\", {\n    class: \"sidebar-title\"\n  }, \"Distribution Agency\", -1 /* CACHED */)), _createElementVNode(\"ul\", _hoisted_3, [_createElementVNode(\"li\", null, [_createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[0] || (_cache[0] = _withModifiers($event => $data.selectedMenu = 'dashboard', [\"prevent\"])),\n    class: _normalizeClass({\n      active: $data.selectedMenu === 'dashboard'\n    })\n  }, _cache[14] || (_cache[14] = [_createElementVNode(\"span\", {\n    class: \"menu-icon\"\n  }, \"üìä\", -1 /* CACHED */), _createElementVNode(\"span\", {\n    class: \"menu-text\"\n  }, \"Dashboard\", -1 /* CACHED */)]), 2 /* CLASS */)]), _createElementVNode(\"li\", null, [_createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[1] || (_cache[1] = _withModifiers($event => $data.showAddProductModal = true, [\"prevent\"])),\n    class: _normalizeClass({\n      active: $data.showAddProductModal\n    })\n  }, _cache[15] || (_cache[15] = [_createElementVNode(\"span\", {\n    class: \"menu-icon\"\n  }, \"‚ûï\", -1 /* CACHED */), _createElementVNode(\"span\", {\n    class: \"menu-text\"\n  }, \"Add Products\", -1 /* CACHED */)]), 2 /* CLASS */)]), _createElementVNode(\"li\", null, [_createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[2] || (_cache[2] = _withModifiers($event => $data.selectedMenu = 'addCategory', [\"prevent\"])),\n    class: _normalizeClass({\n      active: $data.selectedMenu === 'addCategory'\n    })\n  }, _cache[16] || (_cache[16] = [_createElementVNode(\"span\", {\n    class: \"menu-icon\"\n  }, \"üè∑Ô∏è\", -1 /* CACHED */), _createElementVNode(\"span\", {\n    class: \"menu-text\"\n  }, \"Add Category\", -1 /* CACHED */)]), 2 /* CLASS */)]), _createElementVNode(\"li\", null, [_createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[3] || (_cache[3] = _withModifiers($event => $data.selectedMenu = 'staffManagement', [\"prevent\"])),\n    class: _normalizeClass({\n      active: $data.selectedMenu === 'staffManagement'\n    })\n  }, _cache[17] || (_cache[17] = [_createElementVNode(\"span\", {\n    class: \"menu-icon\"\n  }, \"üë•\", -1 /* CACHED */), _createElementVNode(\"span\", {\n    class: \"menu-text\"\n  }, \"Staff Management\", -1 /* CACHED */)]), 2 /* CLASS */)]), _createElementVNode(\"li\", null, [_createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[4] || (_cache[4] = _withModifiers($event => $data.selectedMenu = 'approve-leaves', [\"prevent\"])),\n    class: _normalizeClass({\n      active: $data.selectedMenu === 'approve-leaves'\n    })\n  }, _cache[18] || (_cache[18] = [_createElementVNode(\"span\", {\n    class: \"menu-icon\"\n  }, \"üìÖ\", -1 /* CACHED */), _createElementVNode(\"span\", {\n    class: \"menu-text\"\n  }, \"Approve Leaves\", -1 /* CACHED */)]), 2 /* CLASS */)]), _createElementVNode(\"li\", null, [_createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[5] || (_cache[5] = _withModifiers($event => $data.selectedMenu = 'listProducts', [\"prevent\"])),\n    class: _normalizeClass({\n      active: $data.selectedMenu === 'listProducts'\n    })\n  }, _cache[19] || (_cache[19] = [_createElementVNode(\"span\", {\n    class: \"menu-icon\"\n  }, \"üìã\", -1 /* CACHED */), _createElementVNode(\"span\", {\n    class: \"menu-text\"\n  }, \"List Products\", -1 /* CACHED */)]), 2 /* CLASS */)]), _createElementVNode(\"li\", null, [_createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[6] || (_cache[6] = _withModifiers($event => $data.selectedMenu = 'chat', [\"prevent\"])),\n    class: _normalizeClass({\n      active: $data.selectedMenu === 'chat'\n    })\n  }, [_cache[20] || (_cache[20] = _createElementVNode(\"span\", {\n    class: \"menu-icon\"\n  }, \"üí¨\", -1 /* CACHED */)), _cache[21] || (_cache[21] = _createElementVNode(\"span\", {\n    class: \"menu-text\"\n  }, \"Messages\", -1 /* CACHED */)), $data.unreadMessageCount > 0 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, _toDisplayString($data.unreadMessageCount), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)], 2 /* CLASS */)])])]), _createCommentVNode(\" Main Content \"), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"header\", _hoisted_6, [_cache[25] || (_cache[25] = _createElementVNode(\"h1\", null, \"Dashboard\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_7, [_cache[24] || (_cache[24] = _createElementVNode(\"span\", {\n    class: \"small\"\n  }, \"Admin User\", -1 /* CACHED */)), _createElementVNode(\"button\", {\n    onClick: _cache[7] || (_cache[7] = (...args) => $options.logout && $options.logout(...args)),\n    class: \"logout-btn\"\n  }, _cache[23] || (_cache[23] = [_createElementVNode(\"i\", null, \"‚èª\", -1 /* CACHED */), _createTextVNode(\" Logout\", -1 /* CACHED */)]))])]), _createElementVNode(\"main\", _hoisted_8, [_createCommentVNode(\" Render Active Component based on Menu Selection \"), $data.selectedMenu === 'addCategory' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_createVNode(_component_ProductCategory)])) : _createCommentVNode(\"v-if\", true), $data.selectedMenu === 'staffManagement' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [_createVNode(_component_StaffManagement)])) : _createCommentVNode(\"v-if\", true), $data.selectedMenu === 'approve-leaves' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [_createVNode(_component_AdminLeaves)])) : _createCommentVNode(\"v-if\", true), $data.selectedMenu === 'listProducts' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [_createVNode(_component_ProductList, {\n    onEdit: $options.openEditProductModal\n  }, null, 8 /* PROPS */, [\"onEdit\"])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Chat Component \"), $data.selectedMenu === 'chat' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [_createVNode(_component_ChatWindow)])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Dashboard Widgets \"), $data.selectedMenu === 'dashboard' || !$data.selectedMenu ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 5\n  }, [$data.dashboardLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, _cache[26] || (_cache[26] = [_createElementVNode(\"p\", null, \"Loading dashboard statistics...\", -1 /* CACHED */)]))) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"h2\", null, _toDisplayString($data.totalProducts), 1 /* TEXT */), _cache[27] || (_cache[27] = _createElementVNode(\"p\", null, \"Total Products\", -1 /* CACHED */)), _cache[28] || (_cache[28] = _createElementVNode(\"div\", {\n    class: \"info\"\n  }, \"Manage inventory & stocks\", -1 /* CACHED */))]), _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"h2\", null, _toDisplayString($data.totalCategories), 1 /* TEXT */), _cache[29] || (_cache[29] = _createElementVNode(\"p\", null, \"Total Categories\", -1 /* CACHED */)), _cache[30] || (_cache[30] = _createElementVNode(\"div\", {\n    class: \"info\"\n  }, \"Organize product categories\", -1 /* CACHED */))]), _createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"h2\", null, _toDisplayString($data.totalStaff), 1 /* TEXT */), _cache[31] || (_cache[31] = _createElementVNode(\"p\", null, \"Total Staff\", -1 /* CACHED */)), _cache[32] || (_cache[32] = _createElementVNode(\"div\", {\n    class: \"info\"\n  }, \"Manage employees & roles\", -1 /* CACHED */))]), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"h2\", null, _toDisplayString($data.activeStaff), 1 /* TEXT */), _cache[33] || (_cache[33] = _createElementVNode(\"p\", null, \"Active Staff\", -1 /* CACHED */)), _cache[34] || (_cache[34] = _createElementVNode(\"div\", {\n    class: \"info\"\n  }, \"Currently active employees\", -1 /* CACHED */))]), _createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"h2\", null, _toDisplayString($data.pendingLeaves), 1 /* TEXT */), _cache[35] || (_cache[35] = _createElementVNode(\"p\", null, \"Pending Leaves\", -1 /* CACHED */)), _cache[36] || (_cache[36] = _createElementVNode(\"div\", {\n    class: \"info\"\n  }, \"Leave requests pending approval\", -1 /* CACHED */))]), _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"h2\", null, _toDisplayString($data.approvedLeaves), 1 /* TEXT */), _cache[37] || (_cache[37] = _createElementVNode(\"p\", null, \"Approved Leaves\", -1 /* CACHED */)), _cache[38] || (_cache[38] = _createElementVNode(\"div\", {\n    class: \"info\"\n  }, \"Approved leave requests\", -1 /* CACHED */))]), _createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"h2\", null, _toDisplayString($data.totalInventory), 1 /* TEXT */), _cache[39] || (_cache[39] = _createElementVNode(\"p\", null, \"Total Inventory\", -1 /* CACHED */)), _cache[40] || (_cache[40] = _createElementVNode(\"div\", {\n    class: \"info\"\n  }, \"Total items in stock\", -1 /* CACHED */))])], 64 /* STABLE_FRAGMENT */))], 64 /* STABLE_FRAGMENT */)) : _createCommentVNode(\"v-if\", true)])]), _createCommentVNode(\" Add Product Modal \"), $data.showAddProductModal ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"modal-overlay\",\n    onClick: _cache[10] || (_cache[10] = $event => $data.showAddProductModal = false)\n  }, [_createElementVNode(\"div\", {\n    class: \"modal-content\",\n    onClick: _cache[9] || (_cache[9] = _withModifiers(() => {}, [\"stop\"]))\n  }, [_createElementVNode(\"div\", _hoisted_22, [_cache[41] || (_cache[41] = _createElementVNode(\"h2\", null, \"Add New Product\", -1 /* CACHED */)), _createElementVNode(\"button\", {\n    class: \"modal-close\",\n    onClick: _cache[8] || (_cache[8] = $event => $data.showAddProductModal = false)\n  }, \" ‚úï \")]), _createVNode(_component_AddProduct, {\n    \"is-modal\": true,\n    onClose: $options.closeAddProductModal\n  }, null, 8 /* PROPS */, [\"onClose\"])])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Edit Product Modal \"), $data.showEditProductModal ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 1,\n    class: \"modal-overlay\",\n    onClick: _cache[13] || (_cache[13] = $event => $data.showEditProductModal = false)\n  }, [_createElementVNode(\"div\", {\n    class: \"modal-content-small\",\n    onClick: _cache[12] || (_cache[12] = _withModifiers(() => {}, [\"stop\"]))\n  }, [_createElementVNode(\"div\", _hoisted_23, [_cache[42] || (_cache[42] = _createElementVNode(\"h2\", null, \"Edit Product\", -1 /* CACHED */)), _createElementVNode(\"button\", {\n    class: \"modal-close\",\n    onClick: _cache[11] || (_cache[11] = $event => $data.showEditProductModal = false)\n  }, \" ‚úï \")]), _createVNode(_component_ProductEdit, {\n    \"product-id\": $data.editProductId,\n    onUpdated: $options.handleProductUpdated\n  }, null, 8 /* PROPS */, [\"product-id\", \"onUpdated\"])])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","href","onClick","_cache","_withModifiers","$event","$data","selectedMenu","_normalizeClass","active","showAddProductModal","unreadMessageCount","_hoisted_4","_toDisplayString","_hoisted_5","_hoisted_6","_hoisted_7","args","$options","logout","_hoisted_8","_hoisted_9","_createVNode","_component_ProductCategory","_hoisted_10","_component_StaffManagement","_hoisted_11","_component_AdminLeaves","_hoisted_12","_component_ProductList","onEdit","openEditProductModal","_hoisted_13","_component_ChatWindow","_Fragment","key","dashboardLoading","_hoisted_14","_hoisted_15","totalProducts","_hoisted_16","totalCategories","_hoisted_17","totalStaff","_hoisted_18","activeStaff","_hoisted_19","pendingLeaves","_hoisted_20","approvedLeaves","_hoisted_21","totalInventory","_hoisted_22","_component_AddProduct","onClose","closeAddProductModal","showEditProductModal","_hoisted_23","_component_ProductEdit","editProductId","onUpdated","handleProductUpdated"],"sources":["C:\\Users\\LENOVO\\Music\\OneDrive\\Pictures\\distribution-agency-project\\frontend\\src\\views\\AdminPage.vue"],"sourcesContent":["<template>\n  <div class=\"admin-wrapper\">\n    <!-- Sidebar -->\n    <aside class=\"sidebar\">\n      <div class=\"sidebar-title\">Distribution Agency</div>\n      <ul class=\"menu\">\n        <li>\n          <a\n            href=\"#\"\n            @click.prevent=\"selectedMenu = 'dashboard'\"\n            :class=\"{ active: selectedMenu === 'dashboard' }\"\n          >\n            <span class=\"menu-icon\">üìä</span>\n            <span class=\"menu-text\">Dashboard</span>\n          </a>\n        </li>\n        <li>\n          <a\n            href=\"#\"\n            @click.prevent=\"showAddProductModal = true\"\n            :class=\"{ active: showAddProductModal }\"\n          >\n            <span class=\"menu-icon\">‚ûï</span>\n            <span class=\"menu-text\">Add Products</span>\n          </a>\n        </li>\n        <li>\n          <a\n            href=\"#\"\n            @click.prevent=\"selectedMenu = 'addCategory'\"\n            :class=\"{ active: selectedMenu === 'addCategory' }\"\n          >\n            <span class=\"menu-icon\">üè∑Ô∏è</span>\n            <span class=\"menu-text\">Add Category</span>\n          </a>\n        </li>\n        <li>\n          <a\n            href=\"#\"\n            @click.prevent=\"selectedMenu = 'staffManagement'\"\n            :class=\"{ active: selectedMenu === 'staffManagement' }\"\n          >\n            <span class=\"menu-icon\">üë•</span>\n            <span class=\"menu-text\">Staff Management</span>\n          </a>\n        </li>\n        <li>\n          <a\n            href=\"#\"\n            @click.prevent=\"selectedMenu = 'approve-leaves'\"\n            :class=\"{ active: selectedMenu === 'approve-leaves' }\"\n          >\n            <span class=\"menu-icon\">üìÖ</span>\n            <span class=\"menu-text\">Approve Leaves</span>\n          </a>\n        </li>\n        <li>\n          <a\n            href=\"#\"\n            @click.prevent=\"selectedMenu = 'listProducts'\"\n            :class=\"{ active: selectedMenu === 'listProducts' }\"\n          >\n            <span class=\"menu-icon\">üìã</span>\n            <span class=\"menu-text\">List Products</span>\n          </a>\n        </li>\n        <li>\n          <a\n            href=\"#\"\n            @click.prevent=\"selectedMenu = 'chat'\"\n            :class=\"{ active: selectedMenu === 'chat' }\"\n          >\n            <span class=\"menu-icon\">üí¨</span>\n            <span class=\"menu-text\">Messages</span>\n            <span v-if=\"unreadMessageCount > 0\" class=\"message-badge\">{{\n              unreadMessageCount\n            }}</span>\n          </a>\n        </li>\n      </ul>\n    </aside>\n\n    <!-- Main Content -->\n    <div class=\"main\">\n      <header class=\"header\">\n        <h1>Dashboard</h1>\n        <div class=\"admin-menu\">\n          <span class=\"small\">Admin User</span>\n          <button @click=\"logout\" class=\"logout-btn\"><i>‚èª</i> Logout</button>\n        </div>\n      </header>\n\n      <main class=\"content\">\n        <!-- Render Active Component based on Menu Selection -->\n        <div v-if=\"selectedMenu === 'addCategory'\" class=\"page-container\">\n          <ProductCategory />\n        </div>\n        <div v-if=\"selectedMenu === 'staffManagement'\" class=\"page-container\">\n          <StaffManagement />\n        </div>\n        <div v-if=\"selectedMenu === 'approve-leaves'\" class=\"page-container\">\n          <AdminLeaves />\n        </div>\n        <div v-if=\"selectedMenu === 'listProducts'\" class=\"page-container\">\n          <ProductList @edit=\"openEditProductModal\" />\n        </div>\n\n        <!-- Chat Component -->\n        <div v-if=\"selectedMenu === 'chat'\" class=\"page-container chat-page\">\n          <ChatWindow />\n        </div>\n\n        <!-- Dashboard Widgets -->\n        <template v-if=\"selectedMenu === 'dashboard' || !selectedMenu\">\n          <div v-if=\"dashboardLoading\" class=\"loading-dashboard\">\n            <p>Loading dashboard statistics...</p>\n          </div>\n          <template v-else>\n            <div class=\"card blue\">\n              <h2>{{ totalProducts }}</h2>\n              <p>Total Products</p>\n              <div class=\"info\">Manage inventory &amp; stocks</div>\n            </div>\n\n            <div class=\"card orange\">\n              <h2>{{ totalCategories }}</h2>\n              <p>Total Categories</p>\n              <div class=\"info\">Organize product categories</div>\n            </div>\n\n            <div class=\"card green\">\n              <h2>{{ totalStaff }}</h2>\n              <p>Total Staff</p>\n              <div class=\"info\">Manage employees &amp; roles</div>\n            </div>\n\n            <div class=\"card purple\">\n              <h2>{{ activeStaff }}</h2>\n              <p>Active Staff</p>\n              <div class=\"info\">Currently active employees</div>\n            </div>\n\n            <div class=\"card red\">\n              <h2>{{ pendingLeaves }}</h2>\n              <p>Pending Leaves</p>\n              <div class=\"info\">Leave requests pending approval</div>\n            </div>\n\n            <div class=\"card teal\">\n              <h2>{{ approvedLeaves }}</h2>\n              <p>Approved Leaves</p>\n              <div class=\"info\">Approved leave requests</div>\n            </div>\n\n            <div class=\"card pink\">\n              <h2>{{ totalInventory }}</h2>\n              <p>Total Inventory</p>\n              <div class=\"info\">Total items in stock</div>\n            </div>\n          </template>\n        </template>\n      </main>\n    </div>\n\n    <!-- Add Product Modal -->\n    <div\n      v-if=\"showAddProductModal\"\n      class=\"modal-overlay\"\n      @click=\"showAddProductModal = false\"\n    >\n      <div class=\"modal-content\" @click.stop>\n        <div class=\"modal-header\">\n          <h2>Add New Product</h2>\n          <button class=\"modal-close\" @click=\"showAddProductModal = false\">\n            ‚úï\n          </button>\n        </div>\n        <AddProduct :is-modal=\"true\" @close=\"closeAddProductModal\" />\n      </div>\n    </div>\n\n    <!-- Edit Product Modal -->\n    <div\n      v-if=\"showEditProductModal\"\n      class=\"modal-overlay\"\n      @click=\"showEditProductModal = false\"\n    >\n      <div class=\"modal-content-small\" @click.stop>\n        <div class=\"modal-header\">\n          <h2>Edit Product</h2>\n          <button class=\"modal-close\" @click=\"showEditProductModal = false\">\n            ‚úï\n          </button>\n        </div>\n        <ProductEdit\n          :product-id=\"editProductId\"\n          @updated=\"handleProductUpdated\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport AddProduct from \"@/views/AddProduct.vue\";\nimport ProductList from \"@/views/ProductList.vue\";\nimport ProductEdit from \"@/views/ProductEdit.vue\";\nimport ProductCategory from \"@/views/AddCategory.vue\";\nimport StaffManagement from \"@/views/StaffManagement.vue\";\nimport AdminLeaves from \"@/views/AdminLeaves.vue\";\nimport ChatWindow from \"@/views/ChatWindow.vue\";\n\nconst API_BASE_URL = \"http://localhost:5000/api\";\n\nexport default {\n  name: \"AdminPage\",\n  components: {\n    AddProduct,\n    ProductList,\n    ProductEdit,\n    ProductCategory,\n    StaffManagement,\n    AdminLeaves,\n    ChatWindow,\n  },\n  data() {\n    return {\n      selectedMenu: \"dashboard\",\n      dashboardLoading: false,\n      showAddProductModal: false,\n      showEditProductModal: false,\n      editProductId: null,\n      totalProducts: 0,\n      totalCategories: 0,\n      totalStaff: 0,\n      activeStaff: 0,\n      pendingLeaves: 0,\n      approvedLeaves: 0,\n      totalInventory: 0,\n      unreadMessageCount: 0,\n      messageInterval: null,\n      searchQuery: \"\",\n    };\n  },\n  mounted() {\n    this.fetchDashboardStats();\n    this.fetchUnreadMessages();\n    this.messageInterval = setInterval(() => {\n      this.fetchUnreadMessages();\n    }, 3000);\n  },\n  beforeUnmount() {\n    if (this.messageInterval) {\n      clearInterval(this.messageInterval);\n    }\n  },\n  methods: {\n    async fetchDashboardStats() {\n      this.dashboardLoading = true;\n      try {\n        const [productsRes, categoriesRes, staffRes, leavesRes] =\n          await Promise.all([\n            axios.get(`${API_BASE_URL}/products/getproduct`),\n            axios.get(`${API_BASE_URL}/categories`),\n            axios.get(`${API_BASE_URL}/staff`),\n            axios.get(`${API_BASE_URL}/leaves/all`),\n          ]);\n\n        if (productsRes.data.success && productsRes.data.products) {\n          this.totalProducts = productsRes.data.products.length;\n          this.totalInventory = productsRes.data.products.reduce(\n            (sum, product) => sum + (product.quantity || 0),\n            0\n          );\n        }\n\n        if (Array.isArray(categoriesRes.data)) {\n          this.totalCategories = categoriesRes.data.length;\n        }\n\n        if (staffRes.data.success && Array.isArray(staffRes.data.staff)) {\n          this.totalStaff = staffRes.data.staff.length;\n          this.activeStaff = staffRes.data.staff.filter(\n            (s) => s.status === \"active\"\n          ).length;\n        }\n\n        if (Array.isArray(leavesRes.data)) {\n          this.pendingLeaves = leavesRes.data.filter(\n            (l) => l.status === \"Pending\"\n          ).length;\n          this.approvedLeaves = leavesRes.data.filter(\n            (l) => l.status === \"Approved\"\n          ).length;\n        }\n      } catch (error) {\n        console.error(\"Error fetching dashboard stats:\", error);\n      } finally {\n        this.dashboardLoading = false;\n      }\n    },\n    closeAddProductModal() {\n      this.showAddProductModal = false;\n      this.fetchDashboardStats();\n    },\n    closeListProductsModal() {\n      this.showListProductsModal = false;\n      this.fetchDashboardStats();\n    },\n    openEditProductModal(productId) {\n      this.editProductId = productId;\n      this.showEditProductModal = true;\n    },\n    handleProductUpdated() {\n      this.showEditProductModal = false;\n      this.showListProductsModal = false;\n      this.fetchDashboardStats();\n    },\n    logout() {\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"user\");\n      this.$router.push(\"/\");\n    },\n    async fetchUnreadMessages() {\n      try {\n        const token = localStorage.getItem(\"token\");\n        if (!token) return;\n\n        const res = await axios.get(\n          \"http://localhost:5000/api/messages/unread-count\",\n          {\n            headers: { Authorization: `Bearer ${token}` },\n          }\n        );\n\n        if (res.data.success) {\n          this.unreadMessageCount = res.data.unreadCount;\n        }\n      } catch (err) {\n        console.error(\"Error fetching unread messages:\", err);\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n@import \"@/assets/styles/AdminPage.css\";\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAe;;EAEjBA,KAAK,EAAC;AAAS;;EAEhBA,KAAK,EAAC;AAAM;;;EAqE0BA,KAAK,EAAC;;;EAS7CA,KAAK,EAAC;AAAM;;EACPA,KAAK,EAAC;AAAQ;;EAEfA,KAAK,EAAC;AAAY;;EAMnBA,KAAK,EAAC;AAAS;;;EAEwBA,KAAK,EAAC;;;;EAGFA,KAAK,EAAC;;;;EAGPA,KAAK,EAAC;;;;EAGRA,KAAK,EAAC;;;;EAKdA,KAAK,EAAC;;;;EAMXA,KAAK,EAAC;;;EAI5BA,KAAK,EAAC;AAAW;;EAMjBA,KAAK,EAAC;AAAa;;EAMnBA,KAAK,EAAC;AAAY;;EAMlBA,KAAK,EAAC;AAAa;;EAMnBA,KAAK,EAAC;AAAU;;EAMhBA,KAAK,EAAC;AAAW;;EAMjBA,KAAK,EAAC;AAAW;;EAiBrBA,KAAK,EAAC;AAAc;;EAiBpBA,KAAK,EAAC;AAAc;;;;;;;;;uBA3L/BC,mBAAA,CAuMM,OAvMNC,UAuMM,GAtMJC,mBAAA,aAAgB,EAChBC,mBAAA,CA6EQ,SA7ERC,UA6EQ,G,4BA5END,mBAAA,CAAoD;IAA/CJ,KAAK,EAAC;EAAe,GAAC,qBAAmB,qBAC9CI,mBAAA,CA0EK,MA1ELE,UA0EK,GAzEHF,mBAAA,CASK,aARHA,mBAAA,CAOI;IANFG,IAAI,EAAC,GAAG;IACPC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,CAAAC,MAAA,IAAUC,KAAA,CAAAC,YAAY;IAC3Bb,KAAK,EAAAc,eAAA;MAAAC,MAAA,EAAYH,KAAA,CAAAC,YAAY;IAAA;kCAE9BT,mBAAA,CAAiC;IAA3BJ,KAAK,EAAC;EAAW,GAAC,IAAE,oBAC1BI,mBAAA,CAAwC;IAAlCJ,KAAK,EAAC;EAAW,GAAC,WAAS,mB,qBAGrCI,mBAAA,CASK,aARHA,mBAAA,CAOI;IANFG,IAAI,EAAC,GAAG;IACPC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,CAAAC,MAAA,IAAUC,KAAA,CAAAI,mBAAmB;IAClChB,KAAK,EAAAc,eAAA;MAAAC,MAAA,EAAYH,KAAA,CAAAI;IAAmB;kCAErCZ,mBAAA,CAAgC;IAA1BJ,KAAK,EAAC;EAAW,GAAC,GAAC,oBACzBI,mBAAA,CAA2C;IAArCJ,KAAK,EAAC;EAAW,GAAC,cAAY,mB,qBAGxCI,mBAAA,CASK,aARHA,mBAAA,CAOI;IANFG,IAAI,EAAC,GAAG;IACPC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,CAAAC,MAAA,IAAUC,KAAA,CAAAC,YAAY;IAC3Bb,KAAK,EAAAc,eAAA;MAAAC,MAAA,EAAYH,KAAA,CAAAC,YAAY;IAAA;kCAE9BT,mBAAA,CAAkC;IAA5BJ,KAAK,EAAC;EAAW,GAAC,KAAG,oBAC3BI,mBAAA,CAA2C;IAArCJ,KAAK,EAAC;EAAW,GAAC,cAAY,mB,qBAGxCI,mBAAA,CASK,aARHA,mBAAA,CAOI;IANFG,IAAI,EAAC,GAAG;IACPC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,CAAAC,MAAA,IAAUC,KAAA,CAAAC,YAAY;IAC3Bb,KAAK,EAAAc,eAAA;MAAAC,MAAA,EAAYH,KAAA,CAAAC,YAAY;IAAA;kCAE9BT,mBAAA,CAAiC;IAA3BJ,KAAK,EAAC;EAAW,GAAC,IAAE,oBAC1BI,mBAAA,CAA+C;IAAzCJ,KAAK,EAAC;EAAW,GAAC,kBAAgB,mB,qBAG5CI,mBAAA,CASK,aARHA,mBAAA,CAOI;IANFG,IAAI,EAAC,GAAG;IACPC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,CAAAC,MAAA,IAAUC,KAAA,CAAAC,YAAY;IAC3Bb,KAAK,EAAAc,eAAA;MAAAC,MAAA,EAAYH,KAAA,CAAAC,YAAY;IAAA;kCAE9BT,mBAAA,CAAiC;IAA3BJ,KAAK,EAAC;EAAW,GAAC,IAAE,oBAC1BI,mBAAA,CAA6C;IAAvCJ,KAAK,EAAC;EAAW,GAAC,gBAAc,mB,qBAG1CI,mBAAA,CASK,aARHA,mBAAA,CAOI;IANFG,IAAI,EAAC,GAAG;IACPC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,CAAAC,MAAA,IAAUC,KAAA,CAAAC,YAAY;IAC3Bb,KAAK,EAAAc,eAAA;MAAAC,MAAA,EAAYH,KAAA,CAAAC,YAAY;IAAA;kCAE9BT,mBAAA,CAAiC;IAA3BJ,KAAK,EAAC;EAAW,GAAC,IAAE,oBAC1BI,mBAAA,CAA4C;IAAtCJ,KAAK,EAAC;EAAW,GAAC,eAAa,mB,qBAGzCI,mBAAA,CAYK,aAXHA,mBAAA,CAUI;IATFG,IAAI,EAAC,GAAG;IACPC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,CAAAC,MAAA,IAAUC,KAAA,CAAAC,YAAY;IAC3Bb,KAAK,EAAAc,eAAA;MAAAC,MAAA,EAAYH,KAAA,CAAAC,YAAY;IAAA;kCAE9BT,mBAAA,CAAiC;IAA3BJ,KAAK,EAAC;EAAW,GAAC,IAAE,qB,4BAC1BI,mBAAA,CAAuC;IAAjCJ,KAAK,EAAC;EAAW,GAAC,UAAQ,qBACpBY,KAAA,CAAAK,kBAAkB,Q,cAA9BhB,mBAAA,CAES,QAFTiB,UAES,EAAAC,gBAAA,CADPP,KAAA,CAAAK,kBAAkB,oB,0DAO5Bd,mBAAA,kBAAqB,EACrBC,mBAAA,CA+EM,OA/ENgB,UA+EM,GA9EJhB,mBAAA,CAMS,UANTiB,UAMS,G,4BALPjB,mBAAA,CAAkB,YAAd,WAAS,qBACbA,mBAAA,CAGM,OAHNkB,UAGM,G,4BAFJlB,mBAAA,CAAqC;IAA/BJ,KAAK,EAAC;EAAO,GAAC,YAAU,qBAC9BI,mBAAA,CAAmE;IAA1DI,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAc,IAAA,KAAEC,QAAA,CAAAC,MAAA,IAAAD,QAAA,CAAAC,MAAA,IAAAF,IAAA,CAAM;IAAEvB,KAAK,EAAC;kCAAaI,mBAAA,CAAQ,WAAL,GAAC,oB,iBAAI,SAAO,mB,QAI9DA,mBAAA,CAqEO,QArEPsB,UAqEO,GApELvB,mBAAA,qDAAwD,EAC7CS,KAAA,CAAAC,YAAY,sB,cAAvBZ,mBAAA,CAEM,OAFN0B,UAEM,GADJC,YAAA,CAAmBC,0BAAA,E,wCAEVjB,KAAA,CAAAC,YAAY,0B,cAAvBZ,mBAAA,CAEM,OAFN6B,WAEM,GADJF,YAAA,CAAmBG,0BAAA,E,wCAEVnB,KAAA,CAAAC,YAAY,yB,cAAvBZ,mBAAA,CAEM,OAFN+B,WAEM,GADJJ,YAAA,CAAeK,sBAAA,E,wCAENrB,KAAA,CAAAC,YAAY,uB,cAAvBZ,mBAAA,CAEM,OAFNiC,WAEM,GADJN,YAAA,CAA4CO,sBAAA;IAA9BC,MAAI,EAAEZ,QAAA,CAAAa;EAAoB,oC,wCAG1ClC,mBAAA,oBAAuB,EACZS,KAAA,CAAAC,YAAY,e,cAAvBZ,mBAAA,CAEM,OAFNqC,WAEM,GADJV,YAAA,CAAcW,qBAAA,E,wCAGhBpC,mBAAA,uBAA0B,EACVS,KAAA,CAAAC,YAAY,qBAAqBD,KAAA,CAAAC,YAAY,I,cAA7DZ,mBAAA,CA+CWuC,SAAA;IAAAC,GAAA;EAAA,IA9CE7B,KAAA,CAAA8B,gBAAgB,I,cAA3BzC,mBAAA,CAEM,OAFN0C,WAEM,EAAAlC,MAAA,SAAAA,MAAA,QADJL,mBAAA,CAAsC,WAAnC,iCAA+B,mB,qBAEpCH,mBAAA,CA0CWuC,SAAA;IAAAC,GAAA;EAAA,IAzCTrC,mBAAA,CAIM,OAJNwC,WAIM,GAHJxC,mBAAA,CAA4B,YAAAe,gBAAA,CAArBP,KAAA,CAAAiC,aAAa,kB,4BACpBzC,mBAAA,CAAqB,WAAlB,gBAAc,qB,4BACjBA,mBAAA,CAAqD;IAAhDJ,KAAK,EAAC;EAAM,GAAC,2BAA6B,oB,GAGjDI,mBAAA,CAIM,OAJN0C,WAIM,GAHJ1C,mBAAA,CAA8B,YAAAe,gBAAA,CAAvBP,KAAA,CAAAmC,eAAe,kB,4BACtB3C,mBAAA,CAAuB,WAApB,kBAAgB,qB,4BACnBA,mBAAA,CAAmD;IAA9CJ,KAAK,EAAC;EAAM,GAAC,6BAA2B,oB,GAG/CI,mBAAA,CAIM,OAJN4C,WAIM,GAHJ5C,mBAAA,CAAyB,YAAAe,gBAAA,CAAlBP,KAAA,CAAAqC,UAAU,kB,4BACjB7C,mBAAA,CAAkB,WAAf,aAAW,qB,4BACdA,mBAAA,CAAoD;IAA/CJ,KAAK,EAAC;EAAM,GAAC,0BAA4B,oB,GAGhDI,mBAAA,CAIM,OAJN8C,WAIM,GAHJ9C,mBAAA,CAA0B,YAAAe,gBAAA,CAAnBP,KAAA,CAAAuC,WAAW,kB,4BAClB/C,mBAAA,CAAmB,WAAhB,cAAY,qB,4BACfA,mBAAA,CAAkD;IAA7CJ,KAAK,EAAC;EAAM,GAAC,4BAA0B,oB,GAG9CI,mBAAA,CAIM,OAJNgD,WAIM,GAHJhD,mBAAA,CAA4B,YAAAe,gBAAA,CAArBP,KAAA,CAAAyC,aAAa,kB,4BACpBjD,mBAAA,CAAqB,WAAlB,gBAAc,qB,4BACjBA,mBAAA,CAAuD;IAAlDJ,KAAK,EAAC;EAAM,GAAC,iCAA+B,oB,GAGnDI,mBAAA,CAIM,OAJNkD,WAIM,GAHJlD,mBAAA,CAA6B,YAAAe,gBAAA,CAAtBP,KAAA,CAAA2C,cAAc,kB,4BACrBnD,mBAAA,CAAsB,WAAnB,iBAAe,qB,4BAClBA,mBAAA,CAA+C;IAA1CJ,KAAK,EAAC;EAAM,GAAC,yBAAuB,oB,GAG3CI,mBAAA,CAIM,OAJNoD,WAIM,GAHJpD,mBAAA,CAA6B,YAAAe,gBAAA,CAAtBP,KAAA,CAAA6C,cAAc,kB,4BACrBrD,mBAAA,CAAsB,WAAnB,iBAAe,qB,4BAClBA,mBAAA,CAA4C;IAAvCJ,KAAK,EAAC;EAAM,GAAC,sBAAoB,oB,qGAOhDG,mBAAA,uBAA0B,EAElBS,KAAA,CAAAI,mBAAmB,I,cAD3Bf,mBAAA,CAcM;;IAZJD,KAAK,EAAC,eAAe;IACpBQ,OAAK,EAAAC,MAAA,SAAAA,MAAA,OAAAE,MAAA,IAAEC,KAAA,CAAAI,mBAAmB;MAE3BZ,mBAAA,CAQM;IARDJ,KAAK,EAAC,eAAe;IAAEQ,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,CAAN,QAAW;MACpCN,mBAAA,CAKM,OALNsD,WAKM,G,4BAJJtD,mBAAA,CAAwB,YAApB,iBAAe,qBACnBA,mBAAA,CAES;IAFDJ,KAAK,EAAC,aAAa;IAAEQ,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAE,MAAA,IAAEC,KAAA,CAAAI,mBAAmB;KAAU,KAEjE,E,GAEFY,YAAA,CAA6D+B,qBAAA;IAAhD,UAAQ,EAAE,IAAI;IAAGC,OAAK,EAAEpC,QAAA,CAAAqC;iFAIzC1D,mBAAA,wBAA2B,EAEnBS,KAAA,CAAAkD,oBAAoB,I,cAD5B7D,mBAAA,CAiBM;;IAfJD,KAAK,EAAC,eAAe;IACpBQ,OAAK,EAAAC,MAAA,SAAAA,MAAA,OAAAE,MAAA,IAAEC,KAAA,CAAAkD,oBAAoB;MAE5B1D,mBAAA,CAWM;IAXDJ,KAAK,EAAC,qBAAqB;IAAEQ,OAAK,EAAAC,MAAA,SAAAA,MAAA,OAAAC,cAAA,CAAN,QAAW;MAC1CN,mBAAA,CAKM,OALN2D,WAKM,G,4BAJJ3D,mBAAA,CAAqB,YAAjB,cAAY,qBAChBA,mBAAA,CAES;IAFDJ,KAAK,EAAC,aAAa;IAAEQ,OAAK,EAAAC,MAAA,SAAAA,MAAA,OAAAE,MAAA,IAAEC,KAAA,CAAAkD,oBAAoB;KAAU,KAElE,E,GAEFlC,YAAA,CAGEoC,sBAAA;IAFC,YAAU,EAAEpD,KAAA,CAAAqD,aAAa;IACzBC,SAAO,EAAE1C,QAAA,CAAA2C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}