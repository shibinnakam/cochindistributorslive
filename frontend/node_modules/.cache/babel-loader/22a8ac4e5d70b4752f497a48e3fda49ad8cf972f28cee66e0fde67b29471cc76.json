{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  data() {\n    return {\n      email: \"\",\n      name: \"\",\n      photoFile: null,\n      staff: []\n    };\n  },\n  methods: {\n    async fetchStaff() {\n      const res = await axios.get(\"http://localhost:5000/api/staff\");\n      this.staff = res.data.staff;\n    },\n    onFileChange(e) {\n      this.photoFile = e.target.files[0];\n    },\n    async inviteStaff() {\n      const formData = new FormData();\n      formData.append(\"email\", this.email);\n      formData.append(\"name\", this.name);\n      if (this.photoFile) {\n        formData.append(\"photo\", this.photoFile);\n      }\n      await axios.post(\"http://localhost:5000/api/staff/invite\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      alert(\"Invitation sent!\");\n      this.email = \"\";\n      this.name = \"\";\n      this.photoFile = null;\n      this.fetchStaff();\n    },\n    async approveStaff(id) {\n      await axios.put(`http://localhost:5000/api/staff/approve/${id}`);\n      this.fetchStaff();\n    },\n    async setStatus(id, status) {\n      await axios.put(`http://localhost:5000/api/staff/status/${id}`, {\n        status\n      });\n      this.fetchStaff();\n    }\n  },\n  mounted() {\n    this.fetchStaff();\n  }\n};","map":{"version":3,"names":["axios","data","email","name","photoFile","staff","methods","fetchStaff","res","get","onFileChange","e","target","files","inviteStaff","formData","FormData","append","post","headers","alert","approveStaff","id","put","setStatus","status","mounted"],"sources":["C:\\Users\\LENOVO\\Music\\distribution-agency-project\\frontend\\src\\views\\StaffManagement.vue"],"sourcesContent":["<template>\n  <div class=\"staff-management\">\n    <h2>Staff Management</h2>\n\n    <!-- Invite Form -->\n    <form @submit.prevent=\"inviteStaff\" enctype=\"multipart/form-data\">\n      <input\n        v-model=\"email\"\n        type=\"email\"\n        placeholder=\"Enter staff email\"\n        required\n      />\n      <input\n        v-model=\"name\"\n        type=\"text\"\n        placeholder=\"Enter staff name (optional)\"\n      />\n      <input type=\"file\" @change=\"onFileChange\" />\n      <button type=\"submit\">Invite</button>\n    </form>\n\n    <h3>Staff List</h3>\n    <table>\n      <thead>\n        <tr>\n          <th>Photo</th>\n          <th>Email</th>\n          <th>Name</th>\n          <th>Status</th>\n          <th>Action</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"s in staff\" :key=\"s._id\">\n          <td>\n            <img\n              v-if=\"s.photo\"\n              :src=\"s.photo\"\n              alt=\"Staff Photo\"\n              width=\"50\"\n              height=\"50\"\n            />\n            <span v-else>—</span>\n          </td>\n          <td>{{ s.email }}</td>\n          <td>{{ s.name || \"—\" }}</td>\n          <td>{{ s.status }}</td>\n          <td>\n            <button v-if=\"s.status === 'pending'\" @click=\"approveStaff(s._id)\">\n              Approve\n            </button>\n            <button\n              v-if=\"s.status === 'active'\"\n              @click=\"setStatus(s._id, 'deactivated')\"\n            >\n              Deactivate\n            </button>\n            <button\n              v-if=\"s.status === 'deactivated'\"\n              @click=\"setStatus(s._id, 'active')\"\n            >\n              Activate\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      email: \"\",\n      name: \"\",\n      photoFile: null,\n      staff: [],\n    };\n  },\n  methods: {\n    async fetchStaff() {\n      const res = await axios.get(\"http://localhost:5000/api/staff\");\n      this.staff = res.data.staff;\n    },\n    onFileChange(e) {\n      this.photoFile = e.target.files[0];\n    },\n    async inviteStaff() {\n      const formData = new FormData();\n      formData.append(\"email\", this.email);\n      formData.append(\"name\", this.name);\n      if (this.photoFile) {\n        formData.append(\"photo\", this.photoFile);\n      }\n\n      await axios.post(\"http://localhost:5000/api/staff/invite\", formData, {\n        headers: { \"Content-Type\": \"multipart/form-data\" },\n      });\n\n      alert(\"Invitation sent!\");\n      this.email = \"\";\n      this.name = \"\";\n      this.photoFile = null;\n      this.fetchStaff();\n    },\n    async approveStaff(id) {\n      await axios.put(`http://localhost:5000/api/staff/approve/${id}`);\n      this.fetchStaff();\n    },\n    async setStatus(id, status) {\n      await axios.put(`http://localhost:5000/api/staff/status/${id}`, {\n        status,\n      });\n      this.fetchStaff();\n    },\n  },\n  mounted() {\n    this.fetchStaff();\n  },\n};\n</script>\n"],"mappings":"AAuEA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,IAAI,EAAE,EAAE;MACRC,SAAS,EAAE,IAAI;MACfC,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,UAAUA,CAAA,EAAG;MACjB,MAAMC,GAAE,GAAI,MAAMR,KAAK,CAACS,GAAG,CAAC,iCAAiC,CAAC;MAC9D,IAAI,CAACJ,KAAI,GAAIG,GAAG,CAACP,IAAI,CAACI,KAAK;IAC7B,CAAC;IACDK,YAAYA,CAACC,CAAC,EAAE;MACd,IAAI,CAACP,SAAQ,GAAIO,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IACpC,CAAC;IACD,MAAMC,WAAWA,CAAA,EAAG;MAClB,MAAMC,QAAO,GAAI,IAAIC,QAAQ,CAAC,CAAC;MAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAACf,KAAK,CAAC;MACpCa,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAACd,IAAI,CAAC;MAClC,IAAI,IAAI,CAACC,SAAS,EAAE;QAClBW,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAACb,SAAS,CAAC;MAC1C;MAEA,MAAMJ,KAAK,CAACkB,IAAI,CAAC,wCAAwC,EAAEH,QAAQ,EAAE;QACnEI,OAAO,EAAE;UAAE,cAAc,EAAE;QAAsB;MACnD,CAAC,CAAC;MAEFC,KAAK,CAAC,kBAAkB,CAAC;MACzB,IAAI,CAAClB,KAAI,GAAI,EAAE;MACf,IAAI,CAACC,IAAG,GAAI,EAAE;MACd,IAAI,CAACC,SAAQ,GAAI,IAAI;MACrB,IAAI,CAACG,UAAU,CAAC,CAAC;IACnB,CAAC;IACD,MAAMc,YAAYA,CAACC,EAAE,EAAE;MACrB,MAAMtB,KAAK,CAACuB,GAAG,CAAC,2CAA2CD,EAAE,EAAE,CAAC;MAChE,IAAI,CAACf,UAAU,CAAC,CAAC;IACnB,CAAC;IACD,MAAMiB,SAASA,CAACF,EAAE,EAAEG,MAAM,EAAE;MAC1B,MAAMzB,KAAK,CAACuB,GAAG,CAAC,0CAA0CD,EAAE,EAAE,EAAE;QAC9DG;MACF,CAAC,CAAC;MACF,IAAI,CAAClB,UAAU,CAAC,CAAC;IACnB;EACF,CAAC;EACDmB,OAAOA,CAAA,EAAG;IACR,IAAI,CAACnB,UAAU,CAAC,CAAC;EACnB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}