{"ast":null,"code":"import \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport axios from \"axios\";\nexport default {\n  name: \"AddProduct\",\n  props: {\n    isModal: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      name: \"\",\n      description: \"\",\n      originalPrice: \"\",\n      discountPrice: \"\",\n      quantity: \"\",\n      manufacturingDate: \"\",\n      expiryDate: \"\",\n      batchNumber: \"\",\n      rackNumber: \"\",\n      category: \"\",\n      categories: [],\n      image: null,\n      model3D: null,\n      preview: null,\n      loading: false,\n      errors: {}\n    };\n  },\n  methods: {\n    handleImageUpload(e) {\n      const file = e.target.files[0];\n      if (file) {\n        this.image = file;\n        this.preview = URL.createObjectURL(file);\n      }\n    },\n    handleModelUpload(e) {\n      const file = e.target.files[0];\n      if (file) {\n        this.model3D = file;\n      }\n    },\n    async loadCategories() {\n      try {\n        const res = await axios.get(\"http://localhost:5000/api/categories\");\n        this.categories = Array.isArray(res.data) ? res.data : Array.isArray(res.data.categories) ? res.data.categories : [];\n      } catch (err) {\n        console.error(\"❌ Error loading categories:\", err.message);\n        this.categories = [];\n      }\n    },\n    validateBatchNumber(batch) {\n      const patterns = [/^[A-Z0-9]{3,10}$/, /^\\d{3,8}$/, /^[A-Z]{1,2}\\d{2,6}$/, /^\\d{2}[A-Z]{1,2}\\d{2,4}$/, /^[A-Z0-9-/]{3,12}$/];\n      return patterns.some(regex => regex.test(batch));\n    },\n    async addProduct() {\n      this.errors = {}; // reset errors\n\n      // ✅ Frontend validation\n      if (!this.name || !/^[A-Za-z0-9 ]{4,15}$/.test(this.name)) this.errors.name = \"Product name 4-15 chars, letters/numbers/spaces only\";\n      if (!this.description || !/^[A-Za-z0-9 ]{4,20}$/.test(this.description)) this.errors.description = \"Description 4-20 chars, letters/numbers/spaces only\";\n      if (!this.originalPrice || this.originalPrice < 1 || this.originalPrice > 1000) this.errors.originalPrice = \"Original price must be 1-1000\";\n      if (!this.discountPrice || this.discountPrice < 1 || this.discountPrice > 1000) this.errors.discountPrice = \"Discount price must be 1-1000\";\n      if (this.discountPrice > this.originalPrice) this.errors.discountPrice = \"Discount cannot be greater than original price\";\n      if (this.quantity < 0) this.errors.quantity = \"Quantity must be 0 or greater\";\n      if (!this.manufacturingDate) this.errors.manufacturingDate = \"Manufacturing date required\";\n      if (!this.expiryDate) this.errors.expiryDate = \"Expiry date required\";\n      if (this.manufacturingDate && this.expiryDate) {\n        const mfgDate = new Date(this.manufacturingDate);\n        const expDate = new Date(this.expiryDate);\n        if (mfgDate.getTime() === expDate.getTime()) this.errors.expiryDate = \"Expiry must differ from manufacturing date\";\n        if ((expDate - mfgDate) / (1000 * 60 * 60 * 24) < 10) this.errors.expiryDate = \"Expiry must be at least 10 days after manufacturing\";\n      }\n      if (!this.batchNumber || !this.validateBatchNumber(this.batchNumber)) this.errors.batchNumber = \"Invalid batch number format\";\n      if (!this.rackNumber || this.rackNumber < 1 || this.rackNumber > 155) this.errors.rackNumber = \"Rack number must be 1-155\";\n      if (!this.category) this.errors.category = \"Select a category\";\n      if (!this.image) this.errors.image = \"Select an image\";\n\n      // Stop if there are validation errors\n      if (Object.keys(this.errors).length > 0) return;\n\n      // ✅ Submit form\n      this.loading = true;\n      try {\n        const formData = new FormData();\n        formData.append(\"name\", this.name);\n        formData.append(\"description\", this.description);\n        formData.append(\"originalPrice\", this.originalPrice);\n        formData.append(\"discountPrice\", this.discountPrice);\n        formData.append(\"quantity\", this.quantity);\n        formData.append(\"manufacturingDate\", this.manufacturingDate);\n        formData.append(\"expiryDate\", this.expiryDate);\n        formData.append(\"batchNumber\", this.batchNumber);\n        formData.append(\"rackNumber\", this.rackNumber);\n        formData.append(\"category\", this.category);\n        formData.append(\"image\", this.image);\n        if (this.model3D) {\n          formData.append(\"model3D\", this.model3D);\n        }\n        const res = await axios.post(\"http://localhost:5000/api/products/addproduct\", formData, {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\"\n          }\n        });\n        if (this.isModal) {\n          this.$emit(\"close\");\n        } else {\n          alert(res.data.message);\n          this.resetForm();\n        }\n      } catch (err) {\n        const backendMessage = err.response?.data?.message;\n        if (backendMessage) {\n          if (backendMessage.includes(\"name\")) this.errors.name = backendMessage;else if (backendMessage.includes(\"description\")) this.errors.description = backendMessage;else if (backendMessage.includes(\"Batch\")) this.errors.batchNumber = backendMessage;else if (backendMessage.includes(\"category\")) this.errors.category = backendMessage;else alert(backendMessage);\n        } else {\n          alert(\"Server error\");\n        }\n      } finally {\n        this.loading = false;\n      }\n    },\n    resetForm() {\n      this.name = \"\";\n      this.description = \"\";\n      this.originalPrice = \"\";\n      this.discountPrice = \"\";\n      this.quantity = \"\";\n      this.manufacturingDate = \"\";\n      this.expiryDate = \"\";\n      this.batchNumber = \"\";\n      this.rackNumber = \"\";\n      this.category = \"\";\n      this.image = null;\n      this.model3D = null;\n      this.preview = null;\n      this.errors = {};\n    }\n  },\n  mounted() {\n    this.loadCategories();\n  }\n};","map":{"version":3,"names":["axios","name","props","isModal","type","Boolean","default","data","description","originalPrice","discountPrice","quantity","manufacturingDate","expiryDate","batchNumber","rackNumber","category","categories","image","model3D","preview","loading","errors","methods","handleImageUpload","e","file","target","files","URL","createObjectURL","handleModelUpload","loadCategories","res","get","Array","isArray","err","console","error","message","validateBatchNumber","batch","patterns","some","regex","test","addProduct","mfgDate","Date","expDate","getTime","Object","keys","length","formData","FormData","append","post","headers","$emit","alert","resetForm","backendMessage","response","includes","mounted"],"sources":["C:\\Users\\LENOVO\\Music\\OneDrive\\Pictures\\distribution-agency-project\\frontend\\src\\views\\AddProduct.vue"],"sourcesContent":["<template>\n  <div class=\"form-wrapper\">\n    <div class=\"form-card\">\n      <h2 class=\"form-title\">Add New Products</h2>\n      <form @submit.prevent=\"addProduct\" class=\"form-grid\">\n        <!-- Row 1: Name & Quantity -->\n        <div class=\"form-group\">\n          <input id=\"name\" v-model=\"name\" type=\"text\" placeholder=\"Item Name\" />\n          <p v-if=\"errors.name\" class=\"error\">{{ errors.name }}</p>\n        </div>\n        <div class=\"form-group\">\n          <input\n            id=\"quantity\"\n            v-model.number=\"quantity\"\n            type=\"number\"\n            min=\"0\"\n            placeholder=\"Quantity\"\n          />\n          <p v-if=\"errors.quantity\" class=\"error\">{{ errors.quantity }}</p>\n        </div>\n\n        <!-- Row 2: Original Price & Discount Price -->\n        <div class=\"form-group\">\n          <input\n            id=\"originalPrice\"\n            v-model.number=\"originalPrice\"\n            type=\"number\"\n            placeholder=\"Original Price\"\n          />\n          <p v-if=\"errors.originalPrice\" class=\"error\">\n            {{ errors.originalPrice }}\n          </p>\n        </div>\n        <div class=\"form-group\">\n          <input\n            id=\"discountPrice\"\n            v-model.number=\"discountPrice\"\n            type=\"number\"\n            placeholder=\"Discount Price\"\n          />\n          <p v-if=\"errors.discountPrice\" class=\"error\">\n            {{ errors.discountPrice }}\n          </p>\n        </div>\n\n        <!-- Row 3: Manufacturing Date & Expiry Date -->\n        <div class=\"form-group\">\n          <label for=\"manufacturingDate\">Mfg Date</label>\n          <input\n            id=\"manufacturingDate\"\n            v-model=\"manufacturingDate\"\n            type=\"date\"\n          />\n          <p v-if=\"errors.manufacturingDate\" class=\"error\">\n            {{ errors.manufacturingDate }}\n          </p>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"expiryDate\">Expiry Date</label>\n          <input id=\"expiryDate\" v-model=\"expiryDate\" type=\"date\" />\n          <p v-if=\"errors.expiryDate\" class=\"error\">{{ errors.expiryDate }}</p>\n        </div>\n\n        <!-- Row 4: Batch Number & Rack Number -->\n        <div class=\"form-group\">\n          <input\n            id=\"batchNumber\"\n            v-model=\"batchNumber\"\n            type=\"text\"\n            placeholder=\"Batch Number\"\n          />\n          <p v-if=\"errors.batchNumber\" class=\"error\">\n            {{ errors.batchNumber }}\n          </p>\n        </div>\n        <div class=\"form-group\">\n          <input\n            id=\"rackNumber\"\n            v-model.number=\"rackNumber\"\n            type=\"number\"\n            min=\"1\"\n            max=\"155\"\n            placeholder=\"Rack (1-155)\"\n          />\n          <p v-if=\"errors.rackNumber\" class=\"error\">{{ errors.rackNumber }}</p>\n        </div>\n\n        <!-- Row 5: Category (Full Width) -->\n        <div class=\"form-group full-width\">\n          <label for=\"category\">Category</label>\n          <select v-model=\"category\" id=\"category\">\n            <option value=\"\" disabled>Select Category</option>\n            <option v-for=\"c in categories\" :key=\"c._id\" :value=\"c._id\">\n              {{ c.name }}\n            </option>\n          </select>\n          <p v-if=\"errors.category\" class=\"error\">{{ errors.category }}</p>\n        </div>\n\n        <!-- Row 6: Description (Full Width) -->\n        <div class=\"form-group full-width\">\n          <textarea\n            id=\"description\"\n            v-model=\"description\"\n            placeholder=\"Description (4-20 chars)\"\n          ></textarea>\n          <p v-if=\"errors.description\" class=\"error\">\n            {{ errors.description }}\n          </p>\n        </div>\n\n        <!-- Row 7: 3-Image Upload for 3D Visualization -->\n        <div class=\"form-group full-width\">\n          <label>Product Images for 3D View (Required)</label>\n          <p class=\"form-hint\">Upload front, side, and back images for accurate 3D visualization</p>\n          <div class=\"image-upload-grid\">\n            <!-- Front Image -->\n            <div class=\"image-upload-item\">\n              <label for=\"imageFront\" class=\"upload-label\">Front Image</label>\n              <input\n                id=\"imageFront\"\n                type=\"file\"\n                @change=\"(e) => handleImageUpload(e, 'imageFront')\"\n                accept=\"image/jpeg,image/png\"\n              />\n              <div v-if=\"previewFront\" class=\"image-preview-small\">\n                <img :src=\"previewFront\" alt=\"Front Preview\" />\n              </div>\n              <p v-if=\"errors.imageFront\" class=\"error\">{{ errors.imageFront }}</p>\n            </div>\n\n            <!-- Side Image -->\n            <div class=\"image-upload-item\">\n              <label for=\"imageSide\" class=\"upload-label\">Side Image</label>\n              <input\n                id=\"imageSide\"\n                type=\"file\"\n                @change=\"(e) => handleImageUpload(e, 'imageSide')\"\n                accept=\"image/jpeg,image/png\"\n              />\n              <div v-if=\"previewSide\" class=\"image-preview-small\">\n                <img :src=\"previewSide\" alt=\"Side Preview\" />\n              </div>\n              <p v-if=\"errors.imageSide\" class=\"error\">{{ errors.imageSide }}</p>\n            </div>\n\n            <!-- Back Image -->\n            <div class=\"image-upload-item\">\n              <label for=\"imageBack\" class=\"upload-label\">Back Image</label>\n              <input\n                id=\"imageBack\"\n                type=\"file\"\n                @change=\"(e) => handleImageUpload(e, 'imageBack')\"\n                accept=\"image/jpeg,image/png\"\n              />\n              <div v-if=\"previewBack\" class=\"image-preview-small\">\n                <img :src=\"previewBack\" alt=\"Back Preview\" />\n              </div>\n              <p v-if=\"errors.imageBack\" class=\"error\">{{ errors.imageBack }}</p>\n            </div>\n          </div>\n        </div>\n\n        <!-- 3D Model Upload (Optional) -->\n        <div class=\"form-group full-width\">\n          <label>3D Model (.glb, .gltf) - Optional</label>\n          <input\n            id=\"model3D\"\n            type=\"file\"\n            @change=\"handleModelUpload\"\n            accept=\".glb,.gltf\"\n          />\n        </div>\n\n        <!-- Row 8: Submit Button (Full Width) -->\n        <div class=\"form-group full-width button-group\">\n          <button type=\"submit\" :disabled=\"loading\" class=\"btn-submit\">\n            {{ loading ? \"Adding...\" : \"Add Product\" }}\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"AddProduct\",\n  props: {\n    isModal: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      name: \"\",\n      description: \"\",\n      originalPrice: \"\",\n      discountPrice: \"\",\n      quantity: \"\",\n      manufacturingDate: \"\",\n      expiryDate: \"\",\n      batchNumber: \"\",\n      rackNumber: \"\",\n      category: \"\",\n      categories: [],\n      image: null,\n      model3D: null,\n      preview: null,\n      loading: false,\n      errors: {},\n    };\n  },\n  methods: {\n    handleImageUpload(e) {\n      const file = e.target.files[0];\n      if (file) {\n        this.image = file;\n        this.preview = URL.createObjectURL(file);\n      }\n    },\n\n    handleModelUpload(e) {\n      const file = e.target.files[0];\n      if (file) {\n        this.model3D = file;\n      }\n    },\n\n    async loadCategories() {\n      try {\n        const res = await axios.get(\"http://localhost:5000/api/categories\");\n        this.categories = Array.isArray(res.data)\n          ? res.data\n          : Array.isArray(res.data.categories)\n          ? res.data.categories\n          : [];\n      } catch (err) {\n        console.error(\"❌ Error loading categories:\", err.message);\n        this.categories = [];\n      }\n    },\n\n    validateBatchNumber(batch) {\n      const patterns = [\n        /^[A-Z0-9]{3,10}$/,\n        /^\\d{3,8}$/,\n        /^[A-Z]{1,2}\\d{2,6}$/,\n        /^\\d{2}[A-Z]{1,2}\\d{2,4}$/,\n        /^[A-Z0-9-/]{3,12}$/,\n      ];\n      return patterns.some((regex) => regex.test(batch));\n    },\n\n    async addProduct() {\n      this.errors = {}; // reset errors\n\n      // ✅ Frontend validation\n      if (!this.name || !/^[A-Za-z0-9 ]{4,15}$/.test(this.name))\n        this.errors.name =\n          \"Product name 4-15 chars, letters/numbers/spaces only\";\n      if (!this.description || !/^[A-Za-z0-9 ]{4,20}$/.test(this.description))\n        this.errors.description =\n          \"Description 4-20 chars, letters/numbers/spaces only\";\n      if (\n        !this.originalPrice ||\n        this.originalPrice < 1 ||\n        this.originalPrice > 1000\n      )\n        this.errors.originalPrice = \"Original price must be 1-1000\";\n      if (\n        !this.discountPrice ||\n        this.discountPrice < 1 ||\n        this.discountPrice > 1000\n      )\n        this.errors.discountPrice = \"Discount price must be 1-1000\";\n      if (this.discountPrice > this.originalPrice)\n        this.errors.discountPrice =\n          \"Discount cannot be greater than original price\";\n      if (this.quantity < 0)\n        this.errors.quantity = \"Quantity must be 0 or greater\";\n      if (!this.manufacturingDate)\n        this.errors.manufacturingDate = \"Manufacturing date required\";\n      if (!this.expiryDate) this.errors.expiryDate = \"Expiry date required\";\n\n      if (this.manufacturingDate && this.expiryDate) {\n        const mfgDate = new Date(this.manufacturingDate);\n        const expDate = new Date(this.expiryDate);\n        if (mfgDate.getTime() === expDate.getTime())\n          this.errors.expiryDate = \"Expiry must differ from manufacturing date\";\n        if ((expDate - mfgDate) / (1000 * 60 * 60 * 24) < 10)\n          this.errors.expiryDate =\n            \"Expiry must be at least 10 days after manufacturing\";\n      }\n\n      if (!this.batchNumber || !this.validateBatchNumber(this.batchNumber))\n        this.errors.batchNumber = \"Invalid batch number format\";\n      if (!this.rackNumber || this.rackNumber < 1 || this.rackNumber > 155)\n        this.errors.rackNumber = \"Rack number must be 1-155\";\n      if (!this.category) this.errors.category = \"Select a category\";\n      if (!this.image) this.errors.image = \"Select an image\";\n\n      // Stop if there are validation errors\n      if (Object.keys(this.errors).length > 0) return;\n\n      // ✅ Submit form\n      this.loading = true;\n      try {\n        const formData = new FormData();\n        formData.append(\"name\", this.name);\n        formData.append(\"description\", this.description);\n        formData.append(\"originalPrice\", this.originalPrice);\n        formData.append(\"discountPrice\", this.discountPrice);\n        formData.append(\"quantity\", this.quantity);\n        formData.append(\"manufacturingDate\", this.manufacturingDate);\n        formData.append(\"expiryDate\", this.expiryDate);\n        formData.append(\"batchNumber\", this.batchNumber);\n        formData.append(\"rackNumber\", this.rackNumber);\n        formData.append(\"category\", this.category);\n        formData.append(\"image\", this.image);\n        if (this.model3D) {\n          formData.append(\"model3D\", this.model3D);\n        }\n\n        const res = await axios.post(\n          \"http://localhost:5000/api/products/addproduct\",\n          formData,\n          { headers: { \"Content-Type\": \"multipart/form-data\" } }\n        );\n\n        if (this.isModal) {\n          this.$emit(\"close\");\n        } else {\n          alert(res.data.message);\n          this.resetForm();\n        }\n      } catch (err) {\n        const backendMessage = err.response?.data?.message;\n        if (backendMessage) {\n          if (backendMessage.includes(\"name\"))\n            this.errors.name = backendMessage;\n          else if (backendMessage.includes(\"description\"))\n            this.errors.description = backendMessage;\n          else if (backendMessage.includes(\"Batch\"))\n            this.errors.batchNumber = backendMessage;\n          else if (backendMessage.includes(\"category\"))\n            this.errors.category = backendMessage;\n          else alert(backendMessage);\n        } else {\n          alert(\"Server error\");\n        }\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    resetForm() {\n      this.name = \"\";\n      this.description = \"\";\n      this.originalPrice = \"\";\n      this.discountPrice = \"\";\n      this.quantity = \"\";\n      this.manufacturingDate = \"\";\n      this.expiryDate = \"\";\n      this.batchNumber = \"\";\n      this.rackNumber = \"\";\n      this.category = \"\";\n      this.image = null;\n      this.model3D = null;\n      this.preview = null;\n      this.errors = {};\n    },\n  },\n  mounted() {\n    this.loadCategories();\n  },\n};\n</script>\n\n<style scoped>\n.form-wrapper {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 80vh;\n}\n\n.form-card {\n  background: #fff;\n  padding: 20px;\n  width: 100%;\n  border-radius: 12px;\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\n}\n\n.form-title {\n  text-align: center;\n  margin-bottom: 16px;\n  font-size: 18px;\n  font-weight: 600;\n  color: #1e293b;\n}\n\n.form-grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 12px;\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n}\n\n.form-group.full-width {\n  grid-column: 1 / -1;\n}\n\n.form-group label {\n  font-size: 12px;\n  font-weight: 500;\n  color: #475569;\n  margin-bottom: 4px;\n}\n\n.form-group input,\n.form-group textarea,\n.form-group select {\n  padding: 8px 10px;\n  border: 1px solid #cbd5e1;\n  border-radius: 6px;\n  font-size: 13px;\n  font-family: inherit;\n  transition: border-color 0.2s;\n}\n\n.form-group input:focus,\n.form-group textarea:focus,\n.form-group select:focus {\n  outline: none;\n  border-color: #2563eb;\n  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);\n}\n\n.form-group textarea {\n  resize: none;\n  height: 70px;\n  min-height: 70px;\n}\n\n.btn-submit {\n  background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);\n  color: white;\n  font-weight: 600;\n  border: none;\n  cursor: pointer;\n  padding: 10px 16px;\n  border-radius: 6px;\n  transition: all 0.3s ease;\n  width: 100%;\n}\n\n.btn-submit:hover:not(:disabled) {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);\n}\n\n.btn-submit:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.image-preview-container {\n  grid-column: 1 / -1;\n  display: flex;\n  justify-content: center;\n  padding: 8px 0;\n}\n\n.image-preview {\n  max-width: 120px;\n  max-height: 120px;\n  border-radius: 8px;\n  border: 2px solid #e2e8f0;\n  object-fit: contain;\n}\n\n.error {\n  color: #ef4444;\n  font-size: 11px;\n  margin-top: 2px;\n  margin-bottom: 0;\n}\n\n.button-group {\n  margin-top: 4px;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}