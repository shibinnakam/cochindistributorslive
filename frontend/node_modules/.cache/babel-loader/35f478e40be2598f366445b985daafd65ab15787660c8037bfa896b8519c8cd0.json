{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      loading: false,\n      message: \"\",\n      error: \"\",\n      activeTab: \"dashboard\",\n      // default view\n      user: JSON.parse(localStorage.getItem(\"user\")) || null\n    };\n  },\n  methods: {\n    logout() {\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"user\");\n      this.$router.push(\"/login\");\n    },\n    async addStaff() {\n      this.message = \"\";\n      this.error = \"\";\n      this.loading = true;\n      try {\n        const token = localStorage.getItem(\"token\");\n        const res = await axios.post(\"/api/auth/create-staff\", {\n          email: this.email,\n          password: this.password\n        }, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        this.message = res.data.msg;\n        this.email = \"\";\n        this.password = \"\";\n      } catch (err) {\n        this.error = err.response?.data?.msg || \"Failed to add staff\";\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","email","password","loading","message","error","activeTab","user","JSON","parse","localStorage","getItem","methods","logout","removeItem","$router","push","addStaff","token","res","post","headers","Authorization","msg","err","response"],"sources":["C:\\Users\\LENOVO\\Music\\distribution-agency-project\\frontend\\src\\views\\AdminPage.vue"],"sourcesContent":["<template>\n  <div class=\"admin-wrapper d-flex flex-column\">\n    <!-- Header -->\n    <header\n      class=\"admin-header d-flex align-items-center justify-content-between px-4\"\n    >\n      <div class=\"d-flex align-items-center\">\n        <img src=\"@/assets/logo.jpeg\" alt=\"Logo\" class=\"header-logo me-3\" />\n        <h1 class=\"header-title\">ADMIN PANEL</h1>\n      </div>\n    </header>\n\n    <!-- Main Layout -->\n    <div class=\"d-flex flex-grow-1\">\n      <!-- Sidebar -->\n      <nav id=\"sidebar\" class=\"sidebar d-flex flex-column p-3\">\n        <!-- Profile -->\n        <div class=\"profile-box text-center mb-4 p-3\">\n          <img\n            src=\"https://via.placeholder.com/80\"\n            alt=\"Admin Avatar\"\n            class=\"rounded-circle mb-2\"\n            width=\"80\"\n            height=\"80\"\n          />\n          <h6 class=\"mb-0\">{{ user?.username || \"Admin\" }}</h6>\n          <small class=\"text-muted\">{{\n            user?.email || \"admin@example.com\"\n          }}</small>\n        </div>\n\n        <!-- Sidebar Menu -->\n        <ul class=\"nav flex-column flex-grow-1\">\n          <li class=\"nav-item mb-2\">\n            <a href=\"#\" class=\"nav-link\" @click=\"activeTab = 'dashboard'\">\n              <i class=\"bi bi-speedometer2 me-2\"></i> Dashboard\n            </a>\n          </li>\n          <li class=\"nav-item mb-2\">\n            <a href=\"#\" class=\"nav-link\" @click=\"activeTab = 'staff'\">\n              <i class=\"bi bi-people-fill me-2\"></i> Manage Staff\n            </a>\n          </li>\n          <li class=\"nav-item mb-2\">\n            <a href=\"#\" class=\"nav-link\" @click=\"activeTab = 'products'\">\n              <i class=\"bi bi-box-seam me-2\"></i> Manage Products\n            </a>\n          </li>\n          <li class=\"nav-item mb-2\">\n            <a href=\"#\" class=\"nav-link\" @click=\"activeTab = 'leaves'\">\n              <i class=\"bi bi-calendar-check me-2\"></i> Leaves\n            </a>\n          </li>\n          <li class=\"nav-item mb-2\">\n            <a href=\"#\" class=\"nav-link\" @click=\"activeTab = 'settings'\">\n              <i class=\"bi bi-gear me-2\"></i> Settings\n            </a>\n          </li>\n        </ul>\n\n        <!-- Logout at Bottom -->\n        <div class=\"mt-auto\">\n          <button class=\"btn btn-logout w-100\" @click=\"logout\">\n            <i class=\"bi bi-box-arrow-right me-2\"></i> Logout\n          </button>\n        </div>\n      </nav>\n\n      <!-- Content Area -->\n      <main class=\"content flex-grow-1 p-4\">\n        <!-- Dashboard -->\n        <div v-if=\"activeTab === 'dashboard'\">\n          <h2>Dashboard</h2>\n          <p>Welcome to your admin dashboard.</p>\n        </div>\n\n        <!-- Manage Staff -->\n        <div v-if=\"activeTab === 'staff'\">\n          <h2>Add Staff</h2>\n          <form @submit.prevent=\"addStaff\" class=\"mb-4\">\n            <div class=\"mb-3\">\n              <input\n                type=\"email\"\n                v-model=\"email\"\n                class=\"form-control\"\n                placeholder=\"Staff Email\"\n                required\n              />\n            </div>\n            <div class=\"mb-3\">\n              <input\n                type=\"password\"\n                v-model=\"password\"\n                class=\"form-control\"\n                placeholder=\"Staff Password\"\n                required\n              />\n            </div>\n            <button type=\"submit\" class=\"btn btn-success\" :disabled=\"loading\">\n              <span v-if=\"loading\">Adding...</span>\n              <span v-else>Add Staff</span>\n            </button>\n          </form>\n          <p v-if=\"message\" class=\"text-success\">{{ message }}</p>\n          <p v-if=\"error\" class=\"text-danger\">{{ error }}</p>\n        </div>\n\n        <!-- Manage Products -->\n        <div v-if=\"activeTab === 'products'\">\n          <h2>Manage Products</h2>\n          <p>Here you can add, edit, or delete products.</p>\n        </div>\n\n        <!-- Leaves -->\n        <div v-if=\"activeTab === 'leaves'\">\n          <h2>Leaves</h2>\n          <p>Manage staff leaves here.</p>\n        </div>\n\n        <!-- Settings -->\n        <div v-if=\"activeTab === 'settings'\">\n          <h2>Settings</h2>\n          <p>Admin settings go here.</p>\n        </div>\n      </main>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      loading: false,\n      message: \"\",\n      error: \"\",\n      activeTab: \"dashboard\", // default view\n      user: JSON.parse(localStorage.getItem(\"user\")) || null,\n    };\n  },\n  methods: {\n    logout() {\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"user\");\n      this.$router.push(\"/login\");\n    },\n    async addStaff() {\n      this.message = \"\";\n      this.error = \"\";\n      this.loading = true;\n\n      try {\n        const token = localStorage.getItem(\"token\");\n        const res = await axios.post(\n          \"/api/auth/create-staff\",\n          { email: this.email, password: this.password },\n          { headers: { Authorization: `Bearer ${token}` } }\n        );\n        this.message = res.data.msg;\n        this.email = \"\";\n        this.password = \"\";\n      } catch (err) {\n        this.error = err.response?.data?.msg || \"Failed to add staff\";\n      } finally {\n        this.loading = false;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* Header */\n.admin-header {\n  background: #fff;\n  border-bottom: 2px solid #ddd;\n  height: 70px;\n}\n.header-logo {\n  height: 50px;\n}\n.header-title {\n  font-family: \"Times New Roman\", serif;\n  font-size: 28px;\n  color: goldenrod;\n  font-weight: bold;\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.6);\n}\n\n/* Sidebar */\n.sidebar {\n  width: 250px;\n  background: black;\n  color: white;\n  min-height: calc(100vh - 70px);\n  display: flex;\n  flex-direction: column;\n}\n.profile-box {\n  background: #1e1e1e;\n  border-radius: 10px;\n}\n.nav-link {\n  color: white;\n  padding: 10px 15px;\n  border-radius: 6px;\n  transition: 0.3s;\n  display: block;\n}\n.nav-link:hover {\n  background: rgba(255, 255, 255, 0.1);\n  color: goldenrod;\n}\n.btn-logout {\n  background: red;\n  color: white;\n  font-weight: bold;\n  border: none;\n  padding: 10px;\n  border-radius: 6px;\n}\n.btn-logout:hover {\n  background: darkred;\n}\n\n/* Content */\n.content {\n  background: white;\n  min-height: calc(100vh - 70px);\n}\n</style>\n"],"mappings":";AAkIA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAE,EAAE;MACXC,KAAK,EAAE,EAAE;MACTC,SAAS,EAAE,WAAW;MAAE;MACxBC,IAAI,EAAEC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,KAAK;IACpD,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,MAAMA,CAAA,EAAG;MACPH,YAAY,CAACI,UAAU,CAAC,OAAO,CAAC;MAChCJ,YAAY,CAACI,UAAU,CAAC,MAAM,CAAC;MAC/B,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;IAC7B,CAAC;IACD,MAAMC,QAAQA,CAAA,EAAG;MACf,IAAI,CAACb,OAAM,GAAI,EAAE;MACjB,IAAI,CAACC,KAAI,GAAI,EAAE;MACf,IAAI,CAACF,OAAM,GAAI,IAAI;MAEnB,IAAI;QACF,MAAMe,KAAI,GAAIR,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC3C,MAAMQ,GAAE,GAAI,MAAMpB,KAAK,CAACqB,IAAI,CAC1B,wBAAwB,EACxB;UAAEnB,KAAK,EAAE,IAAI,CAACA,KAAK;UAAEC,QAAQ,EAAE,IAAI,CAACA;QAAS,CAAC,EAC9C;UAAEmB,OAAO,EAAE;YAAEC,aAAa,EAAE,UAAUJ,KAAK;UAAG;QAAE,CAClD,CAAC;QACD,IAAI,CAACd,OAAM,GAAIe,GAAG,CAACnB,IAAI,CAACuB,GAAG;QAC3B,IAAI,CAACtB,KAAI,GAAI,EAAE;QACf,IAAI,CAACC,QAAO,GAAI,EAAE;MACpB,EAAE,OAAOsB,GAAG,EAAE;QACZ,IAAI,CAACnB,KAAI,GAAImB,GAAG,CAACC,QAAQ,EAAEzB,IAAI,EAAEuB,GAAE,IAAK,qBAAqB;MAC/D,UAAU;QACR,IAAI,CAACpB,OAAM,GAAI,KAAK;MACtB;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}