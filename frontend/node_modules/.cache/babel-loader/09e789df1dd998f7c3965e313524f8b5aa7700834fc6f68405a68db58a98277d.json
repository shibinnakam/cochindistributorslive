{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'ChatWindow',\n  data() {\n    return {\n      contacts: [],\n      selectedContact: null,\n      messages: [],\n      newMessage: '',\n      loading: false,\n      sending: false,\n      userEmail: '',\n      apiBase: 'http://localhost:5000',\n      defaultAvatar: '/default-avatar.png',\n      unreadCount: 0,\n      refreshInterval: null\n    };\n  },\n  computed: {\n    token() {\n      return localStorage.getItem('token');\n    }\n  },\n  mounted() {\n    const user = JSON.parse(localStorage.getItem('user'));\n    this.userEmail = user?.email || '';\n    this.fetchContacts();\n    this.fetchUnreadCount();\n    this.refreshInterval = setInterval(() => {\n      if (this.selectedContact) {\n        this.fetchMessages();\n      }\n      this.fetchUnreadCount();\n    }, 2000);\n  },\n  beforeUnmount() {\n    if (this.refreshInterval) {\n      clearInterval(this.refreshInterval);\n    }\n  },\n  methods: {\n    async fetchContacts() {\n      try {\n        const res = await axios.get('http://localhost:5000/api/messages/list', {\n          headers: {\n            Authorization: `Bearer ${this.token}`\n          }\n        });\n        if (res.data.success) {\n          this.contacts = res.data.data;\n        }\n      } catch (err) {\n        console.error('Error fetching contacts:', err);\n      }\n    },\n    async fetchMessages() {\n      if (!this.selectedContact) return;\n      try {\n        const res = await axios.get(`http://localhost:5000/api/messages/conversation/${this.selectedContact.email}`, {\n          headers: {\n            Authorization: `Bearer ${this.token}`\n          }\n        });\n        if (res.data.success) {\n          this.messages = res.data.data;\n          this.$nextTick(() => {\n            const container = this.$refs.messagesContainer;\n            if (container) {\n              container.scrollTop = container.scrollHeight;\n            }\n          });\n        }\n      } catch (err) {\n        console.error('Error fetching messages:', err);\n      }\n    },\n    async sendMessage() {\n      if (!this.newMessage.trim() || !this.selectedContact) return;\n      this.sending = true;\n      try {\n        const res = await axios.post('http://localhost:5000/api/messages/send', {\n          receiverEmail: this.selectedContact.email,\n          message: this.newMessage\n        }, {\n          headers: {\n            Authorization: `Bearer ${this.token}`\n          }\n        });\n        if (res.status === 201) {\n          this.newMessage = '';\n          await this.fetchMessages();\n        }\n      } catch (err) {\n        console.error('Error sending message:', err);\n      } finally {\n        this.sending = false;\n      }\n    },\n    selectContact(contact) {\n      this.selectedContact = contact;\n      this.fetchMessages();\n    },\n    async fetchUnreadCount() {\n      try {\n        const res = await axios.get('http://localhost:5000/api/messages/unread-count', {\n          headers: {\n            Authorization: `Bearer ${this.token}`\n          }\n        });\n        if (res.data.success) {\n          this.unreadCount = res.data.unreadCount;\n        }\n      } catch (err) {\n        console.error('Error fetching unread count:', err);\n      }\n    },\n    formatTime(timestamp) {\n      const date = new Date(timestamp);\n      const hours = String(date.getHours()).padStart(2, '0');\n      const minutes = String(date.getMinutes()).padStart(2, '0');\n      return `${hours}:${minutes}`;\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","contacts","selectedContact","messages","newMessage","loading","sending","userEmail","apiBase","defaultAvatar","unreadCount","refreshInterval","computed","token","localStorage","getItem","mounted","user","JSON","parse","email","fetchContacts","fetchUnreadCount","setInterval","fetchMessages","beforeUnmount","clearInterval","methods","res","get","headers","Authorization","success","err","console","error","$nextTick","container","$refs","messagesContainer","scrollTop","scrollHeight","sendMessage","trim","post","receiverEmail","message","status","selectContact","contact","formatTime","timestamp","date","Date","hours","String","getHours","padStart","minutes","getMinutes"],"sources":["C:\\Users\\LENOVO\\Music\\OneDrive\\Pictures\\distribution-agency-project\\frontend\\src\\views\\ChatWindow.vue"],"sourcesContent":["<template>\r\n  <div class=\"chat-container\">\r\n    <div class=\"chat-sidebar\">\r\n      <div class=\"chat-header\">\r\n        <h3>Messages</h3>\r\n        <span v-if=\"unreadCount > 0\" class=\"unread-badge\">{{ unreadCount }}</span>\r\n      </div>\r\n      \r\n      <div class=\"chat-list\">\r\n        <div\r\n          v-for=\"contact in contacts\"\r\n          :key=\"contact.email\"\r\n          @click=\"selectContact(contact)\"\r\n          :class=\"['chat-item', { active: selectedContact && selectedContact.email === contact.email }]\"\r\n        >\r\n          <div class=\"chat-item-avatar\">\r\n            <img\r\n              :src=\"contact.profilePhoto ? apiBase + contact.profilePhoto : defaultAvatar\"\r\n              :alt=\"contact.name\"\r\n              class=\"avatar-img\"\r\n            />\r\n            <span v-if=\"contact.isAdmin\" class=\"admin-badge\">A</span>\r\n          </div>\r\n          <div class=\"chat-item-content\">\r\n            <div class=\"chat-item-name\">{{ contact.name }}</div>\r\n            <div v-if=\"contact.unreadCount > 0\" class=\"unread-indicator\">\r\n              {{ contact.unreadCount }} new message{{ contact.unreadCount > 1 ? 's' : '' }}\r\n            </div>\r\n          </div>\r\n          <span v-if=\"contact.unreadCount > 0\" class=\"unread-dot\"></span>\r\n        </div>\r\n\r\n        <div v-if=\"contacts.length === 0\" class=\"no-contacts\">\r\n          No contacts available\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"chat-main\">\r\n      <div v-if=\"selectedContact\" class=\"chat-window\">\r\n        <div class=\"chat-header-window\">\r\n          <img\r\n            :src=\"selectedContact.profilePhoto ? apiBase + selectedContact.profilePhoto : defaultAvatar\"\r\n            :alt=\"selectedContact.name\"\r\n            class=\"header-avatar\"\r\n          />\r\n          <div class=\"header-info\">\r\n            <h4>{{ selectedContact.name }}</h4>\r\n            <span v-if=\"selectedContact.isAdmin\" class=\"admin-label\">Administrator</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"messages-container\" ref=\"messagesContainer\">\r\n          <div\r\n            v-for=\"msg in messages\"\r\n            :key=\"msg._id\"\r\n            :class=\"['message', { 'sent': msg.senderEmail === userEmail, 'received': msg.senderEmail !== userEmail }]\"\r\n          >\r\n            <div class=\"message-content\">{{ msg.message }}</div>\r\n            <div class=\"message-time\">{{ formatTime(msg.timestamp) }}</div>\r\n          </div>\r\n\r\n          <div v-if=\"messages.length === 0\" class=\"no-messages\">\r\n            Start a conversation\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"chat-input-area\">\r\n          <input\r\n            v-model=\"newMessage\"\r\n            @keyup.enter=\"sendMessage\"\r\n            type=\"text\"\r\n            placeholder=\"Type your message...\"\r\n            class=\"message-input\"\r\n          />\r\n          <button @click=\"sendMessage\" :disabled=\"!newMessage.trim() || sending\" class=\"send-btn\">\r\n            <span v-if=\"!sending\">üì§</span>\r\n            <span v-else>‚è≥</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div v-else class=\"no-contact-selected\">\r\n        <div class=\"empty-state\">\r\n          <span class=\"empty-icon\">üí¨</span>\r\n          <h3>Select a contact to start chatting</h3>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'ChatWindow',\r\n  data() {\r\n    return {\r\n      contacts: [],\r\n      selectedContact: null,\r\n      messages: [],\r\n      newMessage: '',\r\n      loading: false,\r\n      sending: false,\r\n      userEmail: '',\r\n      apiBase: 'http://localhost:5000',\r\n      defaultAvatar: '/default-avatar.png',\r\n      unreadCount: 0,\r\n      refreshInterval: null,\r\n    };\r\n  },\r\n  computed: {\r\n    token() {\r\n      return localStorage.getItem('token');\r\n    },\r\n  },\r\n  mounted() {\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n    this.userEmail = user?.email || '';\r\n    \r\n    this.fetchContacts();\r\n    this.fetchUnreadCount();\r\n    \r\n    this.refreshInterval = setInterval(() => {\r\n      if (this.selectedContact) {\r\n        this.fetchMessages();\r\n      }\r\n      this.fetchUnreadCount();\r\n    }, 2000);\r\n  },\r\n  beforeUnmount() {\r\n    if (this.refreshInterval) {\r\n      clearInterval(this.refreshInterval);\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchContacts() {\r\n      try {\r\n        const res = await axios.get('http://localhost:5000/api/messages/list', {\r\n          headers: { Authorization: `Bearer ${this.token}` },\r\n        });\r\n\r\n        if (res.data.success) {\r\n          this.contacts = res.data.data;\r\n        }\r\n      } catch (err) {\r\n        console.error('Error fetching contacts:', err);\r\n      }\r\n    },\r\n    async fetchMessages() {\r\n      if (!this.selectedContact) return;\r\n\r\n      try {\r\n        const res = await axios.get(\r\n          `http://localhost:5000/api/messages/conversation/${this.selectedContact.email}`,\r\n          { headers: { Authorization: `Bearer ${this.token}` } }\r\n        );\r\n\r\n        if (res.data.success) {\r\n          this.messages = res.data.data;\r\n          this.$nextTick(() => {\r\n            const container = this.$refs.messagesContainer;\r\n            if (container) {\r\n              container.scrollTop = container.scrollHeight;\r\n            }\r\n          });\r\n        }\r\n      } catch (err) {\r\n        console.error('Error fetching messages:', err);\r\n      }\r\n    },\r\n    async sendMessage() {\r\n      if (!this.newMessage.trim() || !this.selectedContact) return;\r\n\r\n      this.sending = true;\r\n      try {\r\n        const res = await axios.post(\r\n          'http://localhost:5000/api/messages/send',\r\n          {\r\n            receiverEmail: this.selectedContact.email,\r\n            message: this.newMessage,\r\n          },\r\n          { headers: { Authorization: `Bearer ${this.token}` } }\r\n        );\r\n\r\n        if (res.status === 201) {\r\n          this.newMessage = '';\r\n          await this.fetchMessages();\r\n        }\r\n      } catch (err) {\r\n        console.error('Error sending message:', err);\r\n      } finally {\r\n        this.sending = false;\r\n      }\r\n    },\r\n    selectContact(contact) {\r\n      this.selectedContact = contact;\r\n      this.fetchMessages();\r\n    },\r\n    async fetchUnreadCount() {\r\n      try {\r\n        const res = await axios.get('http://localhost:5000/api/messages/unread-count', {\r\n          headers: { Authorization: `Bearer ${this.token}` },\r\n        });\r\n\r\n        if (res.data.success) {\r\n          this.unreadCount = res.data.unreadCount;\r\n        }\r\n      } catch (err) {\r\n        console.error('Error fetching unread count:', err);\r\n      }\r\n    },\r\n    formatTime(timestamp) {\r\n      const date = new Date(timestamp);\r\n      const hours = String(date.getHours()).padStart(2, '0');\r\n      const minutes = String(date.getMinutes()).padStart(2, '0');\r\n      return `${hours}:${minutes}`;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.chat-container {\r\n  display: flex;\r\n  height: 100%;\r\n  background: white;\r\n  border-radius: 12px;\r\n  overflow: hidden;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\r\n}\r\n\r\n.chat-sidebar {\r\n  width: 320px;\r\n  background: #f8fafc;\r\n  border-right: 1px solid #e2e8f0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 500px;\r\n}\r\n\r\n.chat-header {\r\n  padding: 16px;\r\n  border-bottom: 1px solid #e2e8f0;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.chat-header h3 {\r\n  margin: 0;\r\n  font-size: 18px;\r\n  font-weight: 700;\r\n  color: #1e293b;\r\n}\r\n\r\n.unread-badge {\r\n  background: #ef4444;\r\n  color: white;\r\n  padding: 2px 8px;\r\n  border-radius: 12px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n}\r\n\r\n.chat-list {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n}\r\n\r\n.chat-item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 12px 12px;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  border-bottom: 1px solid #f1f5f9;\r\n}\r\n\r\n.chat-item:hover {\r\n  background: #f1f5f9;\r\n}\r\n\r\n.chat-item.active {\r\n  background: white;\r\n  border-left: 4px solid #2563eb;\r\n  padding-left: 8px;\r\n}\r\n\r\n.chat-item-avatar {\r\n  position: relative;\r\n  margin-right: 12px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.avatar-img {\r\n  width: 48px;\r\n  height: 48px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  border: 2px solid #e2e8f0;\r\n}\r\n\r\n.admin-badge {\r\n  position: absolute;\r\n  bottom: 0;\r\n  right: 0;\r\n  width: 20px;\r\n  height: 20px;\r\n  background: #2563eb;\r\n  color: white;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 11px;\r\n  font-weight: 700;\r\n  border: 2px solid white;\r\n}\r\n\r\n.chat-item-content {\r\n  flex: 1;\r\n  min-width: 0;\r\n}\r\n\r\n.chat-item-name {\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: #1e293b;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.unread-indicator {\r\n  font-size: 12px;\r\n  color: #64748b;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.unread-dot {\r\n  width: 12px;\r\n  height: 12px;\r\n  background: #ef4444;\r\n  border-radius: 50%;\r\n  margin-left: 8px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.no-contacts {\r\n  padding: 24px;\r\n  text-align: center;\r\n  color: #94a3b8;\r\n  font-size: 14px;\r\n}\r\n\r\n.chat-main {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: white;\r\n}\r\n\r\n.chat-window {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n}\r\n\r\n.chat-header-window {\r\n  padding: 16px;\r\n  border-bottom: 1px solid #e2e8f0;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  background: white;\r\n}\r\n\r\n.header-avatar {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  border: 2px solid #e2e8f0;\r\n}\r\n\r\n.header-info {\r\n  flex: 1;\r\n}\r\n\r\n.header-info h4 {\r\n  margin: 0;\r\n  font-size: 15px;\r\n  font-weight: 600;\r\n  color: #1e293b;\r\n}\r\n\r\n.admin-label {\r\n  font-size: 12px;\r\n  color: #64748b;\r\n}\r\n\r\n.messages-container {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 16px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n  background: #f8fafc;\r\n}\r\n\r\n.message {\r\n  display: flex;\r\n  flex-direction: column;\r\n  max-width: 60%;\r\n}\r\n\r\n.message.sent {\r\n  align-self: flex-end;\r\n}\r\n\r\n.message.received {\r\n  align-self: flex-start;\r\n}\r\n\r\n.message-content {\r\n  padding: 10px 14px;\r\n  border-radius: 12px;\r\n  word-wrap: break-word;\r\n  font-size: 14px;\r\n  line-height: 1.4;\r\n}\r\n\r\n.message.sent .message-content {\r\n  background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);\r\n  color: white;\r\n  border-bottom-right-radius: 4px;\r\n}\r\n\r\n.message.received .message-content {\r\n  background: white;\r\n  color: #1e293b;\r\n  border: 1px solid #e2e8f0;\r\n  border-bottom-left-radius: 4px;\r\n}\r\n\r\n.message-time {\r\n  font-size: 11px;\r\n  color: #94a3b8;\r\n  margin-top: 4px;\r\n  padding: 0 4px;\r\n}\r\n\r\n.message.sent .message-time {\r\n  text-align: right;\r\n}\r\n\r\n.no-messages {\r\n  text-align: center;\r\n  color: #94a3b8;\r\n  padding: 40px 20px;\r\n  font-size: 14px;\r\n}\r\n\r\n.chat-input-area {\r\n  padding: 16px;\r\n  border-top: 1px solid #e2e8f0;\r\n  background: white;\r\n  display: flex;\r\n  gap: 8px;\r\n}\r\n\r\n.message-input {\r\n  flex: 1;\r\n  padding: 10px 14px;\r\n  border: 1px solid #e2e8f0;\r\n  border-radius: 20px;\r\n  font-size: 14px;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.message-input:focus {\r\n  outline: none;\r\n  border-color: #2563eb;\r\n  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);\r\n}\r\n\r\n.send-btn {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);\r\n  border: none;\r\n  color: white;\r\n  cursor: pointer;\r\n  font-size: 18px;\r\n  transition: all 0.3s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.send-btn:hover:not(:disabled) {\r\n  transform: scale(1.05);\r\n  box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);\r\n}\r\n\r\n.send-btn:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.no-contact-selected {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.empty-state {\r\n  text-align: center;\r\n}\r\n\r\n.empty-icon {\r\n  font-size: 64px;\r\n  display: block;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.empty-state h3 {\r\n  margin: 0;\r\n  color: #94a3b8;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .chat-container {\r\n    min-height: 400px;\r\n  }\r\n\r\n  .chat-sidebar {\r\n    width: 100%;\r\n  }\r\n\r\n  .chat-main {\r\n    display: none;\r\n  }\r\n\r\n  .chat-item.active ~ .chat-main {\r\n    display: flex;\r\n  }\r\n\r\n  .message {\r\n    max-width: 85%;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}