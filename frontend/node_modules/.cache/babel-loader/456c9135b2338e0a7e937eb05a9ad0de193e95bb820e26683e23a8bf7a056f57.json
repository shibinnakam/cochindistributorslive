{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  data() {\n    return {\n      password: \"\",\n      confirmPassword: \"\",\n      error: \"\",\n      message: \"\",\n      loading: false,\n      token: \"\"\n    };\n  },\n  created() {\n    // Get token from query param\n    this.token = this.$route.query.token || \"\";\n    if (!this.token) {\n      this.error = \"Invalid or missing token.\";\n    }\n  },\n  methods: {\n    async handleSubmit() {\n      this.error = \"\";\n      this.message = \"\";\n      if (this.password !== this.confirmPassword) {\n        this.error = \"Passwords do not match.\";\n        return;\n      }\n\n      // Optional: add your password validation here (length, special chars, etc.)\n\n      this.loading = true;\n      try {\n        const res = await axios.post(\"/api/auth/reset-password\", {\n          token: this.token,\n          password: this.password\n        });\n        this.message = res.data.message || \"Password updated successfully!\";\n      } catch (err) {\n        this.error = err.response?.data?.message || \"Error resetting password.\";\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","password","confirmPassword","error","message","loading","token","created","$route","query","methods","handleSubmit","res","post","err","response"],"sources":["C:\\Users\\LENOVO\\Music\\distribution-agency-project\\frontend\\src\\views\\ResetPassword.vue"],"sourcesContent":["<template>\n  <div class=\"reset-password-container\">\n    <h2>Reset Password</h2>\n    <form @submit.prevent=\"handleSubmit\">\n      <input\n        type=\"password\"\n        v-model=\"password\"\n        placeholder=\"Enter new password\"\n        required\n      />\n      <input\n        type=\"password\"\n        v-model=\"confirmPassword\"\n        placeholder=\"Confirm new password\"\n        required\n      />\n      <p v-if=\"error\" class=\"error\">{{ error }}</p>\n      <p v-if=\"message\" class=\"message\">{{ message }}</p>\n      <button type=\"submit\" :disabled=\"loading\">\n        {{ loading ? \"Updating...\" : \"Reset Password\" }}\n      </button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      password: \"\",\n      confirmPassword: \"\",\n      error: \"\",\n      message: \"\",\n      loading: false,\n      token: \"\",\n    };\n  },\n  created() {\n    // Get token from query param\n    this.token = this.$route.query.token || \"\";\n    if (!this.token) {\n      this.error = \"Invalid or missing token.\";\n    }\n  },\n  methods: {\n    async handleSubmit() {\n      this.error = \"\";\n      this.message = \"\";\n\n      if (this.password !== this.confirmPassword) {\n        this.error = \"Passwords do not match.\";\n        return;\n      }\n\n      // Optional: add your password validation here (length, special chars, etc.)\n\n      this.loading = true;\n      try {\n        const res = await axios.post(\"/api/auth/reset-password\", {\n          token: this.token,\n          password: this.password,\n        });\n        this.message = res.data.message || \"Password updated successfully!\";\n      } catch (err) {\n        this.error = err.response?.data?.message || \"Error resetting password.\";\n      } finally {\n        this.loading = false;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.reset-password-container {\n  max-width: 400px;\n  margin: 3rem auto;\n  padding: 2rem;\n  border: 1px solid #ccc;\n  border-radius: 8px;\n}\ninput {\n  width: 100%;\n  padding: 0.5rem;\n  margin-bottom: 0.7rem;\n  border-radius: 4px;\n  border: 1px solid #ccc;\n}\nbutton {\n  width: 100%;\n  padding: 0.6rem;\n  background-color: #1e3a8a;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n}\nbutton:disabled {\n  background-color: #888;\n  cursor: not-allowed;\n}\n.error {\n  color: red;\n  font-size: 0.9rem;\n}\n.message {\n  color: green;\n  font-size: 0.9rem;\n}\n</style>\n"],"mappings":"AA0BA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,eAAe,EAAE,EAAE;MACnBC,KAAK,EAAE,EAAE;MACTC,OAAO,EAAE,EAAE;MACXC,OAAO,EAAE,KAAK;MACdC,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR;IACA,IAAI,CAACD,KAAI,GAAI,IAAI,CAACE,MAAM,CAACC,KAAK,CAACH,KAAI,IAAK,EAAE;IAC1C,IAAI,CAAC,IAAI,CAACA,KAAK,EAAE;MACf,IAAI,CAACH,KAAI,GAAI,2BAA2B;IAC1C;EACF,CAAC;EACDO,OAAO,EAAE;IACP,MAAMC,YAAYA,CAAA,EAAG;MACnB,IAAI,CAACR,KAAI,GAAI,EAAE;MACf,IAAI,CAACC,OAAM,GAAI,EAAE;MAEjB,IAAI,IAAI,CAACH,QAAO,KAAM,IAAI,CAACC,eAAe,EAAE;QAC1C,IAAI,CAACC,KAAI,GAAI,yBAAyB;QACtC;MACF;;MAEA;;MAEA,IAAI,CAACE,OAAM,GAAI,IAAI;MACnB,IAAI;QACF,MAAMO,GAAE,GAAI,MAAMb,KAAK,CAACc,IAAI,CAAC,0BAA0B,EAAE;UACvDP,KAAK,EAAE,IAAI,CAACA,KAAK;UACjBL,QAAQ,EAAE,IAAI,CAACA;QACjB,CAAC,CAAC;QACF,IAAI,CAACG,OAAM,GAAIQ,GAAG,CAACZ,IAAI,CAACI,OAAM,IAAK,gCAAgC;MACrE,EAAE,OAAOU,GAAG,EAAE;QACZ,IAAI,CAACX,KAAI,GAAIW,GAAG,CAACC,QAAQ,EAAEf,IAAI,EAAEI,OAAM,IAAK,2BAA2B;MACzE,UAAU;QACR,IAAI,CAACC,OAAM,GAAI,KAAK;MACtB;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}