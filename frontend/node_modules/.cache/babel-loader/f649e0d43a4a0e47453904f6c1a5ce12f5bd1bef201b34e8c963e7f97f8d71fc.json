{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"@/assets/styles/AdminPage.css\";\nimport axios from \"axios\";\nexport default {\n  name: \"AdminPage\",\n  data() {\n    return {\n      selectedMenu: \"dashboard\",\n      // default view\n      products: [],\n      form: {\n        name: \"\",\n        description: \"\",\n        originalPrice: \"\",\n        discountPrice: \"\",\n        image: null\n      }\n    };\n  },\n  computed: {\n    headerTitle() {\n      if (this.selectedMenu === \"dashboard\") return \"Dashboard\";\n      if (this.selectedMenu === \"addProduct\") return \"Add Product\";\n      if (this.selectedMenu === \"products\") return \"Products\";\n      return \"Dashboard\";\n    }\n  },\n  methods: {\n    async fetchProducts() {\n      try {\n        const res = await axios.get(\"http://localhost:5000/api/products/getproduct\");\n        this.products = res.data.products;\n      } catch (err) {\n        console.error(\"Error fetching products:\", err);\n      }\n    },\n    async deleteProduct(id) {\n      if (confirm(\"Are you sure you want to delete this product?\")) {\n        try {\n          await axios.delete(`http://localhost:5000/api/products/deleteproduct/${id}`);\n          this.fetchProducts();\n        } catch (err) {\n          console.error(\"Error deleting product:\", err);\n        }\n      }\n    },\n    handleFileUpload(event) {\n      this.form.image = event.target.files[0];\n    },\n    async addProduct() {\n      try {\n        const formData = new FormData();\n        formData.append(\"name\", this.form.name);\n        formData.append(\"description\", this.form.description);\n        formData.append(\"originalPrice\", this.form.originalPrice);\n        formData.append(\"discountPrice\", this.form.discountPrice);\n        formData.append(\"image\", this.form.image);\n        await axios.post(\"http://localhost:5000/api/products/addproduct\", formData, {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\"\n          }\n        });\n        alert(\"Product added successfully!\");\n        this.selectedMenu = \"products\";\n        this.fetchProducts();\n\n        // reset form\n        this.form = {\n          name: \"\",\n          description: \"\",\n          originalPrice: \"\",\n          discountPrice: \"\",\n          image: null\n        };\n      } catch (err) {\n        console.error(\"Error adding product:\", err);\n      }\n    },\n    logout() {\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"user\");\n      this.$router.push(\"/login\");\n    }\n  },\n  watch: {\n    selectedMenu(newVal) {\n      if (newVal === \"products\") {\n        this.fetchProducts();\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","selectedMenu","products","form","description","originalPrice","discountPrice","image","computed","headerTitle","methods","fetchProducts","res","get","err","console","error","deleteProduct","id","confirm","delete","handleFileUpload","event","target","files","addProduct","formData","FormData","append","post","headers","alert","logout","localStorage","removeItem","$router","push","watch","newVal"],"sources":["C:\\Users\\LENOVO\\Music\\distribution-agency-project\\frontend\\src\\views\\AdminPage.vue"],"sourcesContent":["<template>\n  <div class=\"admin-wrapper\">\n    <!-- Sidebar -->\n    <aside class=\"sidebar\">\n      <h2 class=\"sidebar-title\">Master Admin</h2>\n      <ul class=\"menu\">\n        <li>\n          <a href=\"#\" @click=\"selectedMenu = 'dashboard'\">Dashboard</a>\n        </li>\n        <li>\n          <a href=\"#\" @click=\"selectedMenu = 'addProduct'\">Add Products</a>\n        </li>\n        <li>\n          <a href=\"#\" @click=\"selectedMenu = 'products'\">View Products</a>\n        </li>\n        <li><a href=\"#\">Settings</a></li>\n        <li><a href=\"#\">Page Management</a></li>\n        <li><a href=\"#\">Metadata</a></li>\n        <li><a href=\"#\">Slider Management</a></li>\n        <li><a href=\"#\">Team Management</a></li>\n        <li><a href=\"#\">Services Management</a></li>\n        <li><a href=\"#\">Portfolio Management</a></li>\n        <li><a href=\"#\">Enquiry Management</a></li>\n      </ul>\n    </aside>\n\n    <!-- Main -->\n    <div class=\"main\">\n      <!-- Header -->\n      <header class=\"header\">\n        <h1>\n          {{ headerTitle }}\n          <span v-if=\"selectedMenu === 'dashboard'\" class=\"small\"\n            >Control panel</span\n          >\n        </h1>\n\n        <div class=\"admin-menu\">\n          <span>Laravel Admin ▾</span>\n          <button class=\"logout-btn\" @click=\"logout\">\n            <i class=\"bi bi-box-arrow-right\"></i> Logout\n          </button>\n        </div>\n      </header>\n\n      <!-- Content Switching -->\n      <main class=\"content\">\n        <!-- Dashboard View -->\n        <div v-if=\"selectedMenu === 'dashboard'\" class=\"dashboard-boxes\">\n          <div class=\"card blue\">\n            <h2>4</h2>\n            <p>Total Static Page</p>\n            <span class=\"info\">More info →</span>\n          </div>\n          <div class=\"card orange\">\n            <h2>15</h2>\n            <p>Total Slider</p>\n            <span class=\"info\">More info →</span>\n          </div>\n          <div class=\"card red\">\n            <h2>70</h2>\n            <p>Total Team</p>\n            <span class=\"info\">More info →</span>\n          </div>\n          <div class=\"card green\">\n            <h2>20</h2>\n            <p>Total Services</p>\n            <span class=\"info\">More info →</span>\n          </div>\n          <div class=\"card purple\">\n            <h2>30</h2>\n            <p>Total Portfolio</p>\n            <span class=\"info\">More info →</span>\n          </div>\n          <div class=\"card pink\">\n            <h2>50</h2>\n            <p>Total User</p>\n            <span class=\"info\">More info →</span>\n          </div>\n          <div class=\"card teal\">\n            <h2>65</h2>\n            <p>Total Enquiries</p>\n            <span class=\"info\">More info →</span>\n          </div>\n        </div>\n\n        <!-- Add Product Form -->\n        <section v-if=\"selectedMenu === 'addProduct'\" class=\"form-section\">\n          <h2>Add New Product</h2>\n          <form @submit.prevent=\"addProduct\" enctype=\"multipart/form-data\">\n            <div class=\"form-group\">\n              <label>Name</label>\n              <input type=\"text\" v-model=\"form.name\" required />\n            </div>\n            <div class=\"form-group\">\n              <label>Description</label>\n              <textarea v-model=\"form.description\" required></textarea>\n            </div>\n            <div class=\"form-group\">\n              <label>Original Price</label>\n              <input type=\"number\" v-model=\"form.originalPrice\" required />\n            </div>\n            <div class=\"form-group\">\n              <label>Discount Price</label>\n              <input type=\"number\" v-model=\"form.discountPrice\" required />\n            </div>\n            <div class=\"form-group\">\n              <label>Image</label>\n              <input type=\"file\" @change=\"handleFileUpload\" required />\n            </div>\n            <button type=\"submit\" class=\"submit-btn\">Add Product</button>\n          </form>\n        </section>\n\n        <!-- Products View -->\n        <section v-if=\"selectedMenu === 'products'\" class=\"products-section\">\n          <h2>Uploaded Products</h2>\n          <table class=\"products-table\">\n            <thead>\n              <tr>\n                <th>Image</th>\n                <th>Name</th>\n                <th>Description</th>\n                <th>Original Price</th>\n                <th>Discount Price</th>\n                <th>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"product in products\" :key=\"product._id\">\n                <td>\n                  <img\n                    :src=\"`http://localhost:5000${product.image}`\"\n                    alt=\"Product Image\"\n                    class=\"product-img\"\n                  />\n                </td>\n                <td>{{ product.name }}</td>\n                <td>{{ product.description }}</td>\n                <td>₹{{ product.originalPrice }}</td>\n                <td>₹{{ product.discountPrice }}</td>\n                <td>\n                  <button\n                    class=\"delete-btn\"\n                    @click=\"deleteProduct(product._id)\"\n                  >\n                    Delete\n                  </button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </section>\n      </main>\n    </div>\n  </div>\n</template>\n\n<script>\nimport \"@/assets/styles/AdminPage.css\";\n\nimport axios from \"axios\";\n\nexport default {\n  name: \"AdminPage\",\n  data() {\n    return {\n      selectedMenu: \"dashboard\", // default view\n      products: [],\n      form: {\n        name: \"\",\n        description: \"\",\n        originalPrice: \"\",\n        discountPrice: \"\",\n        image: null,\n      },\n    };\n  },\n  computed: {\n    headerTitle() {\n      if (this.selectedMenu === \"dashboard\") return \"Dashboard\";\n      if (this.selectedMenu === \"addProduct\") return \"Add Product\";\n      if (this.selectedMenu === \"products\") return \"Products\";\n      return \"Dashboard\";\n    },\n  },\n  methods: {\n    async fetchProducts() {\n      try {\n        const res = await axios.get(\n          \"http://localhost:5000/api/products/getproduct\"\n        );\n        this.products = res.data.products;\n      } catch (err) {\n        console.error(\"Error fetching products:\", err);\n      }\n    },\n    async deleteProduct(id) {\n      if (confirm(\"Are you sure you want to delete this product?\")) {\n        try {\n          await axios.delete(\n            `http://localhost:5000/api/products/deleteproduct/${id}`\n          );\n          this.fetchProducts();\n        } catch (err) {\n          console.error(\"Error deleting product:\", err);\n        }\n      }\n    },\n    handleFileUpload(event) {\n      this.form.image = event.target.files[0];\n    },\n    async addProduct() {\n      try {\n        const formData = new FormData();\n        formData.append(\"name\", this.form.name);\n        formData.append(\"description\", this.form.description);\n        formData.append(\"originalPrice\", this.form.originalPrice);\n        formData.append(\"discountPrice\", this.form.discountPrice);\n        formData.append(\"image\", this.form.image);\n\n        await axios.post(\n          \"http://localhost:5000/api/products/addproduct\",\n          formData,\n          {\n            headers: { \"Content-Type\": \"multipart/form-data\" },\n          }\n        );\n\n        alert(\"Product added successfully!\");\n        this.selectedMenu = \"products\";\n        this.fetchProducts();\n\n        // reset form\n        this.form = {\n          name: \"\",\n          description: \"\",\n          originalPrice: \"\",\n          discountPrice: \"\",\n          image: null,\n        };\n      } catch (err) {\n        console.error(\"Error adding product:\", err);\n      }\n    },\n    logout() {\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"user\");\n      this.$router.push(\"/login\");\n    },\n  },\n  watch: {\n    selectedMenu(newVal) {\n      if (newVal === \"products\") {\n        this.fetchProducts();\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* Add styles for form */\n.form-section {\n  margin: 20px;\n  padding: 20px;\n  background: #fff;\n  border-radius: 12px;\n  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);\n}\n\n.form-group {\n  margin-bottom: 15px;\n}\n\n.form-group label {\n  display: block;\n  font-weight: bold;\n  margin-bottom: 6px;\n}\n\n.form-group input,\n.form-group textarea {\n  width: 100%;\n  padding: 8px;\n  border-radius: 6px;\n  border: 1px solid #ccc;\n}\n\n.submit-btn {\n  background: #4caf50;\n  color: white;\n  padding: 10px 16px;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n}\n\n.products-section {\n  margin: 20px;\n  padding: 20px;\n  background: #fff;\n  border-radius: 12px;\n  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);\n}\n\n.products-table {\n  width: 100%;\n  border-collapse: collapse;\n}\n\n.products-table th,\n.products-table td {\n  padding: 12px;\n  border-bottom: 1px solid #ddd;\n  text-align: center;\n}\n\n.product-img {\n  width: 80px;\n  height: 80px;\n  object-fit: cover;\n}\n\n.delete-btn {\n  background: red;\n  color: #fff;\n  padding: 6px 12px;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}