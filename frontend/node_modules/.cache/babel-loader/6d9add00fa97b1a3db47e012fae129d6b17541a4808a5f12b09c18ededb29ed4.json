{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport axios from \"axios\";\nimport StaffLeave from \"./StaffLeave.vue\";\nimport ChatWindow from \"./ChatWindow.vue\";\nexport default {\n  components: {\n    StaffLeave,\n    ChatWindow\n  },\n  data() {\n    return {\n      currentTab: \"dashboard\",\n      showLeaves: false,\n      staff: {\n        name: \"\",\n        email: \"\",\n        phone: \"\",\n        gender: \"\",\n        address: \"\",\n        pincode: \"\",\n        profilePhoto: \"\"\n      },\n      stats: {\n        totalItems: 0,\n        leavesTaken: 0,\n        pendingLeaves: 0,\n        approvedLeaves: 0\n      },\n      leaveStatus: [],\n      selectedFile: null,\n      message: \"\",\n      apiBase: \"http://localhost:5000\",\n      defaultPhoto: \"/default-avatar.png\",\n      showProfileModal: false,\n      showEditProfile: false,\n      unreadMessageCount: 0,\n      messageInterval: null\n    };\n  },\n  methods: {\n    async fetchProfile() {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const res = await axios.get(`${this.apiBase}/api/staff/me`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        this.staff = res.data.staff;\n      } catch {\n        this.message = \"Error loading profile\";\n      }\n    },\n    async fetchStats() {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const user = JSON.parse(localStorage.getItem(\"user\"));\n        const email = user?.email;\n        const productsRes = await axios.get(`${this.apiBase}/api/products/getproduct`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        let leavesRes = [];\n        if (email) {\n          try {\n            leavesRes = await axios.get(`${this.apiBase}/api/leaves/my`, {\n              headers: {\n                Authorization: `Bearer ${token}`\n              },\n              params: {\n                email\n              }\n            });\n          } catch (err) {\n            console.error(\"Error fetching leaves:\", err);\n            leavesRes = [];\n          }\n        }\n        const products = productsRes.data.products || [];\n        const leaves = Array.isArray(leavesRes) ? leavesRes : leavesRes.data || [];\n        this.stats = {\n          totalItems: products.length,\n          leavesTaken: leaves.filter(l => l.status === \"Approved\").length,\n          pendingLeaves: leaves.filter(l => l.status === \"Pending\").length,\n          approvedLeaves: leaves.filter(l => l.status === \"Approved\").length\n        };\n      } catch (err) {\n        console.error(\"Error fetching stats:\", err);\n      }\n    },\n    onFileChange(e) {\n      this.selectedFile = e.target.files[0];\n    },\n    async updateProfile() {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const formData = new FormData();\n        Object.keys(this.staff).forEach(key => {\n          if (key !== \"email\") formData.append(key, this.staff[key]);\n        });\n        if (this.selectedFile) formData.append(\"profilePhoto\", this.selectedFile);\n        const res = await axios.put(`${this.apiBase}/api/staff/update`, formData, {\n          headers: {\n            Authorization: `Bearer ${token}`,\n            \"Content-Type\": \"multipart/form-data\"\n          }\n        });\n        this.message = res.data.message;\n        this.fetchProfile();\n        this.showEditProfile = false;\n        setTimeout(() => {\n          this.message = \"\";\n        }, 3000);\n      } catch (err) {\n        this.message = err.response?.data?.message || \"Error updating profile\";\n        setTimeout(() => {\n          this.message = \"\";\n        }, 3000);\n      }\n    },\n    toggleLeaves() {\n      this.showLeaves = !this.showLeaves;\n    },\n    logout() {\n      localStorage.removeItem(\"token\");\n      this.$router.push(\"/login\");\n    },\n    async fetchLeaveStatus() {\n      try {\n        const user = JSON.parse(localStorage.getItem(\"user\"));\n        const email = user?.email;\n        if (!email) return;\n        const token = localStorage.getItem(\"token\");\n        const res = await axios.get(`${this.apiBase}/api/leaves/my`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          },\n          params: {\n            email\n          }\n        });\n        this.leaveStatus = res.data;\n      } catch (err) {\n        console.error(\"Error fetching leave status\", err);\n      }\n    },\n    formatDate(dateStr) {\n      return new Date(dateStr).toLocaleDateString();\n    },\n    closeProfileModal() {\n      this.showProfileModal = false;\n      this.showEditProfile = false;\n      this.currentTab = \"dashboard\";\n    },\n    async fetchUnreadMessages() {\n      try {\n        const token = localStorage.getItem(\"token\");\n        if (!token) return;\n        const res = await axios.get(\"http://localhost:5000/api/messages/unread-count\", {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        if (res.data.success) {\n          this.unreadMessageCount = res.data.unreadCount;\n        }\n      } catch (err) {\n        console.error(\"Error fetching unread messages:\", err);\n      }\n    }\n  },\n  beforeUnmount() {\n    if (this.messageInterval) {\n      clearInterval(this.messageInterval);\n    }\n  },\n  watch: {\n    currentTab(newTab) {\n      if (newTab === \"leave-status\") this.fetchLeaveStatus();\n      if (newTab === \"profile\") this.showProfileModal = true;\n    }\n  },\n  mounted() {\n    this.fetchProfile();\n    this.fetchStats();\n    this.fetchUnreadMessages();\n    this.messageInterval = setInterval(() => {\n      this.fetchUnreadMessages();\n    }, 3000);\n  }\n};","map":{"version":3,"names":["axios","StaffLeave","ChatWindow","components","data","currentTab","showLeaves","staff","name","email","phone","gender","address","pincode","profilePhoto","stats","totalItems","leavesTaken","pendingLeaves","approvedLeaves","leaveStatus","selectedFile","message","apiBase","defaultPhoto","showProfileModal","showEditProfile","unreadMessageCount","messageInterval","methods","fetchProfile","token","localStorage","getItem","res","get","headers","Authorization","fetchStats","user","JSON","parse","productsRes","leavesRes","params","err","console","error","products","leaves","Array","isArray","length","filter","l","status","onFileChange","e","target","files","updateProfile","formData","FormData","Object","keys","forEach","key","append","put","setTimeout","response","toggleLeaves","logout","removeItem","$router","push","fetchLeaveStatus","formatDate","dateStr","Date","toLocaleDateString","closeProfileModal","fetchUnreadMessages","success","unreadCount","beforeUnmount","clearInterval","watch","newTab","mounted","setInterval"],"sources":["C:\\Users\\LENOVO\\Music\\OneDrive\\Pictures\\distribution-agency-project\\frontend\\src\\views\\StaffPage.vue"],"sourcesContent":["<template>\n  <div class=\"staff-dashboard\">\n    <!-- Sidebar -->\n    <aside class=\"sidebar\">\n      <h2 class=\"sidebar-title\">Staff Panel</h2>\n      <ul>\n        <li\n          :class=\"{ active: currentTab === 'dashboard' }\"\n          @click=\"currentTab = 'dashboard'\"\n        >\n          <svg\n            class=\"sidebar-icon\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            stroke-width=\"2\"\n          >\n            <rect x=\"3\" y=\"3\" width=\"7\" height=\"7\"></rect>\n            <rect x=\"14\" y=\"3\" width=\"7\" height=\"7\"></rect>\n            <rect x=\"14\" y=\"14\" width=\"7\" height=\"7\"></rect>\n            <rect x=\"3\" y=\"14\" width=\"7\" height=\"7\"></rect>\n          </svg>\n          <span class=\"sidebar-text\">Dashboard</span>\n        </li>\n        <li\n          :class=\"{ active: currentTab === 'profile' }\"\n          @click=\"currentTab = 'profile'\"\n        >\n          <svg\n            class=\"sidebar-icon\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            stroke-width=\"2\"\n          >\n            <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"></path>\n            <circle cx=\"12\" cy=\"7\" r=\"4\"></circle>\n          </svg>\n          <span class=\"sidebar-text\">Profile</span>\n        </li>\n        <li\n          :class=\"{ active: currentTab === 'items' }\"\n          @click=\"currentTab = 'items'\"\n        >\n          <svg\n            class=\"sidebar-icon\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            stroke-width=\"2\"\n          >\n            <line x1=\"9\" y1=\"2\" x2=\"9\" y2=\"22\"></line>\n            <line x1=\"15\" y1=\"2\" x2=\"15\" y2=\"22\"></line>\n            <line x1=\"3\" y1=\"4\" x2=\"21\" y2=\"4\"></line>\n            <line x1=\"3\" y1=\"10\" x2=\"21\" y2=\"10\"></line>\n            <line x1=\"3\" y1=\"16\" x2=\"21\" y2=\"16\"></line>\n          </svg>\n          <span class=\"sidebar-text\">Manage Items</span>\n        </li>\n\n        <li @click=\"toggleLeaves\" class=\"has-submenu\">\n          <svg\n            class=\"sidebar-icon\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            stroke-width=\"2\"\n          >\n            <path\n              d=\"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z\"\n            ></path>\n            <polyline points=\"13 2 13 9 20 9\"></polyline>\n            <line x1=\"9\" y1=\"13\" x2=\"15\" y2=\"13\"></line>\n            <line x1=\"9\" y1=\"17\" x2=\"15\" y2=\"17\"></line>\n          </svg>\n          <span class=\"sidebar-text\">Leaves</span>\n          <span class=\"arrow\">{{ showLeaves ? \"‚ñº\" : \"‚ñ∂\" }}</span>\n        </li>\n        <ul v-if=\"showLeaves\" class=\"submenu\">\n          <li\n            :class=\"{ active: currentTab === 'apply-leave' }\"\n            @click.stop=\"currentTab = 'apply-leave'\"\n          >\n            <svg\n              class=\"sidebar-icon submenu-icon\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              stroke-width=\"2\"\n            >\n              <path\n                d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"\n              ></path>\n              <path\n                d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"\n              ></path>\n            </svg>\n            <span class=\"sidebar-text\">Apply for Leave</span>\n          </li>\n          <li\n            :class=\"{ active: currentTab === 'leave-status' }\"\n            @click.stop=\"currentTab = 'leave-status'\"\n          >\n            <svg\n              class=\"sidebar-icon submenu-icon\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              stroke-width=\"2\"\n            >\n              <polyline points=\"20 6 9 17 4 12\"></polyline>\n            </svg>\n            <span class=\"sidebar-text\">Leave Status</span>\n          </li>\n        </ul>\n\n        <li\n          :class=\"{ active: currentTab === 'chat' }\"\n          @click=\"currentTab = 'chat'\"\n          class=\"message-item\"\n        >\n          <svg\n            class=\"sidebar-icon\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            stroke-width=\"2\"\n          >\n            <path\n              d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"\n            ></path>\n          </svg>\n          <span class=\"sidebar-text\">Messages</span>\n          <span v-if=\"unreadMessageCount > 0\" class=\"message-badge\">{{ unreadMessageCount }}</span>\n        </li>\n\n        <li @click=\"logout\">\n          <svg\n            class=\"sidebar-icon\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            stroke-width=\"2\"\n          >\n            <path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\"></path>\n            <polyline points=\"16 17 21 12 16 7\"></polyline>\n            <line x1=\"21\" y1=\"12\" x2=\"9\" y2=\"12\"></line>\n          </svg>\n          <span class=\"sidebar-text\">Logout</span>\n        </li>\n      </ul>\n    </aside>\n\n    <!-- Main Content -->\n    <main class=\"content\">\n      <!-- Dashboard Tab -->\n      <div v-if=\"currentTab === 'dashboard'\" class=\"dashboard-tab\">\n        <!-- Hero Banner -->\n        <div class=\"hero-banner-staff\">\n          <div class=\"hero-content-staff\">\n            <h2>Welcome to Your Dashboard</h2>\n            <p>Track your tasks, leaves, and performance</p>\n          </div>\n        </div>\n\n        <!-- Modern Metrics Grid -->\n        <div class=\"metrics-grid-staff\">\n          <div class=\"metric-card-staff\">\n            <div class=\"metric-icon-staff items-icon-staff\">üì¶</div>\n            <div class=\"metric-body-staff\">\n              <div class=\"metric-title-staff\">Total Items</div>\n              <div class=\"metric-number-staff\">{{ stats.totalItems }}</div>\n              <div class=\"metric-footer-staff\">\n                <span class=\"trend-staff positive\">‚Üë 8.2%</span>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"metric-card-staff\">\n            <div class=\"metric-icon-staff leaves-icon-staff\">üèñÔ∏è</div>\n            <div class=\"metric-body-staff\">\n              <div class=\"metric-title-staff\">Leaves Taken</div>\n              <div class=\"metric-number-staff\">{{ stats.leavesTaken }}</div>\n              <div class=\"metric-footer-staff\">\n                <span class=\"trend-staff positive\">‚Üì 2.1%</span>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"metric-card-staff\">\n            <div class=\"metric-icon-staff pending-icon-staff\">‚è≥</div>\n            <div class=\"metric-body-staff\">\n              <div class=\"metric-title-staff\">Pending Leaves</div>\n              <div class=\"metric-number-staff\">{{ stats.pendingLeaves }}</div>\n              <div class=\"metric-footer-staff\">\n                <span class=\"trend-staff positive\">‚Üë 5.3%</span>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"metric-card-staff\">\n            <div class=\"metric-icon-staff completed-icon-staff\">‚úÖ</div>\n            <div class=\"metric-body-staff\">\n              <div class=\"metric-title-staff\">Approved Leaves</div>\n              <div class=\"metric-number-staff\">{{ stats.approvedLeaves }}</div>\n              <div class=\"metric-footer-staff\">\n                <span class=\"trend-staff positive\">‚Üë 12.5%</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Profile Tab (hidden, modal opens automatically) -->\n      <div v-if=\"currentTab === 'profile'\" class=\"profile-tab\">\n        <p v-if=\"message\" class=\"message\">{{ message }}</p>\n      </div>\n\n      <!-- Modern Profile Modal -->\n      <div\n        v-if=\"showProfileModal\"\n        class=\"profile-modal-overlay\"\n        @click=\"closeProfileModal\"\n      >\n        <div class=\"profile-modal-container\" @click.stop>\n          <!-- View Profile Card -->\n          <div v-if=\"!showEditProfile\" class=\"profile-view-card\">\n            <!-- Profile Photo -->\n            <div class=\"profile-photo-section\">\n              <img\n                :src=\"\n                  staff.profilePhoto\n                    ? apiBase + staff.profilePhoto\n                    : defaultPhoto\n                \"\n                alt=\"Profile Photo\"\n                class=\"profile-photo-large\"\n              />\n            </div>\n\n            <!-- Profile Name -->\n            <div class=\"profile-name\">{{ staff.name || \"‚Äî\" }}</div>\n\n            <!-- Profile Information Items -->\n            <div class=\"profile-info-container\">\n              <div class=\"profile-info-item\">\n                <span class=\"profile-info-icon\">üë§</span>\n                <div class=\"profile-info-content\">\n                  <span class=\"profile-info-label\">Gender</span>\n                  <span class=\"profile-info-value\">{{\n                    staff.gender || \"‚Äî\"\n                  }}</span>\n                </div>\n              </div>\n\n              <div class=\"profile-info-item\">\n                <span class=\"profile-info-icon\">üì±</span>\n                <div class=\"profile-info-content\">\n                  <span class=\"profile-info-label\">Phone</span>\n                  <span class=\"profile-info-value\">{{\n                    staff.phone || \"‚Äî\"\n                  }}</span>\n                </div>\n              </div>\n\n              <div class=\"profile-info-item\">\n                <span class=\"profile-info-icon\">‚úâÔ∏è</span>\n                <div class=\"profile-info-content\">\n                  <span class=\"profile-info-label\">Email</span>\n                  <span class=\"profile-info-value\">{{\n                    staff.email || \"‚Äî\"\n                  }}</span>\n                </div>\n              </div>\n\n              <div class=\"profile-info-item\">\n                <span class=\"profile-info-icon\">üìç</span>\n                <div class=\"profile-info-content\">\n                  <span class=\"profile-info-label\">Address</span>\n                  <span class=\"profile-info-value\">{{\n                    staff.address || \"‚Äî\"\n                  }}</span>\n                </div>\n              </div>\n\n              <div class=\"profile-info-item\">\n                <span class=\"profile-info-icon\">üìÆ</span>\n                <div class=\"profile-info-content\">\n                  <span class=\"profile-info-label\">Pincode</span>\n                  <span class=\"profile-info-value\">{{\n                    staff.pincode || \"‚Äî\"\n                  }}</span>\n                </div>\n              </div>\n            </div>\n\n            <!-- Edit Profile Button -->\n            <button @click=\"showEditProfile = true\" class=\"btn-edit-profile\">\n              ‚úèÔ∏è Edit Profile\n            </button>\n\n            <!-- Close Button -->\n            <button @click=\"closeProfileModal\" class=\"btn-close-modal\">\n              ‚úï\n            </button>\n          </div>\n\n          <!-- Edit Profile Form -->\n          <div v-else class=\"profile-edit-card\">\n            <h3>Edit Your Profile</h3>\n            <div class=\"edit-photo-section\">\n              <img\n                :src=\"\n                  staff.profilePhoto\n                    ? apiBase + staff.profilePhoto\n                    : defaultPhoto\n                \"\n                alt=\"Profile Photo\"\n                class=\"profile-photo-edit\"\n              />\n              <input type=\"file\" @change=\"onFileChange\" class=\"file-input\" />\n            </div>\n\n            <form @submit.prevent=\"updateProfile\" class=\"profile-edit-form\">\n              <div class=\"form-group\">\n                <label>Name</label>\n                <input v-model=\"staff.name\" required />\n              </div>\n\n              <div class=\"form-group\">\n                <label>Email (cannot be changed)</label>\n                <input v-model=\"staff.email\" disabled />\n              </div>\n\n              <div class=\"form-group\">\n                <label>Phone</label>\n                <input v-model=\"staff.phone\" required />\n              </div>\n\n              <div class=\"form-group\">\n                <label>Gender</label>\n                <select v-model=\"staff.gender\">\n                  <option value=\"male\">Male</option>\n                  <option value=\"female\">Female</option>\n                  <option value=\"other\">Other</option>\n                </select>\n              </div>\n\n              <div class=\"form-group\">\n                <label>Address</label>\n                <input v-model=\"staff.address\" required />\n              </div>\n\n              <div class=\"form-group\">\n                <label>Pincode</label>\n                <input v-model=\"staff.pincode\" required />\n              </div>\n\n              <div class=\"form-actions\">\n                <button type=\"submit\" class=\"btn-save\">üíæ Save Changes</button>\n                <button\n                  type=\"button\"\n                  @click=\"showEditProfile = false\"\n                  class=\"btn-cancel\"\n                >\n                  Cancel\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n\n      <!-- Manage Items Tab -->\n      <div v-if=\"currentTab === 'items'\" class=\"items-tab\">\n        <h2>Manage Items</h2>\n        <p>üëâ Here you can add, update, or delete items.</p>\n      </div>\n\n      <!-- Apply Leave Tab -->\n      <div v-if=\"currentTab === 'apply-leave'\" class=\"apply-leave-tab\">\n        <StaffLeave @leave-submitted=\"fetchLeaveStatus\" />\n      </div>\n\n      <!-- Leave Status Tab -->\n      <div v-if=\"currentTab === 'leave-status'\" class=\"leave-status-tab\">\n        <h2>Leave Status</h2>\n        <table class=\"leave-table\">\n          <thead>\n            <tr>\n              <th>Reason</th>\n              <th>Date</th>\n              <th>Status</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"leave in leaveStatus\" :key=\"leave._id\">\n              <td>{{ leave.reason }}</td>\n              <td>{{ formatDate(leave.date) }}</td>\n              <td>{{ leave.status }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n      <!-- Chat Tab -->\n      <div v-if=\"currentTab === 'chat'\" class=\"chat-tab\">\n        <ChatWindow />\n      </div>\n    </main>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport StaffLeave from \"./StaffLeave.vue\";\nimport ChatWindow from \"./ChatWindow.vue\";\n\nexport default {\n  components: { StaffLeave, ChatWindow },\n  data() {\n    return {\n      currentTab: \"dashboard\",\n      showLeaves: false,\n      staff: {\n        name: \"\",\n        email: \"\",\n        phone: \"\",\n        gender: \"\",\n        address: \"\",\n        pincode: \"\",\n        profilePhoto: \"\",\n      },\n      stats: {\n        totalItems: 0,\n        leavesTaken: 0,\n        pendingLeaves: 0,\n        approvedLeaves: 0,\n      },\n      leaveStatus: [],\n      selectedFile: null,\n      message: \"\",\n      apiBase: \"http://localhost:5000\",\n      defaultPhoto: \"/default-avatar.png\",\n      showProfileModal: false,\n      showEditProfile: false,\n      unreadMessageCount: 0,\n      messageInterval: null,\n    };\n  },\n  methods: {\n    async fetchProfile() {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const res = await axios.get(`${this.apiBase}/api/staff/me`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        this.staff = res.data.staff;\n      } catch {\n        this.message = \"Error loading profile\";\n      }\n    },\n    async fetchStats() {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const user = JSON.parse(localStorage.getItem(\"user\"));\n        const email = user?.email;\n\n        const productsRes = await axios.get(\n          `${this.apiBase}/api/products/getproduct`,\n          { headers: { Authorization: `Bearer ${token}` } }\n        );\n\n        let leavesRes = [];\n        if (email) {\n          try {\n            leavesRes = await axios.get(`${this.apiBase}/api/leaves/my`, {\n              headers: { Authorization: `Bearer ${token}` },\n              params: { email },\n            });\n          } catch (err) {\n            console.error(\"Error fetching leaves:\", err);\n            leavesRes = [];\n          }\n        }\n\n        const products = productsRes.data.products || [];\n        const leaves = Array.isArray(leavesRes)\n          ? leavesRes\n          : leavesRes.data || [];\n\n        this.stats = {\n          totalItems: products.length,\n          leavesTaken: leaves.filter((l) => l.status === \"Approved\").length,\n          pendingLeaves: leaves.filter((l) => l.status === \"Pending\").length,\n          approvedLeaves: leaves.filter((l) => l.status === \"Approved\").length,\n        };\n      } catch (err) {\n        console.error(\"Error fetching stats:\", err);\n      }\n    },\n    onFileChange(e) {\n      this.selectedFile = e.target.files[0];\n    },\n    async updateProfile() {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const formData = new FormData();\n        Object.keys(this.staff).forEach((key) => {\n          if (key !== \"email\") formData.append(key, this.staff[key]);\n        });\n        if (this.selectedFile)\n          formData.append(\"profilePhoto\", this.selectedFile);\n\n        const res = await axios.put(\n          `${this.apiBase}/api/staff/update`,\n          formData,\n          {\n            headers: {\n              Authorization: `Bearer ${token}`,\n              \"Content-Type\": \"multipart/form-data\",\n            },\n          }\n        );\n        this.message = res.data.message;\n        this.fetchProfile();\n        this.showEditProfile = false;\n        setTimeout(() => {\n          this.message = \"\";\n        }, 3000);\n      } catch (err) {\n        this.message = err.response?.data?.message || \"Error updating profile\";\n        setTimeout(() => {\n          this.message = \"\";\n        }, 3000);\n      }\n    },\n    toggleLeaves() {\n      this.showLeaves = !this.showLeaves;\n    },\n    logout() {\n      localStorage.removeItem(\"token\");\n      this.$router.push(\"/login\");\n    },\n    async fetchLeaveStatus() {\n      try {\n        const user = JSON.parse(localStorage.getItem(\"user\"));\n        const email = user?.email;\n        if (!email) return;\n\n        const token = localStorage.getItem(\"token\");\n        const res = await axios.get(`${this.apiBase}/api/leaves/my`, {\n          headers: { Authorization: `Bearer ${token}` },\n          params: { email },\n        });\n\n        this.leaveStatus = res.data;\n      } catch (err) {\n        console.error(\"Error fetching leave status\", err);\n      }\n    },\n    formatDate(dateStr) {\n      return new Date(dateStr).toLocaleDateString();\n    },\n    closeProfileModal() {\n      this.showProfileModal = false;\n      this.showEditProfile = false;\n      this.currentTab = \"dashboard\";\n    },\n    async fetchUnreadMessages() {\n      try {\n        const token = localStorage.getItem(\"token\");\n        if (!token) return;\n\n        const res = await axios.get(\"http://localhost:5000/api/messages/unread-count\", {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n\n        if (res.data.success) {\n          this.unreadMessageCount = res.data.unreadCount;\n        }\n      } catch (err) {\n        console.error(\"Error fetching unread messages:\", err);\n      }\n    },\n  },\n  beforeUnmount() {\n    if (this.messageInterval) {\n      clearInterval(this.messageInterval);\n    }\n  },\n  watch: {\n    currentTab(newTab) {\n      if (newTab === \"leave-status\") this.fetchLeaveStatus();\n      if (newTab === \"profile\") this.showProfileModal = true;\n    },\n  },\n  mounted() {\n    this.fetchProfile();\n    this.fetchStats();\n    this.fetchUnreadMessages();\n    this.messageInterval = setInterval(() => {\n      this.fetchUnreadMessages();\n    }, 3000);\n  },\n};\n</script>\n\n<style scoped>\n.staff-dashboard {\n  display: flex;\n  min-height: 100vh;\n}\n\n/* Sidebar */\n.sidebar {\n  width: 260px;\n  background: #1e293b;\n  color: white;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  border-right: 1px solid rgba(255, 255, 255, 0.1);\n  overflow-y: auto;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);\n}\n\n.sidebar-title {\n  text-align: center;\n  font-size: 16px;\n  margin: 0;\n  padding: 24px 20px;\n  font-weight: 700;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n  color: #3b82f6;\n}\n\n.sidebar ul {\n  list-style: none;\n  padding: 12px 0;\n  flex: 1;\n}\n\n.sidebar li {\n  padding: 12px 20px;\n  cursor: pointer;\n  border-radius: 0;\n  transition: all 0.3s ease;\n  border-left: 3px solid transparent;\n  position: relative;\n  font-size: 14px;\n  font-weight: 500;\n  color: #94a3b8;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.sidebar-icon {\n  font-size: 16px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: 20px;\n  height: 20px;\n  flex-shrink: 0;\n  opacity: 0.6;\n  transition: opacity 0.3s ease;\n  color: #94a3b8;\n  stroke: currentColor;\n}\n\n.sidebar li:hover .sidebar-icon {\n  opacity: 0.9;\n  color: white;\n}\n\n.sidebar li.active .sidebar-icon {\n  opacity: 1;\n  color: #3b82f6;\n}\n\n.sidebar-text {\n  flex: 1;\n}\n\n.sidebar li:hover {\n  background: rgba(255, 255, 255, 0.05);\n  color: white;\n  border-left-color: #3b82f6;\n}\n\n.sidebar li.active {\n  background: rgba(59, 130, 246, 0.15);\n  color: #3b82f6;\n  border-left-color: #3b82f6;\n  font-weight: 600;\n}\n\n.has-submenu {\n  font-weight: 600;\n}\n\n.arrow {\n  font-size: 12px;\n  margin-left: auto;\n  flex-shrink: 0;\n}\n\n.submenu {\n  margin-left: 0;\n  padding: 8px 0;\n  background: rgba(59, 130, 246, 0.05);\n}\n\n.submenu li {\n  padding: 10px 20px;\n  background: transparent;\n  border-radius: 0;\n  margin: 0;\n  font-size: 13px;\n  color: #cbd5e1;\n  border-left: 3px solid transparent;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.submenu-icon {\n  font-size: 14px !important;\n  width: 18px !important;\n  height: 18px !important;\n  opacity: 0.5;\n  color: #cbd5e1;\n}\n\n.submenu li:hover .submenu-icon {\n  opacity: 0.8;\n  color: #e0e7ff;\n}\n\n.submenu li.active .submenu-icon {\n  opacity: 1;\n  color: #3b82f6;\n}\n\n.submenu li:hover {\n  background: rgba(59, 130, 246, 0.1);\n  color: #e0e7ff;\n  border-left-color: #3b82f6;\n}\n\n.submenu li.active {\n  background: rgba(59, 130, 246, 0.2);\n  color: #3b82f6;\n  border-left-color: #3b82f6;\n  font-weight: 600;\n}\n\n/* Content Area */\n.content {\n  flex: 1;\n  padding: 28px;\n  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);\n  display: block;\n  overflow-y: auto;\n}\n\n/* Modern Staff Dashboard */\n\n.hero-banner-staff {\n  background: linear-gradient(135deg, #2563eb 0%, #1e40af 50%, #1e3a8a 100%);\n  border-radius: 16px;\n  padding: 40px 32px;\n  margin-bottom: 32px;\n  color: white;\n  position: relative;\n  overflow: hidden;\n  box-shadow: 0 10px 30px rgba(37, 99, 235, 0.15);\n}\n\n.hero-banner-staff::before {\n  content: \"\";\n  position: absolute;\n  top: -50%;\n  right: -10%;\n  width: 300px;\n  height: 300px;\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 50%;\n  animation: float-staff 6s ease-in-out infinite;\n}\n\n@keyframes float-staff {\n  0%,\n  100% {\n    transform: translateY(0px) translateX(0px);\n  }\n  50% {\n    transform: translateY(-20px) translateX(-10px);\n  }\n}\n\n.hero-content-staff {\n  position: relative;\n  z-index: 1;\n}\n\n.hero-banner-staff h2 {\n  margin: 0 0 8px 0;\n  font-size: 32px;\n  font-weight: 700;\n  letter-spacing: -0.5px;\n}\n\n.hero-banner-staff p {\n  margin: 0;\n  font-size: 16px;\n  opacity: 0.95;\n  font-weight: 400;\n}\n\n/* Metrics Grid Staff */\n.metrics-grid-staff {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 20px;\n  margin-bottom: 32px;\n}\n\n.metric-card-staff {\n  background: white;\n  border-radius: 12px;\n  padding: 24px;\n  display: flex;\n  gap: 16px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  border: 1px solid #e2e8f0;\n  cursor: pointer;\n}\n\n.metric-card-staff:hover {\n  transform: translateY(-4px);\n  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.12);\n  border-color: #cbd5e1;\n}\n\n.metric-icon-staff {\n  font-size: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 56px;\n  height: 56px;\n  border-radius: 12px;\n  flex-shrink: 0;\n}\n\n.items-icon-staff {\n  background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);\n}\n\n.leaves-icon-staff {\n  background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);\n}\n\n.pending-icon-staff {\n  background: linear-gradient(135deg, #fed7aa 0%, #fdba74 100%);\n}\n\n.completed-icon-staff {\n  background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);\n}\n\n.metric-body-staff {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n\n.metric-title-staff {\n  font-size: 12px;\n  font-weight: 600;\n  color: #64748b;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  margin-bottom: 8px;\n}\n\n.metric-number-staff {\n  font-size: 28px;\n  font-weight: 700;\n  color: #1e293b;\n  line-height: 1;\n  margin-bottom: 8px;\n}\n\n.metric-footer-staff {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.trend-staff {\n  font-size: 12px;\n  font-weight: 600;\n  padding: 4px 8px;\n  border-radius: 6px;\n  display: inline-block;\n}\n\n.trend-staff.positive {\n  color: #059669;\n  background: #d1fae5;\n}\n\n/* Profile Tab */\n.profile-tab {\n  padding: 20px;\n}\n\n/* Leave Table */\n.leave-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 15px;\n}\n.leave-table th,\n.leave-table td {\n  border: 1px solid #ccc;\n  padding: 10px;\n  text-align: center;\n}\n.leave-table th {\n  background: #34495e;\n  color: white;\n}\n\n/* Responsive Metrics Grid Staff */\n@media (max-width: 1440px) {\n  .metrics-grid-staff {\n    grid-template-columns: repeat(2, 1fr);\n  }\n}\n\n@media (max-width: 1024px) {\n  .metrics-grid-staff {\n    grid-template-columns: repeat(2, 1fr);\n    gap: 16px;\n    margin-bottom: 24px;\n  }\n\n  .metric-card-staff {\n    padding: 20px;\n  }\n\n  .metric-number-staff {\n    font-size: 24px;\n  }\n\n  .hero-banner-staff {\n    padding: 32px 24px;\n    margin-bottom: 24px;\n  }\n\n  .hero-banner-staff h2 {\n    font-size: 28px;\n  }\n\n  .hero-banner-staff p {\n    font-size: 14px;\n  }\n}\n\n@media (max-width: 768px) {\n  .metrics-grid-staff {\n    grid-template-columns: 1fr;\n    gap: 12px;\n    margin-bottom: 20px;\n  }\n\n  .metric-card-staff {\n    padding: 16px;\n    gap: 12px;\n  }\n\n  .metric-icon-staff {\n    width: 48px;\n    height: 48px;\n    font-size: 24px;\n  }\n\n  .metric-number-staff {\n    font-size: 20px;\n  }\n\n  .metric-title-staff {\n    font-size: 11px;\n  }\n\n  .hero-banner-staff {\n    padding: 24px 16px;\n    margin-bottom: 16px;\n    border-radius: 12px;\n  }\n\n  .hero-banner-staff h2 {\n    font-size: 24px;\n  }\n\n  .hero-banner-staff p {\n    font-size: 13px;\n  }\n}\n\n/* Modern Profile Modal Styles */\n.profile-modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 10000;\n  animation: fadeIn 0.3s ease-in-out;\n}\n\n.profile-modal-container {\n  background: white;\n  border-radius: 20px;\n  width: 90%;\n  max-width: 400px;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  animation: slideUp 0.3s ease-in-out;\n  position: relative;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes slideUp {\n  from {\n    transform: translateY(50px);\n    opacity: 0;\n  }\n  to {\n    transform: translateY(0);\n    opacity: 1;\n  }\n}\n\n/* Profile View Card */\n.profile-view-card {\n  padding: 30px 20px;\n  text-align: center;\n  position: relative;\n}\n\n.profile-photo-section {\n  margin-bottom: 20px;\n}\n\n.profile-photo-large {\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n  object-fit: cover;\n  border: 4px solid #2563eb;\n  box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);\n}\n\n.profile-name {\n  font-size: 24px;\n  font-weight: 700;\n  color: #1e293b;\n  margin-bottom: 24px;\n}\n\n.profile-info-container {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  margin-bottom: 20px;\n}\n\n.profile-info-item {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  padding: 14px 16px;\n  background: #f8fafc;\n  border-radius: 12px;\n  border: 1px solid #e2e8f0;\n  transition: all 0.2s ease;\n}\n\n.profile-info-item:hover {\n  background: #f1f5f9;\n  border-color: #cbd5e1;\n  transform: translateX(4px);\n}\n\n.profile-info-icon {\n  font-size: 20px;\n  width: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.profile-info-content {\n  flex: 1;\n  text-align: left;\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.profile-info-label {\n  font-size: 11px;\n  font-weight: 600;\n  color: #64748b;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.profile-info-value {\n  font-size: 14px;\n  font-weight: 600;\n  color: #1e293b;\n}\n\n.btn-edit-profile {\n  width: 100%;\n  padding: 12px;\n  background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);\n  color: white;\n  border: none;\n  border-radius: 12px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px rgba(37, 99, 235, 0.2);\n}\n\n.btn-edit-profile:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 20px rgba(37, 99, 235, 0.3);\n}\n\n.btn-close-modal {\n  position: absolute;\n  top: 12px;\n  right: 12px;\n  width: 32px;\n  height: 32px;\n  background: none;\n  border: none;\n  font-size: 24px;\n  color: #64748b;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease;\n  padding: 0;\n}\n\n.btn-close-modal:hover {\n  color: #1e293b;\n  background: #f1f5f9;\n  border-radius: 8px;\n}\n\n/* Profile Edit Card */\n.profile-edit-card {\n  padding: 30px 20px;\n}\n\n.profile-edit-card h3 {\n  margin: 0 0 20px 0;\n  font-size: 20px;\n  font-weight: 700;\n  color: #1e293b;\n  text-align: center;\n}\n\n.edit-photo-section {\n  text-align: center;\n  margin-bottom: 24px;\n}\n\n.profile-photo-edit {\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n  object-fit: cover;\n  margin-bottom: 12px;\n  border: 4px solid #2563eb;\n  box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);\n}\n\n.file-input {\n  display: block;\n  margin: 0 auto;\n  font-size: 12px;\n}\n\n.profile-edit-form {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n}\n\n.form-group label {\n  font-size: 13px;\n  font-weight: 600;\n  color: #1e293b;\n}\n\n.form-group input,\n.form-group select {\n  padding: 10px 12px;\n  border: 1px solid #e2e8f0;\n  border-radius: 8px;\n  font-size: 14px;\n  transition: all 0.2s ease;\n}\n\n.form-group input:focus,\n.form-group select:focus {\n  outline: none;\n  border-color: #2563eb;\n  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);\n}\n\n.form-group input:disabled {\n  background: #f8fafc;\n  color: #94a3b8;\n  cursor: not-allowed;\n}\n\n.form-actions {\n  display: flex;\n  gap: 10px;\n  margin-top: 20px;\n}\n\n.btn-save,\n.btn-cancel {\n  flex: 1;\n  padding: 12px;\n  border: none;\n  border-radius: 12px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.btn-save {\n  background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);\n  color: white;\n  box-shadow: 0 4px 12px rgba(37, 99, 235, 0.2);\n}\n\n.btn-save:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 20px rgba(37, 99, 235, 0.3);\n}\n\n.btn-cancel {\n  background: #e2e8f0;\n  color: #64748b;\n}\n\n.btn-cancel:hover {\n  background: #cbd5e1;\n}\n\n.btn-view-profile {\n  padding: 12px 24px;\n  background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);\n  color: white;\n  border: none;\n  border-radius: 12px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px rgba(37, 99, 235, 0.2);\n}\n\n.btn-view-profile:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 20px rgba(37, 99, 235, 0.3);\n}\n\n@media (max-width: 768px) {\n  .profile-modal-container {\n    max-width: 95%;\n  }\n\n  .profile-view-card {\n    padding: 20px 16px;\n  }\n\n  .profile-photo-large {\n    width: 80px;\n    height: 80px;\n  }\n\n  .profile-name {\n    font-size: 20px;\n  }\n\n  .profile-info-item {\n    padding: 12px 14px;\n    gap: 12px;\n  }\n\n  .profile-info-icon {\n    font-size: 18px;\n    width: 28px;\n  }\n}\n\n.chat-tab {\n  padding: 24px;\n  height: 100%;\n}\n\n.chat-tab > div {\n  height: 600px;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}