{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  data() {\n    return {\n      email: \"\",\n      staff: []\n    };\n  },\n  methods: {\n    async fetchStaff() {\n      const res = await axios.get(\"http://localhost:5000/staff\");\n      this.staff = res.data.staff;\n    },\n    async inviteStaff() {\n      await axios.post(\"http://localhost:5000/staff/invite\", {\n        email: this.email\n      });\n      alert(\"Invitation sent!\");\n      this.email = \"\";\n      this.fetchStaff();\n    },\n    async approveStaff(id) {\n      await axios.put(`http://localhost:5000/staff/approve/${id}`);\n      this.fetchStaff();\n    },\n    async setStatus(id, status) {\n      await axios.put(`http://localhost:5000/staff/status/${id}`, {\n        status\n      });\n      this.fetchStaff();\n    }\n  },\n  mounted() {\n    this.fetchStaff();\n  }\n};","map":{"version":3,"names":["axios","data","email","staff","methods","fetchStaff","res","get","inviteStaff","post","alert","approveStaff","id","put","setStatus","status","mounted"],"sources":["C:\\Users\\LENOVO\\Music\\distribution-agency-project\\frontend\\src\\views\\StaffManagement.vue"],"sourcesContent":["<template>\r\n  <div class=\"staff-management\">\r\n    <h2>Staff Management</h2>\r\n\r\n    <!-- Invite Staff -->\r\n    <form @submit.prevent=\"inviteStaff\">\r\n      <input v-model=\"email\" type=\"email\" placeholder=\"Enter staff email\" required />\r\n      <button type=\"submit\">Invite</button>\r\n    </form>\r\n\r\n    <!-- Staff List -->\r\n    <h3>Staff List</h3>\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>Email</th>\r\n          <th>Name</th>\r\n          <th>Status</th>\r\n          <th>Action</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"s in staff\" :key=\"s._id\">\r\n          <td>{{ s.email }}</td>\r\n          <td>{{ s.name || \"â€”\" }}</td>\r\n          <td>{{ s.status }}</td>\r\n          <td>\r\n            <button v-if=\"s.status === 'pending'\" @click=\"approveStaff(s._id)\">Approve</button>\r\n            <button v-if=\"s.status === 'active'\" @click=\"setStatus(s._id, 'deactivated')\">Deactivate</button>\r\n            <button v-if=\"s.status === 'deactivated'\" @click=\"setStatus(s._id, 'active')\">Activate</button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      email: \"\",\r\n      staff: [],\r\n    };\r\n  },\r\n  methods: {\r\n    async fetchStaff() {\r\n      const res = await axios.get(\"http://localhost:5000/staff\");\r\n      this.staff = res.data.staff;\r\n    },\r\n    async inviteStaff() {\r\n      await axios.post(\"http://localhost:5000/staff/invite\", { email: this.email });\r\n      alert(\"Invitation sent!\");\r\n      this.email = \"\";\r\n      this.fetchStaff();\r\n    },\r\n    async approveStaff(id) {\r\n      await axios.put(`http://localhost:5000/staff/approve/${id}`);\r\n      this.fetchStaff();\r\n    },\r\n    async setStatus(id, status) {\r\n      await axios.put(`http://localhost:5000/staff/status/${id}`, { status });\r\n      this.fetchStaff();\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchStaff();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.staff-management {\r\n  padding: 20px;\r\n}\r\nform {\r\n  margin-bottom: 20px;\r\n}\r\ntable {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\ntd, th {\r\n  border: 1px solid #ccc;\r\n  padding: 8px;\r\n}\r\n</style>\r\n"],"mappings":"AAsCA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,UAAUA,CAAA,EAAG;MACjB,MAAMC,GAAE,GAAI,MAAMN,KAAK,CAACO,GAAG,CAAC,6BAA6B,CAAC;MAC1D,IAAI,CAACJ,KAAI,GAAIG,GAAG,CAACL,IAAI,CAACE,KAAK;IAC7B,CAAC;IACD,MAAMK,WAAWA,CAAA,EAAG;MAClB,MAAMR,KAAK,CAACS,IAAI,CAAC,oCAAoC,EAAE;QAAEP,KAAK,EAAE,IAAI,CAACA;MAAM,CAAC,CAAC;MAC7EQ,KAAK,CAAC,kBAAkB,CAAC;MACzB,IAAI,CAACR,KAAI,GAAI,EAAE;MACf,IAAI,CAACG,UAAU,CAAC,CAAC;IACnB,CAAC;IACD,MAAMM,YAAYA,CAACC,EAAE,EAAE;MACrB,MAAMZ,KAAK,CAACa,GAAG,CAAC,uCAAuCD,EAAE,EAAE,CAAC;MAC5D,IAAI,CAACP,UAAU,CAAC,CAAC;IACnB,CAAC;IACD,MAAMS,SAASA,CAACF,EAAE,EAAEG,MAAM,EAAE;MAC1B,MAAMf,KAAK,CAACa,GAAG,CAAC,sCAAsCD,EAAE,EAAE,EAAE;QAAEG;MAAO,CAAC,CAAC;MACvE,IAAI,CAACV,UAAU,CAAC,CAAC;IACnB;EACF,CAAC;EACDW,OAAOA,CAAA,EAAG;IACR,IAAI,CAACX,UAAU,CAAC,CAAC;EACnB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}