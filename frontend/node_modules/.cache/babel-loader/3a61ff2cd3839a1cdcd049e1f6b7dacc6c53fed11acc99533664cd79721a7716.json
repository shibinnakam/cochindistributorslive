{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport axios from \"axios\";\nexport default {\n  name: \"CategoryList\",\n  data() {\n    return {\n      categories: [],\n      searchQuery: \"\",\n      newCategory: \"\",\n      showForm: false,\n      editingId: null\n    };\n  },\n  computed: {\n    filteredCategories() {\n      return this.categories.filter(c => c.name.toLowerCase().includes(this.searchQuery.toLowerCase()));\n    }\n  },\n  methods: {\n    async fetchCategories() {\n      const res = await axios.get(\"http://localhost:5000/api/categories\");\n      this.categories = res.data;\n    },\n    async addCategory() {\n      if (!this.newCategory) return;\n      await axios.post(\"http://localhost:5000/api/categories\", {\n        name: this.newCategory\n      });\n      this.newCategory = \"\";\n      this.showForm = false;\n      this.fetchCategories();\n    },\n    editCategory(cat) {\n      this.newCategory = cat.name;\n      this.editingId = cat._id;\n      this.showForm = true;\n    },\n    async updateCategory() {\n      if (!this.newCategory || !this.editingId) return;\n      await axios.put(`http://localhost:5000/api/categories/${this.editingId}`, {\n        name: this.newCategory\n      });\n      this.newCategory = \"\";\n      this.editingId = null;\n      this.showForm = false;\n      this.fetchCategories();\n    },\n    async deleteCategory(id) {\n      await axios.delete(`http://localhost:5000/api/categories/${id}`);\n      this.fetchCategories();\n    },\n    formatDate(date) {\n      return new Date(date).toLocaleString();\n    }\n  },\n  mounted() {\n    this.fetchCategories();\n  }\n};","map":{"version":3,"names":["axios","name","data","categories","searchQuery","newCategory","showForm","editingId","computed","filteredCategories","filter","c","toLowerCase","includes","methods","fetchCategories","res","get","addCategory","post","editCategory","cat","_id","updateCategory","put","deleteCategory","id","delete","formatDate","date","Date","toLocaleString","mounted"],"sources":["C:\\Users\\LENOVO\\Music\\distribution-agency-project\\frontend\\src\\views\\AddCategory.vue"],"sourcesContent":["<template>\n  <div class=\"category-wrapper\">\n    <!-- Search & Add -->\n    <div class=\"header\">\n      <input\n        v-model=\"searchQuery\"\n        type=\"text\"\n        placeholder=\"Search Categories\"\n        class=\"search-box\"\n      />\n      <button class=\"add-btn\" @click=\"showForm = !showForm\">\n        + Add New Category\n      </button>\n    </div>\n\n    <!-- Add / Update Form -->\n    <div v-if=\"showForm\" class=\"form-box\">\n      <input\n        v-model=\"newCategory\"\n        type=\"text\"\n        placeholder=\"Enter category name\"\n      />\n      <button v-if=\"!editingId\" @click=\"addCategory\">Save</button>\n      <button v-else @click=\"updateCategory\">Update</button>\n    </div>\n\n    <!-- Category Table -->\n    <table class=\"category-table\">\n      <thead>\n        <tr>\n          <th>Category Name</th>\n          <th>Status</th>\n          <th>Last Updated</th>\n          <th>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"cat in filteredCategories\" :key=\"cat._id\">\n          <td>{{ cat.name }}</td>\n          <td class=\"published\">Published</td>\n          <td>{{ formatDate(cat.updatedAt) }}</td>\n          <td>\n            <button class=\"update-btn\" @click=\"editCategory(cat)\">Update</button>\n            <button class=\"delete-btn\" @click=\"deleteCategory(cat._id)\">Delete</button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"CategoryList\",\n  data() {\n    return {\n      categories: [],\n      searchQuery: \"\",\n      newCategory: \"\",\n      showForm: false,\n      editingId: null,\n    };\n  },\n  computed: {\n    filteredCategories() {\n      return this.categories.filter((c) =>\n        c.name.toLowerCase().includes(this.searchQuery.toLowerCase())\n      );\n    },\n  },\n  methods: {\n    async fetchCategories() {\n      const res = await axios.get(\"http://localhost:5000/api/categories\");\n      this.categories = res.data;\n    },\n    async addCategory() {\n      if (!this.newCategory) return;\n      await axios.post(\"http://localhost:5000/api/categories\", {\n        name: this.newCategory,\n      });\n      this.newCategory = \"\";\n      this.showForm = false;\n      this.fetchCategories();\n    },\n    editCategory(cat) {\n      this.newCategory = cat.name;\n      this.editingId = cat._id;\n      this.showForm = true;\n    },\n    async updateCategory() {\n      if (!this.newCategory || !this.editingId) return;\n      await axios.put(`http://localhost:5000/api/categories/${this.editingId}`, {\n        name: this.newCategory,\n      });\n      this.newCategory = \"\";\n      this.editingId = null;\n      this.showForm = false;\n      this.fetchCategories();\n    },\n    async deleteCategory(id) {\n      await axios.delete(`http://localhost:5000/api/categories/${id}`);\n      this.fetchCategories();\n    },\n    formatDate(date) {\n      return new Date(date).toLocaleString();\n    },\n  },\n  mounted() {\n    this.fetchCategories();\n  },\n};\n</script>\n\n<style scoped>\n.category-wrapper {\n  width: 90%;\n  margin: auto;\n  font-family: Arial, sans-serif;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  margin: 10px 0;\n}\n\n.search-box {\n  padding: 6px;\n  width: 250px;\n}\n\n.add-btn {\n  background: none;\n  border: none;\n  color: #0073e6;\n  cursor: pointer;\n  font-weight: bold;\n}\n\n.form-box {\n  margin: 10px 0;\n}\n\n.category-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 10px;\n}\n\n.category-table th,\n.category-table td {\n  border: 1px solid #ddd;\n  padding: 8px;\n  text-align: left;\n}\n\n.published {\n  color: green;\n  font-weight: bold;\n}\n\n.update-btn {\n  background-color: #007bff;\n  color: white;\n  border: none;\n  padding: 4px 8px;\n  margin-right: 5px;\n  cursor: pointer;\n}\n\n.delete-btn {\n  background-color: #dc3545;\n  color: white;\n  border: none;\n  padding: 4px 8px;\n  cursor: pointer;\n}\n</style>\n"],"mappings":";;AAoDA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,cAAc;EACpBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,UAAU,EAAE,EAAE;MACdC,WAAW,EAAE,EAAE;MACfC,WAAW,EAAE,EAAE;MACfC,QAAQ,EAAE,KAAK;MACfC,SAAS,EAAE;IACb,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,kBAAkBA,CAAA,EAAG;MACnB,OAAO,IAAI,CAACN,UAAU,CAACO,MAAM,CAAEC,CAAC,IAC9BA,CAAC,CAACV,IAAI,CAACW,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,IAAI,CAACT,WAAW,CAACQ,WAAW,CAAC,CAAC,CAC9D,CAAC;IACH;EACF,CAAC;EACDE,OAAO,EAAE;IACP,MAAMC,eAAeA,CAAA,EAAG;MACtB,MAAMC,GAAE,GAAI,MAAMhB,KAAK,CAACiB,GAAG,CAAC,sCAAsC,CAAC;MACnE,IAAI,CAACd,UAAS,GAAIa,GAAG,CAACd,IAAI;IAC5B,CAAC;IACD,MAAMgB,WAAWA,CAAA,EAAG;MAClB,IAAI,CAAC,IAAI,CAACb,WAAW,EAAE;MACvB,MAAML,KAAK,CAACmB,IAAI,CAAC,sCAAsC,EAAE;QACvDlB,IAAI,EAAE,IAAI,CAACI;MACb,CAAC,CAAC;MACF,IAAI,CAACA,WAAU,GAAI,EAAE;MACrB,IAAI,CAACC,QAAO,GAAI,KAAK;MACrB,IAAI,CAACS,eAAe,CAAC,CAAC;IACxB,CAAC;IACDK,YAAYA,CAACC,GAAG,EAAE;MAChB,IAAI,CAAChB,WAAU,GAAIgB,GAAG,CAACpB,IAAI;MAC3B,IAAI,CAACM,SAAQ,GAAIc,GAAG,CAACC,GAAG;MACxB,IAAI,CAAChB,QAAO,GAAI,IAAI;IACtB,CAAC;IACD,MAAMiB,cAAcA,CAAA,EAAG;MACrB,IAAI,CAAC,IAAI,CAAClB,WAAU,IAAK,CAAC,IAAI,CAACE,SAAS,EAAE;MAC1C,MAAMP,KAAK,CAACwB,GAAG,CAAC,wCAAwC,IAAI,CAACjB,SAAS,EAAE,EAAE;QACxEN,IAAI,EAAE,IAAI,CAACI;MACb,CAAC,CAAC;MACF,IAAI,CAACA,WAAU,GAAI,EAAE;MACrB,IAAI,CAACE,SAAQ,GAAI,IAAI;MACrB,IAAI,CAACD,QAAO,GAAI,KAAK;MACrB,IAAI,CAACS,eAAe,CAAC,CAAC;IACxB,CAAC;IACD,MAAMU,cAAcA,CAACC,EAAE,EAAE;MACvB,MAAM1B,KAAK,CAAC2B,MAAM,CAAC,wCAAwCD,EAAE,EAAE,CAAC;MAChE,IAAI,CAACX,eAAe,CAAC,CAAC;IACxB,CAAC;IACDa,UAAUA,CAACC,IAAI,EAAE;MACf,OAAO,IAAIC,IAAI,CAACD,IAAI,CAAC,CAACE,cAAc,CAAC,CAAC;IACxC;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACjB,eAAe,CAAC,CAAC;EACxB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}