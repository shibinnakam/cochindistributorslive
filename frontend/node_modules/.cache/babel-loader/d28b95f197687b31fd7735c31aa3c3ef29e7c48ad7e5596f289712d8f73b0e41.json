{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"staff-management\"\n};\nconst _hoisted_2 = [\"onClick\"];\nconst _hoisted_3 = [\"onClick\"];\nconst _hoisted_4 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[4] || (_cache[4] = _createElementVNode(\"h2\", null, \"Staff Management\", -1 /* CACHED */)), _createCommentVNode(\" Invite Staff \"), _createElementVNode(\"form\", {\n    onSubmit: _cache[1] || (_cache[1] = _withModifiers((...args) => $options.inviteStaff && $options.inviteStaff(...args), [\"prevent\"]))\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.email = $event),\n    type: \"email\",\n    placeholder: \"Enter staff email\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]]), _cache[2] || (_cache[2] = _createElementVNode(\"button\", {\n    type: \"submit\"\n  }, \"Invite\", -1 /* CACHED */))], 32 /* NEED_HYDRATION */), _createCommentVNode(\" Staff List \"), _cache[5] || (_cache[5] = _createElementVNode(\"h3\", null, \"Staff List\", -1 /* CACHED */)), _createElementVNode(\"table\", null, [_cache[3] || (_cache[3] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Email\"), _createElementVNode(\"th\", null, \"Name\"), _createElementVNode(\"th\", null, \"Status\"), _createElementVNode(\"th\", null, \"Action\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.staff, s => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: s._id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(s.email), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(s.name || \"—\"), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(s.status), 1 /* TEXT */), _createElementVNode(\"td\", null, [s.status === 'pending' ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      onClick: $event => $options.approveStaff(s._id)\n    }, \"Approve\", 8 /* PROPS */, _hoisted_2)) : _createCommentVNode(\"v-if\", true), s.status === 'active' ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 1,\n      onClick: $event => $options.setStatus(s._id, 'deactivated')\n    }, \"Deactivate\", 8 /* PROPS */, _hoisted_3)) : _createCommentVNode(\"v-if\", true), s.status === 'deactivated' ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 2,\n      onClick: $event => $options.setStatus(s._id, 'active')\n    }, \"Activate\", 8 /* PROPS */, _hoisted_4)) : _createCommentVNode(\"v-if\", true)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_createCommentVNode","onSubmit","_cache","_withModifiers","args","$options","inviteStaff","$data","email","$event","type","placeholder","required","_Fragment","_renderList","staff","s","key","_id","_toDisplayString","name","status","onClick","approveStaff","_hoisted_2","setStatus","_hoisted_3","_hoisted_4"],"sources":["C:\\Users\\LENOVO\\Music\\distribution-agency-project\\frontend\\src\\views\\StaffManagement.vue"],"sourcesContent":["<template>\r\n  <div class=\"staff-management\">\r\n    <h2>Staff Management</h2>\r\n\r\n    <!-- Invite Staff -->\r\n    <form @submit.prevent=\"inviteStaff\">\r\n      <input v-model=\"email\" type=\"email\" placeholder=\"Enter staff email\" required />\r\n      <button type=\"submit\">Invite</button>\r\n    </form>\r\n\r\n    <!-- Staff List -->\r\n    <h3>Staff List</h3>\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>Email</th>\r\n          <th>Name</th>\r\n          <th>Status</th>\r\n          <th>Action</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"s in staff\" :key=\"s._id\">\r\n          <td>{{ s.email }}</td>\r\n          <td>{{ s.name || \"—\" }}</td>\r\n          <td>{{ s.status }}</td>\r\n          <td>\r\n            <button v-if=\"s.status === 'pending'\" @click=\"approveStaff(s._id)\">Approve</button>\r\n            <button v-if=\"s.status === 'active'\" @click=\"setStatus(s._id, 'deactivated')\">Deactivate</button>\r\n            <button v-if=\"s.status === 'deactivated'\" @click=\"setStatus(s._id, 'active')\">Activate</button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      email: \"\",\r\n      staff: [],\r\n    };\r\n  },\r\n  methods: {\r\n    async fetchStaff() {\r\n      const res = await axios.get(\"http://localhost:5000/staff\");\r\n      this.staff = res.data.staff;\r\n    },\r\n    async inviteStaff() {\r\n      await axios.post(\"http://localhost:5000/staff/invite\", { email: this.email });\r\n      alert(\"Invitation sent!\");\r\n      this.email = \"\";\r\n      this.fetchStaff();\r\n    },\r\n    async approveStaff(id) {\r\n      await axios.put(`http://localhost:5000/staff/approve/${id}`);\r\n      this.fetchStaff();\r\n    },\r\n    async setStatus(id, status) {\r\n      await axios.put(`http://localhost:5000/staff/status/${id}`, { status });\r\n      this.fetchStaff();\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchStaff();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.staff-management {\r\n  padding: 20px;\r\n}\r\nform {\r\n  margin-bottom: 20px;\r\n}\r\ntable {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\ntd, th {\r\n  border: 1px solid #ccc;\r\n  padding: 8px;\r\n}\r\n</style>\r\n"],"mappings":";;EACOA,KAAK,EAAC;AAAkB;;;;;uBAA7BC,mBAAA,CAiCM,OAjCNC,UAiCM,G,0BAhCJC,mBAAA,CAAyB,YAArB,kBAAgB,qBAEpBC,mBAAA,kBAAqB,EACrBD,mBAAA,CAGO;IAHAE,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,WAAA,IAAAD,QAAA,CAAAC,WAAA,IAAAF,IAAA,CAAW;sBAChCL,mBAAA,CAA+E;+DAA/DQ,KAAA,CAAAC,KAAK,GAAAC,MAAA;IAAEC,IAAI,EAAC,OAAO;IAACC,WAAW,EAAC,mBAAmB;IAACC,QAAQ,EAAR;iDAApDL,KAAA,CAAAC,KAAK,E,6BACrBT,mBAAA,CAAqC;IAA7BW,IAAI,EAAC;EAAQ,GAAC,QAAM,oB,4BAG9BV,mBAAA,gBAAmB,E,0BACnBD,mBAAA,CAAmB,YAAf,YAAU,qBACdA,mBAAA,CAqBQ,gB,0BApBNA,mBAAA,CAOQ,gBANNA,mBAAA,CAKK,aAJHA,mBAAA,CAAc,YAAV,OAAK,GACTA,mBAAA,CAAa,YAAT,MAAI,GACRA,mBAAA,CAAe,YAAX,QAAM,GACVA,mBAAA,CAAe,YAAX,QAAM,E,uBAGdA,mBAAA,CAWQ,iB,kBAVNF,mBAAA,CASKgB,SAAA,QAAAC,WAAA,CATWP,KAAA,CAAAQ,KAAK,EAAVC,CAAC;yBAAZnB,mBAAA,CASK;MATmBoB,GAAG,EAAED,CAAC,CAACE;QAC7BnB,mBAAA,CAAsB,YAAAoB,gBAAA,CAAfH,CAAC,CAACR,KAAK,kBACdT,mBAAA,CAA4B,YAAAoB,gBAAA,CAArBH,CAAC,CAACI,IAAI,yBACbrB,mBAAA,CAAuB,YAAAoB,gBAAA,CAAhBH,CAAC,CAACK,MAAM,kBACftB,mBAAA,CAIK,aAHWiB,CAAC,CAACK,MAAM,kB,cAAtBxB,mBAAA,CAAmF;;MAA5CyB,OAAK,EAAAb,MAAA,IAAEJ,QAAA,CAAAkB,YAAY,CAACP,CAAC,CAACE,GAAG;OAAG,SAAO,iBAAAM,UAAA,K,mCAC5DR,CAAC,CAACK,MAAM,iB,cAAtBxB,mBAAA,CAAiG;;MAA3DyB,OAAK,EAAAb,MAAA,IAAEJ,QAAA,CAAAoB,SAAS,CAACT,CAAC,CAACE,GAAG;OAAkB,YAAU,iBAAAQ,UAAA,K,mCAC1EV,CAAC,CAACK,MAAM,sB,cAAtBxB,mBAAA,CAA+F;;MAApDyB,OAAK,EAAAb,MAAA,IAAEJ,QAAA,CAAAoB,SAAS,CAACT,CAAC,CAACE,GAAG;OAAa,UAAQ,iBAAAS,UAAA,K","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}