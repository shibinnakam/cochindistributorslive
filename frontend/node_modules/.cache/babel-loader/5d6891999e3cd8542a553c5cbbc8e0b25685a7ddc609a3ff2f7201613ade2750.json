{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport axios from \"axios\";\nimport ProductList from \"./ProductList.vue\"; // ✅ import component\nimport \"@/assets/styles/AdminPage.css\";\nexport default {\n  name: \"AdminPage\",\n  components: {\n    ProductList\n  },\n  data() {\n    return {\n      selectedMenu: \"dashboard\",\n      stats: {\n        pages: 0,\n        sliders: 0,\n        team: 0,\n        services: 0,\n        portfolio: 0,\n        users: 0,\n        enquiries: 0\n      },\n      form: {\n        name: \"\",\n        description: \"\",\n        originalPrice: \"\",\n        discountPrice: \"\",\n        image: null\n      }\n    };\n  },\n  computed: {\n    headerTitle() {\n      switch (this.selectedMenu) {\n        case \"dashboard\":\n          return \"Dashboard\";\n        case \"addProduct\":\n          return \"Add Product\";\n        case \"products\":\n          return \"Products\";\n        default:\n          return \"Dashboard\";\n      }\n    }\n  },\n  methods: {\n    handleFileUpload(e) {\n      this.form.image = e.target.files[0];\n    },\n    async addProduct() {\n      try {\n        const fd = new FormData();\n        Object.entries(this.form).forEach(([k, v]) => fd.append(k, v));\n        await axios.post(\"http://localhost:5000/api/products/addproduct\", fd, {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\"\n          }\n        });\n        alert(\"Product added successfully!\");\n        this.selectedMenu = \"products\"; // ✅ go to ProductList\n        this.form = {\n          name: \"\",\n          description: \"\",\n          originalPrice: \"\",\n          discountPrice: \"\",\n          image: null\n        };\n      } catch (err) {\n        console.error(\"Error adding product:\", err);\n      }\n    },\n    logout() {\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"user\");\n      this.$router.push(\"/login\");\n    }\n  }\n};","map":{"version":3,"names":["axios","ProductList","name","components","data","selectedMenu","stats","pages","sliders","team","services","portfolio","users","enquiries","form","description","originalPrice","discountPrice","image","computed","headerTitle","methods","handleFileUpload","e","target","files","addProduct","fd","FormData","Object","entries","forEach","k","v","append","post","headers","alert","err","console","error","logout","localStorage","removeItem","$router","push"],"sources":["C:\\Users\\LENOVO\\Music\\distribution-agency-project\\frontend\\src\\views\\AdminPage.vue"],"sourcesContent":["<template>\n  <div class=\"admin-wrapper\">\n    <!-- Sidebar -->\n    <aside class=\"sidebar\">\n      <h2 class=\"sidebar-title\">Master Admin</h2>\n      <ul class=\"menu\">\n        <li><a href=\"#\" @click=\"selectedMenu = 'dashboard'\">Dashboard</a></li>\n        <li><a href=\"#\" @click=\"selectedMenu = 'addProduct'\">Add Products</a></li>\n        <li><a href=\"#\" @click=\"selectedMenu = 'products'\">View Products</a></li>\n        <li><a href=\"#\">Settings</a></li>\n        <li><a href=\"#\">Page Management</a></li>\n        <li><a href=\"#\">Metadata</a></li>\n        <li><a href=\"#\">Slider Management</a></li>\n        <li><a href=\"#\">Team Management</a></li>\n        <li><a href=\"#\">Services Management</a></li>\n        <li><a href=\"#\">Portfolio Management</a></li>\n        <li><a href=\"#\">Enquiry Management</a></li>\n      </ul>\n    </aside>\n\n    <!-- Main -->\n    <div class=\"main\">\n      <!-- Header -->\n      <header class=\"header\">\n        <h1>\n          {{ headerTitle }}\n          <span v-if=\"selectedMenu === 'dashboard'\" class=\"small\">\n            Control panel\n          </span>\n        </h1>\n        <div class=\"admin-menu\">\n          <span>Laravel Admin ▾</span>\n          <button class=\"logout-btn\" @click=\"logout\">\n            <i class=\"bi bi-box-arrow-right\"></i> Logout\n          </button>\n        </div>\n      </header>\n\n      <!-- Content -->\n      <main class=\"content\">\n        <!-- Dashboard View -->\n        <div v-if=\"selectedMenu === 'dashboard'\" class=\"dashboard-boxes\">\n          <div class=\"card blue\">\n            <h2>{{ stats.pages }}</h2>\n            <p>Total Static Page</p>\n          </div>\n          <div class=\"card orange\">\n            <h2>{{ stats.sliders }}</h2>\n            <p>Total Slider</p>\n          </div>\n          <div class=\"card red\">\n            <h2>{{ stats.team }}</h2>\n            <p>Total Team</p>\n          </div>\n          <div class=\"card green\">\n            <h2>{{ stats.services }}</h2>\n            <p>Total Services</p>\n          </div>\n          <div class=\"card purple\">\n            <h2>{{ stats.portfolio }}</h2>\n            <p>Total Portfolio</p>\n          </div>\n          <div class=\"card pink\">\n            <h2>{{ stats.users }}</h2>\n            <p>Total User</p>\n          </div>\n          <div class=\"card teal\">\n            <h2>{{ stats.enquiries }}</h2>\n            <p>Total Enquiries</p>\n          </div>\n        </div>\n\n        <!-- Add Product Form -->\n        <section v-if=\"selectedMenu === 'addProduct'\" class=\"form-section\">\n          <h2>Add New Product</h2>\n          <form @submit.prevent=\"addProduct\" enctype=\"multipart/form-data\">\n            <div class=\"form-group\">\n              <label>Name</label>\n              <input type=\"text\" v-model=\"form.name\" required />\n            </div>\n            <div class=\"form-group\">\n              <label>Description</label>\n              <textarea v-model=\"form.description\" required></textarea>\n            </div>\n            <div class=\"form-group\">\n              <label>Original Price</label>\n              <input type=\"number\" v-model=\"form.originalPrice\" required />\n            </div>\n            <div class=\"form-group\">\n              <label>Discount Price</label>\n              <input type=\"number\" v-model=\"form.discountPrice\" required />\n            </div>\n            <div class=\"form-group\">\n              <label>Image</label>\n              <input type=\"file\" @change=\"handleFileUpload\" required />\n            </div>\n            <button type=\"submit\" class=\"submit-btn\">Add Product</button>\n          </form>\n        </section>\n\n        <!-- Product List Component -->\n        <ProductList v-if=\"selectedMenu === 'products'\" />\n      </main>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport ProductList from \"./ProductList.vue\"; // ✅ import component\nimport \"@/assets/styles/AdminPage.css\";\n\nexport default {\n  name: \"AdminPage\",\n  components: { ProductList },\n  data() {\n    return {\n      selectedMenu: \"dashboard\",\n      stats: {\n        pages: 0,\n        sliders: 0,\n        team: 0,\n        services: 0,\n        portfolio: 0,\n        users: 0,\n        enquiries: 0,\n      },\n      form: {\n        name: \"\",\n        description: \"\",\n        originalPrice: \"\",\n        discountPrice: \"\",\n        image: null,\n      },\n    };\n  },\n  computed: {\n    headerTitle() {\n      switch (this.selectedMenu) {\n        case \"dashboard\":\n          return \"Dashboard\";\n        case \"addProduct\":\n          return \"Add Product\";\n        case \"products\":\n          return \"Products\";\n        default:\n          return \"Dashboard\";\n      }\n    },\n  },\n  methods: {\n    handleFileUpload(e) {\n      this.form.image = e.target.files[0];\n    },\n    async addProduct() {\n      try {\n        const fd = new FormData();\n        Object.entries(this.form).forEach(([k, v]) => fd.append(k, v));\n        await axios.post(\"http://localhost:5000/api/products/addproduct\", fd, {\n          headers: { \"Content-Type\": \"multipart/form-data\" },\n        });\n        alert(\"Product added successfully!\");\n        this.selectedMenu = \"products\"; // ✅ go to ProductList\n        this.form = {\n          name: \"\",\n          description: \"\",\n          originalPrice: \"\",\n          discountPrice: \"\",\n          image: null,\n        };\n      } catch (err) {\n        console.error(\"Error adding product:\", err);\n      }\n    },\n    logout() {\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"user\");\n      this.$router.push(\"/login\");\n    },\n  },\n};\n</script>\n"],"mappings":";;;AA4GA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,WAAU,MAAO,mBAAmB,EAAE;AAC7C,OAAO,+BAA+B;AAEtC,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,UAAU,EAAE;IAAEF;EAAY,CAAC;EAC3BG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,YAAY,EAAE,WAAW;MACzBC,KAAK,EAAE;QACLC,KAAK,EAAE,CAAC;QACRC,OAAO,EAAE,CAAC;QACVC,IAAI,EAAE,CAAC;QACPC,QAAQ,EAAE,CAAC;QACXC,SAAS,EAAE,CAAC;QACZC,KAAK,EAAE,CAAC;QACRC,SAAS,EAAE;MACb,CAAC;MACDC,IAAI,EAAE;QACJZ,IAAI,EAAE,EAAE;QACRa,WAAW,EAAE,EAAE;QACfC,aAAa,EAAE,EAAE;QACjBC,aAAa,EAAE,EAAE;QACjBC,KAAK,EAAE;MACT;IACF,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,WAAWA,CAAA,EAAG;MACZ,QAAQ,IAAI,CAACf,YAAY;QACvB,KAAK,WAAW;UACd,OAAO,WAAW;QACpB,KAAK,YAAY;UACf,OAAO,aAAa;QACtB,KAAK,UAAU;UACb,OAAO,UAAU;QACnB;UACE,OAAO,WAAW;MACtB;IACF;EACF,CAAC;EACDgB,OAAO,EAAE;IACPC,gBAAgBA,CAACC,CAAC,EAAE;MAClB,IAAI,CAACT,IAAI,CAACI,KAAI,GAAIK,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IACrC,CAAC;IACD,MAAMC,UAAUA,CAAA,EAAG;MACjB,IAAI;QACF,MAAMC,EAAC,GAAI,IAAIC,QAAQ,CAAC,CAAC;QACzBC,MAAM,CAACC,OAAO,CAAC,IAAI,CAAChB,IAAI,CAAC,CAACiB,OAAO,CAAC,CAAC,CAACC,CAAC,EAAEC,CAAC,CAAC,KAAKN,EAAE,CAACO,MAAM,CAACF,CAAC,EAAEC,CAAC,CAAC,CAAC;QAC9D,MAAMjC,KAAK,CAACmC,IAAI,CAAC,+CAA+C,EAAER,EAAE,EAAE;UACpES,OAAO,EAAE;YAAE,cAAc,EAAE;UAAsB;QACnD,CAAC,CAAC;QACFC,KAAK,CAAC,6BAA6B,CAAC;QACpC,IAAI,CAAChC,YAAW,GAAI,UAAU,EAAE;QAChC,IAAI,CAACS,IAAG,GAAI;UACVZ,IAAI,EAAE,EAAE;UACRa,WAAW,EAAE,EAAE;UACfC,aAAa,EAAE,EAAE;UACjBC,aAAa,EAAE,EAAE;UACjBC,KAAK,EAAE;QACT,CAAC;MACH,EAAE,OAAOoB,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAEF,GAAG,CAAC;MAC7C;IACF,CAAC;IACDG,MAAMA,CAAA,EAAG;MACPC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;MAChCD,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC;MAC/B,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;IAC7B;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}