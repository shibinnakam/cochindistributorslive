{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      password: \"\",\n      confirmPassword: \"\",\n      message: \"\",\n      isError: false,\n      loading: false\n    };\n  },\n  methods: {\n    async setPassword() {\n      this.message = \"\";\n      this.isError = false;\n      if (!this.password || this.password.length < 6) {\n        this.message = \"Password must be at least 6 characters\";\n        this.isError = true;\n        return;\n      }\n      if (this.password !== this.confirmPassword) {\n        this.message = \"Passwords do not match\";\n        this.isError = true;\n        return;\n      }\n\n      // Get token from query string OR params\n      const token = this.$route.query.token || this.$route.params.token;\n      if (!token) {\n        this.message = \"Invalid or missing reset token\";\n        this.isError = true;\n        return;\n      }\n      this.loading = true;\n      try {\n        const res = await axios.post(`${process.env.VUE_APP_API_URL}/api/auth/reset-password`, {\n          token,\n          password: this.password\n        });\n        this.message = res.data.msg || \"Password set successfully!\";\n        this.isError = false;\n\n        // Redirect after 2 seconds\n        setTimeout(() => {\n          this.$router.push(\"/login\");\n        }, 2000);\n      } catch (err) {\n        this.message = err.response?.data?.msg || \"Error setting password\";\n        this.isError = true;\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","password","confirmPassword","message","isError","loading","methods","setPassword","length","token","$route","query","params","res","post","process","env","VUE_APP_API_URL","msg","setTimeout","$router","push","err","response"],"sources":["C:\\Users\\LENOVO\\Music\\distribution-agency-project\\frontend\\src\\views\\SetPassword.vue"],"sourcesContent":["<template>\n  <div class=\"set-password\">\n    <div class=\"set-password-box\">\n      <h2>Set Your Password</h2>\n\n      <input\n        v-model=\"password\"\n        type=\"password\"\n        placeholder=\"Enter new password\"\n        @keyup.enter=\"setPassword\"\n      />\n      <input\n        v-model=\"confirmPassword\"\n        type=\"password\"\n        placeholder=\"Confirm password\"\n        @keyup.enter=\"setPassword\"\n      />\n\n      <button :disabled=\"loading\" @click=\"setPassword\">\n        {{ loading ? \"Setting...\" : \"Set Password\" }}\n      </button>\n\n      <p v-if=\"message\" :class=\"{ error: isError, success: !isError }\">\n        {{ message }}\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      password: \"\",\n      confirmPassword: \"\",\n      message: \"\",\n      isError: false,\n      loading: false,\n    };\n  },\n  methods: {\n    async setPassword() {\n      this.message = \"\";\n      this.isError = false;\n\n      if (!this.password || this.password.length < 6) {\n        this.message = \"Password must be at least 6 characters\";\n        this.isError = true;\n        return;\n      }\n\n      if (this.password !== this.confirmPassword) {\n        this.message = \"Passwords do not match\";\n        this.isError = true;\n        return;\n      }\n\n      // Get token from query string OR params\n      const token = this.$route.query.token || this.$route.params.token;\n      if (!token) {\n        this.message = \"Invalid or missing reset token\";\n        this.isError = true;\n        return;\n      }\n\n      this.loading = true;\n      try {\n        const res = await axios.post(\n          `${process.env.VUE_APP_API_URL}/api/auth/reset-password`,\n          { token, password: this.password }\n        );\n        this.message = res.data.msg || \"Password set successfully!\";\n        this.isError = false;\n\n        // Redirect after 2 seconds\n        setTimeout(() => {\n          this.$router.push(\"/login\");\n        }, 2000);\n      } catch (err) {\n        this.message = err.response?.data?.msg || \"Error setting password\";\n        this.isError = true;\n      } finally {\n        this.loading = false;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.set-password {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  background: #f5f7fa;\n}\n\n.set-password-box {\n  background: rgba(255, 255, 255, 0.9);\n  padding: 2rem;\n  border-radius: 12px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);\n  max-width: 400px;\n  width: 100%;\n  text-align: center;\n}\n\ninput {\n  width: 100%;\n  padding: 10px;\n  margin: 10px 0;\n  border-radius: 6px;\n  border: 1px solid #ccc;\n}\n\nbutton {\n  width: 100%;\n  padding: 10px;\n  background: #2196f3;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n}\n\nbutton:disabled {\n  background: #90caf9;\n  cursor: not-allowed;\n}\n\n.error {\n  color: red;\n  margin-top: 10px;\n}\n\n.success {\n  color: green;\n  margin-top: 10px;\n}\n</style>\n"],"mappings":";AA8BA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,eAAe,EAAE,EAAE;MACnBC,OAAO,EAAE,EAAE;MACXC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAE;IACX,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,WAAWA,CAAA,EAAG;MAClB,IAAI,CAACJ,OAAM,GAAI,EAAE;MACjB,IAAI,CAACC,OAAM,GAAI,KAAK;MAEpB,IAAI,CAAC,IAAI,CAACH,QAAO,IAAK,IAAI,CAACA,QAAQ,CAACO,MAAK,GAAI,CAAC,EAAE;QAC9C,IAAI,CAACL,OAAM,GAAI,wCAAwC;QACvD,IAAI,CAACC,OAAM,GAAI,IAAI;QACnB;MACF;MAEA,IAAI,IAAI,CAACH,QAAO,KAAM,IAAI,CAACC,eAAe,EAAE;QAC1C,IAAI,CAACC,OAAM,GAAI,wBAAwB;QACvC,IAAI,CAACC,OAAM,GAAI,IAAI;QACnB;MACF;;MAEA;MACA,MAAMK,KAAI,GAAI,IAAI,CAACC,MAAM,CAACC,KAAK,CAACF,KAAI,IAAK,IAAI,CAACC,MAAM,CAACE,MAAM,CAACH,KAAK;MACjE,IAAI,CAACA,KAAK,EAAE;QACV,IAAI,CAACN,OAAM,GAAI,gCAAgC;QAC/C,IAAI,CAACC,OAAM,GAAI,IAAI;QACnB;MACF;MAEA,IAAI,CAACC,OAAM,GAAI,IAAI;MACnB,IAAI;QACF,MAAMQ,GAAE,GAAI,MAAMd,KAAK,CAACe,IAAI,CAC1B,GAAGC,OAAO,CAACC,GAAG,CAACC,eAAe,0BAA0B,EACxD;UAAER,KAAK;UAAER,QAAQ,EAAE,IAAI,CAACA;QAAS,CACnC,CAAC;QACD,IAAI,CAACE,OAAM,GAAIU,GAAG,CAACb,IAAI,CAACkB,GAAE,IAAK,4BAA4B;QAC3D,IAAI,CAACd,OAAM,GAAI,KAAK;;QAEpB;QACAe,UAAU,CAAC,MAAM;UACf,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;QAC7B,CAAC,EAAE,IAAI,CAAC;MACV,EAAE,OAAOC,GAAG,EAAE;QACZ,IAAI,CAACnB,OAAM,GAAImB,GAAG,CAACC,QAAQ,EAAEvB,IAAI,EAAEkB,GAAE,IAAK,wBAAwB;QAClE,IAAI,CAACd,OAAM,GAAI,IAAI;MACrB,UAAU;QACR,IAAI,CAACC,OAAM,GAAI,KAAK;MACtB;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}