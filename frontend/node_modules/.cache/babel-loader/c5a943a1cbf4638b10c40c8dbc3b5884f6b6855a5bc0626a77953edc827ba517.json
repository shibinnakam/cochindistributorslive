{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"staff-management\"\n};\nconst _hoisted_2 = {\n  class: \"header-section\"\n};\nconst _hoisted_3 = {\n  class: \"header-controls\"\n};\nconst _hoisted_4 = {\n  class: \"search-filter\"\n};\nconst _hoisted_5 = {\n  class: \"search-box\"\n};\nconst _hoisted_6 = {\n  class: \"action-buttons-header\"\n};\nconst _hoisted_7 = {\n  class: \"modal-header\"\n};\nconst _hoisted_8 = {\n  class: \"table-container\"\n};\nconst _hoisted_9 = {\n  class: \"staff-table\"\n};\nconst _hoisted_10 = {\n  class: \"id-cell\"\n};\nconst _hoisted_11 = {\n  class: \"name-cell\"\n};\nconst _hoisted_12 = {\n  class: \"employee-info\"\n};\nconst _hoisted_13 = {\n  class: \"employee-avatar\"\n};\nconst _hoisted_14 = {\n  class: \"employee-name\"\n};\nconst _hoisted_15 = {\n  class: \"department-cell\"\n};\nconst _hoisted_16 = {\n  class: \"contact-cell\"\n};\nconst _hoisted_17 = {\n  class: \"contact-info\"\n};\nconst _hoisted_18 = {\n  class: \"phone\"\n};\nconst _hoisted_19 = {\n  class: \"email\"\n};\nconst _hoisted_20 = {\n  class: \"requests-cell\"\n};\nconst _hoisted_21 = {\n  key: 0,\n  class: \"badge pending\"\n};\nconst _hoisted_22 = {\n  key: 1,\n  class: \"badge\"\n};\nconst _hoisted_23 = {\n  class: \"date-cell\"\n};\nconst _hoisted_24 = {\n  class: \"actions-cell\"\n};\nconst _hoisted_25 = {\n  class: \"action-menu\"\n};\nconst _hoisted_26 = [\"onClick\"];\nconst _hoisted_27 = {\n  key: 0,\n  class: \"dropdown-menu\"\n};\nconst _hoisted_28 = [\"onClick\"];\nconst _hoisted_29 = [\"onClick\"];\nconst _hoisted_30 = [\"onClick\"];\nconst _hoisted_31 = [\"onClick\"];\nconst _hoisted_32 = [\"onClick\"];\nconst _hoisted_33 = {\n  key: 0,\n  class: \"no-data\"\n};\nconst _hoisted_34 = {\n  class: \"modal-actions-delete\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Header Section \"), _createElementVNode(\"div\", _hoisted_2, [_cache[15] || (_cache[15] = _createElementVNode(\"h1\", null, \"COMPANY EMPLOYEES\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.searchQuery = $event),\n    type: \"text\",\n    placeholder: \"Search Employee\",\n    class: \"search-input\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.searchQuery]]), _cache[12] || (_cache[12] = _createElementVNode(\"i\", {\n    class: \"search-icon\"\n  }, \"üîç\", -1 /* CACHED */))]), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.statusFilter = $event),\n    class: \"status-filter\"\n  }, _cache[13] || (_cache[13] = [_createElementVNode(\"option\", {\n    value: \"\"\n  }, \"All Status\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: \"active\"\n  }, \"Active\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: \"pending\"\n  }, \"Pending\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: \"deactivated\"\n  }, \"Deactivated\", -1 /* CACHED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, _ctx.statusFilter]])]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = $event => _ctx.showInviteForm = true),\n    class: \"btn-add\"\n  }, \" + Add Employees \"), _cache[14] || (_cache[14] = _createElementVNode(\"button\", {\n    class: \"btn-import\"\n  }, \"üì• Import Employees\", -1 /* CACHED */))])])]), _createCommentVNode(\" Invite Modal \"), _ctx.showInviteForm ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"modal-overlay\",\n    onClick: _cache[7] || (_cache[7] = $event => _ctx.showInviteForm = false)\n  }, [_createElementVNode(\"div\", {\n    class: \"modal-content\",\n    onClick: _cache[6] || (_cache[6] = _withModifiers(() => {}, [\"stop\"]))\n  }, [_createElementVNode(\"div\", _hoisted_7, [_cache[16] || (_cache[16] = _createElementVNode(\"h2\", null, \"Invite Employee\", -1 /* CACHED */)), _createElementVNode(\"button\", {\n    class: \"modal-close\",\n    onClick: _cache[3] || (_cache[3] = $event => _ctx.showInviteForm = false)\n  }, \"‚úï\")]), _createElementVNode(\"form\", {\n    onSubmit: _cache[5] || (_cache[5] = _withModifiers((...args) => $options.inviteStaff && $options.inviteStaff(...args), [\"prevent\"])),\n    class: \"invite-form-modal\"\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.email = $event),\n    type: \"email\",\n    placeholder: \"Enter staff email\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]]), _cache[17] || (_cache[17] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"btn-submit\"\n  }, \"Send Invitation\", -1 /* CACHED */))], 32 /* NEED_HYDRATION */)])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Toast Notification \"), $data.toastMessage ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 1,\n    class: _normalizeClass(['toast', $data.toastError ? 'error' : 'success'])\n  }, _toDisplayString($data.toastMessage), 3 /* TEXT, CLASS */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Staff Table \"), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"table\", _hoisted_9, [_cache[18] || (_cache[18] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"ID\"), _createElementVNode(\"th\", null, \"Name\"), _createElementVNode(\"th\", null, \"Department\"), _createElementVNode(\"th\", null, \"Contact\"), _createElementVNode(\"th\", null, \"Requests\"), _createElementVNode(\"th\", null, \"Hire Date\"), _createElementVNode(\"th\", null, \"Actions\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.filteredStaff, (s, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: s._id\n    }, [_createElementVNode(\"td\", _hoisted_10, _toDisplayString(index + 1), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, _toDisplayString(s.name ? s.name.charAt(0).toUpperCase() : \"?\"), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_14, _toDisplayString(s.name || \"‚Äî\"), 1 /* TEXT */)])]), _createElementVNode(\"td\", _hoisted_15, _toDisplayString(s.department || \"‚Äî\"), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"div\", _hoisted_18, _toDisplayString(s.phone || \"‚Äî\"), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_19, _toDisplayString(s.email), 1 /* TEXT */)])]), _createElementVNode(\"td\", _hoisted_20, [s.status === 'pending' ? (_openBlock(), _createElementBlock(\"span\", _hoisted_21, \"1\")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_22, \"0\"))]), _createElementVNode(\"td\", _hoisted_23, _toDisplayString(s.dateOfJoining ? new Date(s.dateOfJoining).toLocaleDateString(\"en-CA\") : \"‚Äî\"), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_24, [_createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"button\", {\n      onClick: $event => _ctx.toggleMenu(s._id),\n      class: \"menu-trigger\",\n      title: \"More options\"\n    }, \" ‚ãÆ \", 8 /* PROPS */, _hoisted_26), _ctx.activeMenu === s._id ? (_openBlock(), _createElementBlock(\"div\", _hoisted_27, [s.status === 'pending' ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      onClick: $event => $options.approveStaff(s._id),\n      class: \"menu-item approve\"\n    }, \" ‚úì Approve \", 8 /* PROPS */, _hoisted_28)) : _createCommentVNode(\"v-if\", true), s.status === 'active' ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 1,\n      onClick: $event => $options.setStatus(s._id, 'deactivated'),\n      class: \"menu-item deactivate\"\n    }, \" ‚äò Deactivate \", 8 /* PROPS */, _hoisted_29)) : _createCommentVNode(\"v-if\", true), s.status === 'deactivated' ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 2,\n      onClick: $event => $options.setStatus(s._id, 'active'),\n      class: \"menu-item activate\"\n    }, \" ‚úì Activate \", 8 /* PROPS */, _hoisted_30)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"button\", {\n      onClick: $event => $options.exportStaffPDF(s),\n      class: \"menu-item download\"\n    }, \" üìÑ Download PDF \", 8 /* PROPS */, _hoisted_31), _createElementVNode(\"button\", {\n      onClick: $event => $options.openDeleteModal(s._id),\n      class: \"menu-item delete\"\n    }, \" üóëÔ∏è Delete \", 8 /* PROPS */, _hoisted_32)])) : _createCommentVNode(\"v-if\", true)])])]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _ctx.filteredStaff.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_33, \" No employees found \")) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" Delete Confirmation Modal \"), $data.showDeleteModal ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 2,\n    class: \"modal-overlay\",\n    onClick: _cache[11] || (_cache[11] = (...args) => $options.cancelDelete && $options.cancelDelete(...args))\n  }, [_createElementVNode(\"div\", {\n    class: \"modal-delete\",\n    onClick: _cache[10] || (_cache[10] = _withModifiers(() => {}, [\"stop\"]))\n  }, [_cache[19] || (_cache[19] = _createElementVNode(\"div\", {\n    class: \"delete-icon\"\n  }, \"‚ö†Ô∏è\", -1 /* CACHED */)), _cache[20] || (_cache[20] = _createElementVNode(\"h3\", null, \"Delete Employee\", -1 /* CACHED */)), _cache[21] || (_cache[21] = _createElementVNode(\"p\", null, \"Are you sure you want to permanently delete this staff?\", -1 /* CACHED */)), _cache[22] || (_cache[22] = _createElementVNode(\"p\", {\n    class: \"warning\"\n  }, \"This action cannot be undone.\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_34, [_createElementVNode(\"button\", {\n    onClick: _cache[8] || (_cache[8] = (...args) => $options.confirmDelete && $options.confirmDelete(...args)),\n    class: \"btn-delete-confirm\"\n  }, \"Delete\"), _createElementVNode(\"button\", {\n    onClick: _cache[9] || (_cache[9] = (...args) => $options.cancelDelete && $options.cancelDelete(...args)),\n    class: \"btn-delete-cancel\"\n  }, \"Cancel\")])])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_ctx","searchQuery","$event","type","placeholder","statusFilter","value","_hoisted_6","onClick","_cache","showInviteForm","_withModifiers","_hoisted_7","onSubmit","args","$options","inviteStaff","$data","email","required","toastMessage","_normalizeClass","toastError","_hoisted_8","_hoisted_9","_Fragment","_renderList","filteredStaff","s","index","key","_id","_hoisted_10","_toDisplayString","_hoisted_11","_hoisted_12","_hoisted_13","name","charAt","toUpperCase","_hoisted_14","_hoisted_15","department","_hoisted_16","_hoisted_17","_hoisted_18","phone","_hoisted_19","_hoisted_20","status","_hoisted_21","_hoisted_22","_hoisted_23","dateOfJoining","Date","toLocaleDateString","_hoisted_24","_hoisted_25","toggleMenu","title","_hoisted_26","activeMenu","_hoisted_27","approveStaff","_hoisted_28","setStatus","_hoisted_29","_hoisted_30","exportStaffPDF","_hoisted_31","openDeleteModal","_hoisted_32","length","_hoisted_33","showDeleteModal","cancelDelete","_hoisted_34","confirmDelete"],"sources":["C:\\Users\\LENOVO\\Music\\OneDrive\\Pictures\\distribution-agency-project\\frontend\\src\\views\\StaffManagement.vue"],"sourcesContent":["<template>\n  <div class=\"staff-management\">\n    <!-- Header Section -->\n    <div class=\"header-section\">\n      <h1>COMPANY EMPLOYEES</h1>\n      <div class=\"header-controls\">\n        <div class=\"search-filter\">\n          <div class=\"search-box\">\n            <input\n              v-model=\"searchQuery\"\n              type=\"text\"\n              placeholder=\"Search Employee\"\n              class=\"search-input\"\n            />\n            <i class=\"search-icon\">üîç</i>\n          </div>\n          <select v-model=\"statusFilter\" class=\"status-filter\">\n            <option value=\"\">All Status</option>\n            <option value=\"active\">Active</option>\n            <option value=\"pending\">Pending</option>\n            <option value=\"deactivated\">Deactivated</option>\n          </select>\n        </div>\n        <div class=\"action-buttons-header\">\n          <button @click=\"showInviteForm = true\" class=\"btn-add\">\n            + Add Employees\n          </button>\n          <button class=\"btn-import\">üì• Import Employees</button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Invite Modal -->\n    <div v-if=\"showInviteForm\" class=\"modal-overlay\" @click=\"showInviteForm = false\">\n      <div class=\"modal-content\" @click.stop>\n        <div class=\"modal-header\">\n          <h2>Invite Employee</h2>\n          <button class=\"modal-close\" @click=\"showInviteForm = false\">‚úï</button>\n        </div>\n        <form @submit.prevent=\"inviteStaff\" class=\"invite-form-modal\">\n          <input\n            v-model=\"email\"\n            type=\"email\"\n            placeholder=\"Enter staff email\"\n            required\n          />\n          <button type=\"submit\" class=\"btn-submit\">Send Invitation</button>\n        </form>\n      </div>\n    </div>\n\n    <!-- Toast Notification -->\n    <div\n      v-if=\"toastMessage\"\n      :class=\"['toast', toastError ? 'error' : 'success']\"\n    >\n      {{ toastMessage }}\n    </div>\n\n    <!-- Staff Table -->\n    <div class=\"table-container\">\n      <table class=\"staff-table\">\n        <thead>\n          <tr>\n            <th>ID</th>\n            <th>Name</th>\n            <th>Department</th>\n            <th>Contact</th>\n            <th>Requests</th>\n            <th>Hire Date</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"(s, index) in filteredStaff\" :key=\"s._id\">\n            <td class=\"id-cell\">{{ index + 1 }}</td>\n            <td class=\"name-cell\">\n              <div class=\"employee-info\">\n                <div class=\"employee-avatar\">\n                  {{ s.name ? s.name.charAt(0).toUpperCase() : \"?\" }}\n                </div>\n                <span class=\"employee-name\">{{ s.name || \"‚Äî\" }}</span>\n              </div>\n            </td>\n            <td class=\"department-cell\">{{ s.department || \"‚Äî\" }}</td>\n            <td class=\"contact-cell\">\n              <div class=\"contact-info\">\n                <div class=\"phone\">{{ s.phone || \"‚Äî\" }}</div>\n                <div class=\"email\">{{ s.email }}</div>\n              </div>\n            </td>\n            <td class=\"requests-cell\">\n              <span v-if=\"s.status === 'pending'\" class=\"badge pending\">1</span>\n              <span v-else class=\"badge\">0</span>\n            </td>\n            <td class=\"date-cell\">\n              {{\n                s.dateOfJoining\n                  ? new Date(s.dateOfJoining).toLocaleDateString(\"en-CA\")\n                  : \"‚Äî\"\n              }}\n            </td>\n            <td class=\"actions-cell\">\n              <div class=\"action-menu\">\n                <button\n                  @click=\"toggleMenu(s._id)\"\n                  class=\"menu-trigger\"\n                  title=\"More options\"\n                >\n                  ‚ãÆ\n                </button>\n                <div v-if=\"activeMenu === s._id\" class=\"dropdown-menu\">\n                  <button\n                    v-if=\"s.status === 'pending'\"\n                    @click=\"approveStaff(s._id)\"\n                    class=\"menu-item approve\"\n                  >\n                    ‚úì Approve\n                  </button>\n                  <button\n                    v-if=\"s.status === 'active'\"\n                    @click=\"setStatus(s._id, 'deactivated')\"\n                    class=\"menu-item deactivate\"\n                  >\n                    ‚äò Deactivate\n                  </button>\n                  <button\n                    v-if=\"s.status === 'deactivated'\"\n                    @click=\"setStatus(s._id, 'active')\"\n                    class=\"menu-item activate\"\n                  >\n                    ‚úì Activate\n                  </button>\n                  <button\n                    @click=\"exportStaffPDF(s)\"\n                    class=\"menu-item download\"\n                  >\n                    üìÑ Download PDF\n                  </button>\n                  <button\n                    @click=\"openDeleteModal(s._id)\"\n                    class=\"menu-item delete\"\n                  >\n                    üóëÔ∏è Delete\n                  </button>\n                </div>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <div v-if=\"filteredStaff.length === 0\" class=\"no-data\">\n        No employees found\n      </div>\n    </div>\n\n    <!-- Delete Confirmation Modal -->\n    <div v-if=\"showDeleteModal\" class=\"modal-overlay\" @click=\"cancelDelete\">\n      <div class=\"modal-delete\" @click.stop>\n        <div class=\"delete-icon\">‚ö†Ô∏è</div>\n        <h3>Delete Employee</h3>\n        <p>Are you sure you want to permanently delete this staff?</p>\n        <p class=\"warning\">This action cannot be undone.</p>\n        <div class=\"modal-actions-delete\">\n          <button @click=\"confirmDelete\" class=\"btn-delete-confirm\">Delete</button>\n          <button @click=\"cancelDelete\" class=\"btn-delete-cancel\">Cancel</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport jsPDF from \"jspdf\";\nimport autoTable from \"jspdf-autotable\";\n\nexport default {\n  data() {\n    return {\n      email: \"\",\n      staff: [],\n      toastMessage: \"\",\n      toastError: false,\n      showDeleteModal: false,\n      deleteId: null,\n    };\n  },\n  methods: {\n    async fetchStaff() {\n      try {\n        const res = await axios.get(\"http://localhost:5000/api/staff\");\n        this.staff = res.data.staff;\n      } catch (err) {\n        this.showToast(\"Failed to fetch staff\", true);\n      }\n    },\n    async inviteStaff() {\n      try {\n        await axios.post(\"http://localhost:5000/api/staff/invite\", {\n          email: this.email,\n        });\n        this.showToast(\"Invitation sent!\");\n        this.email = \"\";\n        this.fetchStaff();\n      } catch (err) {\n        this.showToast(\n          err.response?.data?.message || \"Error sending invite\",\n          true\n        );\n      }\n    },\n    async approveStaff(id) {\n      try {\n        const joiningDate = new Date().toISOString();\n        const res = await axios.put(\n          `http://localhost:5000/api/staff/approve/${id}`,\n          { joiningDate }\n        );\n        this.showToast(res.data.message || \"Staff approved successfully\");\n        this.fetchStaff();\n      } catch (err) {\n        this.showToast(\n          err.response?.data?.message || \"Error approving staff\",\n          true\n        );\n      }\n    },\n    async setStatus(id, status) {\n      try {\n        await axios.put(`http://localhost:5000/api/staff/status/${id}`, {\n          status,\n        });\n        this.showToast(\"Status updated successfully\");\n        this.fetchStaff();\n      } catch (err) {\n        this.showToast(\"Failed to update status\", true);\n      }\n    },\n\n    // --- Delete with Modal ---\n    openDeleteModal(id) {\n      this.deleteId = id;\n      this.showDeleteModal = true;\n    },\n    cancelDelete() {\n      this.showDeleteModal = false;\n      this.deleteId = null;\n    },\n    async confirmDelete() {\n      try {\n        await axios.delete(`http://localhost:5000/api/staff/${this.deleteId}`);\n        this.showToast(\"Staff deleted successfully\");\n        this.fetchStaff();\n      } catch (err) {\n        this.showToast(\n          err.response?.data?.message || \"Error deleting staff\",\n          true\n        );\n      }\n      this.showDeleteModal = false;\n      this.deleteId = null;\n    },\n\n    showToast(message, isError = false) {\n      this.toastMessage = message;\n      this.toastError = isError;\n      setTimeout(() => {\n        this.toastMessage = \"\";\n        this.toastError = false;\n      }, 3000);\n    },\n\n    // --- PDF Methods (unchanged) ---\n    exportStaffPDF(staff) {\n      const doc = new jsPDF();\n      const logo = new Image();\n      logo.src = require(\"@/assets/logo.jpeg\");\n      doc.addImage(logo, \"JPEG\", 34, 13, 30, 25);\n      doc.setFontSize(16);\n      doc.setFont(\"helvetica\", \"bold\");\n      doc.text(\"COCHIN DISTRIBUTORS\", 75, 18);\n      doc.setFontSize(11);\n      doc.setFont(\"helvetica\", \"normal\");\n      doc.text(\"Merchant Association Building,\", 82, 26);\n      doc.text(\"Santhi Nagar, Kattappana\", 87, 32);\n      doc.text(\"Ph: 9447419293, 9446074962\", 83, 38);\n      doc.setDrawColor(0);\n      doc.line(14, 45, 200, 45);\n\n      if (staff.profilePhoto) {\n        const staffImg = new Image();\n        staffImg.src = `http://localhost:5000${staff.profilePhoto}`;\n        doc.addImage(staffImg, \"JPEG\", 160, 10, 35, 35);\n      }\n\n      doc.setFontSize(14);\n      doc.setFont(\"helvetica\", \"bold\");\n      doc.text(\"Personal Information\", 14, 55);\n\n      autoTable(doc, {\n        startY: 60,\n        theme: \"grid\",\n        head: [[\"Field\", \"Value\"]],\n        body: [\n          [\"Name\", staff.name || \"‚Äî\"],\n          [\"Email\", staff.email],\n          [\"Phone\", staff.phone || \"‚Äî\"],\n          [\"Gender\", staff.gender || \"‚Äî\"],\n          [\"Address\", staff.address || \"‚Äî\"],\n          [\"Pincode\", staff.pincode || \"‚Äî\"],\n        ],\n      });\n\n      let finalY = doc.lastAutoTable.finalY + 10;\n      doc.setFontSize(14);\n      doc.setFont(\"helvetica\", \"bold\");\n      doc.text(\"Work Information\", 14, finalY);\n\n      autoTable(doc, {\n        startY: finalY + 5,\n        theme: \"grid\",\n        head: [[\"Field\", \"Value\"]],\n        body: [\n          [\n            \"Date of Joining\",\n            staff.dateOfJoining\n              ? new Date(staff.dateOfJoining).toLocaleDateString()\n              : \"‚Äî\",\n          ],\n          [\"Status\", staff.status || \"‚Äî\"],\n        ],\n      });\n\n      let footerY = doc.internal.pageSize.getHeight() - 15;\n      doc.setFontSize(10);\n      doc.setFont(\"helvetica\", \"italic\");\n      doc.text(\n        `Generated on ${new Date().toLocaleDateString()} at ${new Date().toLocaleTimeString()}`,\n        14,\n        footerY\n      );\n\n      doc.save(`${staff.name || \"staff\"}_details.pdf`);\n    },\n\n    exportAllStaffPDF() {\n      const doc = new jsPDF();\n      const logo = new Image();\n      logo.src = require(\"@/assets/logo.jpeg\");\n      doc.addImage(logo, \"JPEG\", 34, 13, 30, 25);\n      doc.setFontSize(16);\n      doc.setFont(\"helvetica\", \"bold\");\n      doc.text(\"COCHIN DISTRIBUTORS\", 75, 18);\n      doc.setFontSize(11);\n      doc.setFont(\"helvetica\", \"normal\");\n      doc.text(\"Merchant Association Building,\", 82, 26);\n      doc.text(\"Santhi Nagar, Kattappana\", 87, 32);\n      doc.text(\"Ph: 9447419293, 9446074962\", 83, 38);\n      doc.setDrawColor(0);\n      doc.line(14, 45, 200, 45);\n\n      autoTable(doc, {\n        startY: 50,\n        head: [\n          [\n            \"Name\",\n            \"Email\",\n            \"Phone\",\n            \"Gender\",\n            \"Address\",\n            \"Pincode\",\n            \"Date of Joining\",\n            \"Status\",\n          ],\n        ],\n        body: this.staff.map((s) => [\n          s.name || \"‚Äî\",\n          s.email,\n          s.phone || \"‚Äî\",\n          s.gender || \"‚Äî\",\n          s.address || \"‚Äî\",\n          s.pincode || \"‚Äî\",\n          s.dateOfJoining\n            ? new Date(s.dateOfJoining).toLocaleDateString()\n            : \"‚Äî\",\n          s.status || \"‚Äî\",\n        ]),\n      });\n\n      let footerY = doc.internal.pageSize.getHeight() - 15;\n      doc.setFontSize(10);\n      doc.setFont(\"helvetica\", \"italic\");\n      doc.text(\n        `Generated on ${new Date().toLocaleDateString()} at ${new Date().toLocaleTimeString()}`,\n        14,\n        footerY\n      );\n\n      doc.save(\"staff-report.pdf\");\n    },\n  },\n  mounted() {\n    this.fetchStaff();\n  },\n};\n</script>\n\n<style scoped>\n.staff-management {\n  padding: 20px;\n  font-family: \"Segoe UI\", Tahoma, Geneva, Verdana, sans-serif;\n}\n\n.staff-management h2,\n.staff-management h3 {\n  margin-bottom: 15px;\n  color: #333;\n}\n\n/* Invite Form */\n.invite-form {\n  margin-bottom: 20px;\n  display: flex;\n  gap: 10px;\n}\n\n.invite-form input {\n  padding: 10px;\n  border: 1px solid #ddd;\n  border-radius: 6px;\n  flex: 1;\n}\n\n.invite-form button {\n  padding: 10px 16px;\n  background: linear-gradient(135deg, #3498db, #1e6bb8);\n  color: #fff;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-weight: 600;\n  transition: all 0.25s ease-in-out;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.12);\n}\n.invite-form button:hover {\n  transform: translateY(-2px) scale(1.03);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.18);\n}\n\n/* Table Styling */\ntable {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 15px;\n  background: #fff;\n  border: 1px solid #eee;\n  border-radius: 8px;\n  overflow: hidden;\n}\n\nthead {\n  background-color: #f7f7f7;\n}\n\nth,\ntd {\n  text-align: left;\n  padding: 12px 14px;\n  border-bottom: 1px solid #eee;\n  font-size: 14px;\n}\n\ntr:nth-child(even) {\n  background-color: #fafafa;\n}\n\n.action-buttons {\n  display: flex;\n  gap: 8px;\n}\n\n/* Action + PDF + Delete + Export All Buttons */\n.action-buttons button,\n.delete-btn,\n.export-all {\n  min-width: 110px;\n  height: 38px;\n  padding: 0 14px;\n  background: linear-gradient(135deg, #34495e, #2c3e50);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: all 0.25s ease-in-out;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);\n}\n\n.action-buttons button:hover,\n.delete-btn:hover,\n.export-all:hover {\n  transform: translateY(-2px) scale(1.05);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n}\n\n/* Delete button */\n.delete-btn {\n  min-width: 110px;\n  font-size: 14px;\n  font-weight: 600;\n}\n\n/* Toast Styling */\n.toast {\n  margin: 15px 0;\n  padding: 10px;\n  border-radius: 6px;\n  font-size: 14px;\n  color: white;\n}\n.toast.success {\n  background-color: #2ecc71;\n}\n.toast.error {\n  background-color: #e74c3c;\n}\n\n/* --- Modal Styling --- */\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n.modal {\n  background: white;\n  padding: 20px;\n  border-radius: 10px;\n  width: 400px;\n  max-width: 90%;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);\n  text-align: center;\n}\n.modal h3 {\n  font-size: 16px;\n  margin-bottom: 10px;\n}\n.modal p {\n  font-size: 14px;\n  margin-bottom: 20px;\n  color: #666;\n}\n.modal-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n}\n.confirm-btn {\n  padding: 8px 16px;\n  background: linear-gradient(135deg, #d10000ff, #b20707ff);\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-weight: 600;\n}\n.cancel-btn {\n  padding: 8px 16px;\n  background: #eee;\n  color: #333;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-weight: 600;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}