{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"category-container\"\n};\nconst _hoisted_2 = {\n  class: \"category-table\"\n};\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = [\"onClick\"];\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[6] || (_cache[6] = _createElementVNode(\"h2\", null, \"Category Management\", -1 /* CACHED */)), _createCommentVNode(\" Add Form \"), _createElementVNode(\"form\", {\n    onSubmit: _cache[1] || (_cache[1] = _withModifiers((...args) => $options.addCategory && $options.addCategory(...args), [\"prevent\"])),\n    class: \"add-form\"\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.name = $event),\n    type: \"text\",\n    placeholder: \"Enter category name\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.name]]), _cache[3] || (_cache[3] = _createElementVNode(\"button\", {\n    type: \"submit\"\n  }, \"+ Add New Category\", -1 /* CACHED */))], 32 /* NEED_HYDRATION */), _createCommentVNode(\" Table \"), _createElementVNode(\"table\", _hoisted_2, [_cache[5] || (_cache[5] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Category Name\"), _createElementVNode(\"th\", null, \"Status\"), _createElementVNode(\"th\", null, \"Last Updated\"), _createElementVNode(\"th\", null, \"Actions\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.categories, cat => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: cat._id\n    }, [_createElementVNode(\"td\", null, [$data.editId !== cat._id ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, _toDisplayString(cat.name), 1 /* TEXT */)) : _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n      key: 1,\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.editName = $event),\n      type: \"text\",\n      placeholder: \"Update category\"\n    }, null, 512 /* NEED_PATCH */)), [[_vModelText, $data.editName]])]), _cache[4] || (_cache[4] = _createElementVNode(\"td\", null, [_createElementVNode(\"span\", {\n      class: \"published\"\n    }, \"Published\")], -1 /* CACHED */)), _createElementVNode(\"td\", null, _toDisplayString($options.formatDate(cat.updatedAt)), 1 /* TEXT */), _createElementVNode(\"td\", null, [$data.editId !== cat._id ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      onClick: $event => $options.startEdit(cat),\n      class: \"btn edit\"\n    }, \" ‚úèÔ∏è \", 8 /* PROPS */, _hoisted_4)) : _createCommentVNode(\"v-if\", true), $data.editId === cat._id ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 1,\n      onClick: $event => $options.updateCategory(cat._id),\n      class: \"btn save\"\n    }, \" üíæ \", 8 /* PROPS */, _hoisted_5)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"button\", {\n      onClick: $event => $options.deleteCategory(cat._id),\n      class: \"btn delete\"\n    }, \" üóëÔ∏è \", 8 /* PROPS */, _hoisted_6)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_createCommentVNode","onSubmit","_cache","_withModifiers","args","$options","addCategory","$data","name","$event","type","placeholder","required","_hoisted_2","_Fragment","_renderList","categories","cat","key","_id","editId","_hoisted_3","_toDisplayString","editName","formatDate","updatedAt","onClick","startEdit","_hoisted_4","updateCategory","_hoisted_5","deleteCategory","_hoisted_6"],"sources":["C:\\Users\\LENOVO\\Music\\distribution-agency-project\\frontend\\src\\views\\AddCategory.vue"],"sourcesContent":["<template>\n  <div class=\"category-container\">\n    <h2>Category Management</h2>\n\n    <!-- Add Form -->\n    <form @submit.prevent=\"addCategory\" class=\"add-form\">\n      <input\n        v-model=\"name\"\n        type=\"text\"\n        placeholder=\"Enter category name\"\n        required\n      />\n      <button type=\"submit\">+ Add New Category</button>\n    </form>\n\n    <!-- Table -->\n    <table class=\"category-table\">\n      <thead>\n        <tr>\n          <th>Category Name</th>\n          <th>Status</th>\n          <th>Last Updated</th>\n          <th>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"cat in categories\" :key=\"cat._id\">\n          <td>\n            <span v-if=\"editId !== cat._id\">{{ cat.name }}</span>\n            <input\n              v-else\n              v-model=\"editName\"\n              type=\"text\"\n              placeholder=\"Update category\"\n            />\n          </td>\n          <td><span class=\"published\">Published</span></td>\n          <td>{{ formatDate(cat.updatedAt) }}</td>\n          <td>\n            <button\n              v-if=\"editId !== cat._id\"\n              @click=\"startEdit(cat)\"\n              class=\"btn edit\"\n            >\n              ‚úèÔ∏è\n            </button>\n            <button\n              v-if=\"editId === cat._id\"\n              @click=\"updateCategory(cat._id)\"\n              class=\"btn save\"\n            >\n              üíæ\n            </button>\n            <button @click=\"deleteCategory(cat._id)\" class=\"btn delete\">\n              üóëÔ∏è\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      name: \"\",\n      categories: [],\n      editId: null,\n      editName: \"\",\n    };\n  },\n  methods: {\n    async fetchCategories() {\n      try {\n        const res = await axios.get(\"http://localhost:5000/api/categories\");\n        this.categories = res.data;\n      } catch (err) {\n        console.error(\"Error fetching categories:\", err);\n      }\n    },\n    async addCategory() {\n      try {\n        const res = await axios.post(\"http://localhost:5000/api/categories\", {\n          name: this.name,\n        });\n        this.categories.unshift(res.data);\n        this.name = \"\";\n      } catch (err) {\n        alert(err.response?.data?.error || \"Error adding category\");\n      }\n    },\n    startEdit(cat) {\n      this.editId = cat._id;\n      this.editName = cat.name;\n    },\n    async updateCategory(id) {\n      try {\n        const res = await axios.put(\n          `http://localhost:5000/api/categories/${id}`,\n          {\n            name: this.editName,\n          }\n        );\n        const index = this.categories.findIndex((c) => c._id === id);\n        if (index !== -1) this.categories[index] = res.data;\n        this.editId = null;\n        this.editName = \"\";\n      } catch (err) {\n        alert(err.response?.data?.error || \"Error updating category\");\n      }\n    },\n    async deleteCategory(id) {\n      if (!confirm(\"Are you sure you want to delete this category?\")) return;\n      try {\n        await axios.delete(`http://localhost:5000/api/categories/${id}`);\n        this.categories = this.categories.filter((c) => c._id !== id);\n      } catch (err) {\n        alert(err.response?.data?.error || \"Error deleting category\");\n      }\n    },\n    formatDate(date) {\n      return new Date(date).toLocaleString();\n    },\n  },\n  mounted() {\n    this.fetchCategories();\n  },\n};\n</script>\n<style scoped>\n.category-container {\n  max-width: 1100px;\n  margin: auto;\n  padding: 20px;\n}\n\n.add-form {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  margin-bottom: 20px;\n  gap: 10px;\n}\n\n.add-form input {\n  flex: 1;\n  padding: 10px;\n  border: 1px solid #ddd;\n  border-radius: 6px;\n}\n\n.add-form button {\n  padding: 10px 18px;\n  background: linear-gradient(135deg, #2d89ef, #1e5cb3);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  font-weight: 600;\n  transition: all 0.25s ease-in-out;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.12);\n}\n.add-form button:hover {\n  transform: translateY(-2px) scale(1.03);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.18);\n}\n\n.category-table {\n  width: 100%;\n  border-collapse: separate;\n  border-spacing: 0 10px;\n}\n\n.category-table thead tr {\n  background: #f8f9fa;\n  text-align: left;\n}\n\n.category-table th {\n  padding: 12px;\n  font-weight: 600;\n  border-bottom: 2px solid #dee2e6;\n}\n\n.category-table tbody tr {\n  background: #ffffff;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);\n  border-radius: 8px;\n  transition: transform 0.15s ease;\n}\n.category-table tbody tr:hover {\n  transform: scale(1.01);\n}\n\n.category-table td {\n  padding: 12px;\n  vertical-align: middle;\n}\n\n.published {\n  color: #28a745;\n  font-weight: 600;\n}\n\n/* Modern Button Styles */\n.btn {\n  padding: 8px 16px;\n  border: none;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  margin-right: 8px;\n  transition: all 0.25s ease-in-out;\n  color: #fff;\n  min-width: 90px; /* same size for consistency */\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);\n}\n\n/* Edit */\n.edit {\n  background: linear-gradient(135deg, #56ccf2, #2f80ed);\n}\n.edit:hover {\n  transform: translateY(-2px) scale(1.05);\n  box-shadow: 0 4px 12px rgba(47, 128, 237, 0.35);\n}\n\n/* Save */\n.save {\n  background: linear-gradient(135deg, #28a745, #218838);\n}\n.save:hover {\n  transform: translateY(-2px) scale(1.05);\n  box-shadow: 0 4px 12px rgba(40, 167, 69, 0.35);\n}\n\n/* Delete */\n.delete {\n  background: linear-gradient(135deg, #790000ff, #7f0002ff);\n}\n.delete:hover {\n  transform: translateY(-2px) scale(1.05);\n  box-shadow: 0 4px 12px rgba(238, 9, 121, 0.35);\n}\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAoB;;EAetBA,KAAK,EAAC;AAAgB;;;;;;;;uBAf/BC,mBAAA,CA2DM,OA3DNC,UA2DM,G,0BA1DJC,mBAAA,CAA4B,YAAxB,qBAAmB,qBAEvBC,mBAAA,cAAiB,EACjBD,mBAAA,CAQO;IARAE,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,WAAA,IAAAD,QAAA,CAAAC,WAAA,IAAAF,IAAA,CAAW;IAAER,KAAK,EAAC;sBACxCG,mBAAA,CAKE;+DAJSQ,KAAA,CAAAC,IAAI,GAAAC,MAAA;IACbC,IAAI,EAAC,MAAM;IACXC,WAAW,EAAC,qBAAqB;IACjCC,QAAQ,EAAR;iDAHSL,KAAA,CAAAC,IAAI,E,6BAKfT,mBAAA,CAAiD;IAAzCW,IAAI,EAAC;EAAQ,GAAC,oBAAkB,oB,4BAG1CV,mBAAA,WAAc,EACdD,mBAAA,CA2CQ,SA3CRc,UA2CQ,G,0BA1CNd,mBAAA,CAOQ,gBANNA,mBAAA,CAKK,aAJHA,mBAAA,CAAsB,YAAlB,eAAa,GACjBA,mBAAA,CAAe,YAAX,QAAM,GACVA,mBAAA,CAAqB,YAAjB,cAAY,GAChBA,mBAAA,CAAgB,YAAZ,SAAO,E,uBAGfA,mBAAA,CAiCQ,iB,kBAhCNF,mBAAA,CA+BKiB,SAAA,QAAAC,WAAA,CA/BaR,KAAA,CAAAS,UAAU,EAAjBC,GAAG;yBAAdpB,mBAAA,CA+BK;MA/B0BqB,GAAG,EAAED,GAAG,CAACE;QACtCpB,mBAAA,CAQK,aAPSQ,KAAA,CAAAa,MAAM,KAAKH,GAAG,CAACE,GAAG,I,cAA9BtB,mBAAA,CAAqD,QAAAwB,UAAA,EAAAC,gBAAA,CAAlBL,GAAG,CAACT,IAAI,oB,+BAC3CX,mBAAA,CAKE;;iEAHSU,KAAA,CAAAgB,QAAQ,GAAAd,MAAA;MACjBC,IAAI,EAAC,MAAM;MACXC,WAAW,EAAC;oDAFHJ,KAAA,CAAAgB,QAAQ,E,+BAKrBxB,mBAAA,CAAiD,aAA7CA,mBAAA,CAAwC;MAAlCH,KAAK,EAAC;IAAW,GAAC,WAAS,E,qBACrCG,mBAAA,CAAwC,YAAAuB,gBAAA,CAAjCjB,QAAA,CAAAmB,UAAU,CAACP,GAAG,CAACQ,SAAS,mBAC/B1B,mBAAA,CAkBK,aAhBKQ,KAAA,CAAAa,MAAM,KAAKH,GAAG,CAACE,GAAG,I,cAD1BtB,mBAAA,CAMS;;MAJN6B,OAAK,EAAAjB,MAAA,IAAEJ,QAAA,CAAAsB,SAAS,CAACV,GAAG;MACrBrB,KAAK,EAAC;OACP,MAED,iBAAAgC,UAAA,K,mCAEQrB,KAAA,CAAAa,MAAM,KAAKH,GAAG,CAACE,GAAG,I,cAD1BtB,mBAAA,CAMS;;MAJN6B,OAAK,EAAAjB,MAAA,IAAEJ,QAAA,CAAAwB,cAAc,CAACZ,GAAG,CAACE,GAAG;MAC9BvB,KAAK,EAAC;OACP,MAED,iBAAAkC,UAAA,K,mCACA/B,mBAAA,CAES;MAFA2B,OAAK,EAAAjB,MAAA,IAAEJ,QAAA,CAAA0B,cAAc,CAACd,GAAG,CAACE,GAAG;MAAGvB,KAAK,EAAC;OAAa,OAE5D,iBAAAoC,UAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}