{"ast":null,"code":"import { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  ref: \"container\",\n  class: \"three-container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, null, 512 /* NEED_PATCH */);\n}","map":{"version":3,"names":["ref","class","_createElementBlock","_hoisted_1"],"sources":["C:\\Users\\LENOVO\\Music\\OneDrive\\Pictures\\distribution-agency-project\\frontend\\src\\components\\ThreeDBox.vue"],"sourcesContent":["<template>\r\n  <div ref=\"container\" class=\"three-container\"></div>\r\n</template>\r\n\r\n<script>\r\nimport * as THREE from \"three\";\r\n\r\nexport default {\r\n  name: \"ThreeDBox\",\r\n  props: {\r\n    image: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      scene: null,\r\n      camera: null,\r\n      renderer: null,\r\n      cube: null,\r\n      animationId: null,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.initThree();\r\n    window.addEventListener(\"resize\", this.handleResize);\r\n  },\r\n  beforeUnmount() {\r\n    this.cleanup();\r\n    window.removeEventListener(\"resize\", this.handleResize);\r\n  },\r\n  methods: {\r\n    initThree() {\r\n      const container = this.$refs.container;\r\n      const width = container.clientWidth;\r\n      const height = container.clientHeight;\r\n\r\n      // Scene\r\n      this.scene = new THREE.Scene();\r\n      this.scene.background = new THREE.Color(0xf0f0f0);\r\n\r\n      // Camera\r\n      this.camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);\r\n      this.camera.position.z = 2;\r\n\r\n      // Renderer\r\n      this.renderer = new THREE.WebGLRenderer({ antialias: true });\r\n      this.renderer.setSize(width, height);\r\n      container.appendChild(this.renderer.domElement);\r\n\r\n      // Lights\r\n      const ambientLight = new THREE.AmbientLight(0xffffff, 0.8);\r\n      this.scene.add(ambientLight);\r\n\r\n      const directionalLight = new THREE.DirectionalLight(0xffffff, 0.5);\r\n      directionalLight.position.set(1, 1, 1);\r\n      this.scene.add(directionalLight);\r\n\r\n      // Texture\r\n      const textureLoader = new THREE.TextureLoader();\r\n      // Use a proxy or ensure CORS is handled if image is from external source\r\n      // Since it's localhost, it should be fine.\r\n      textureLoader.load(\r\n        this.image,\r\n        (texture) => {\r\n          // Geometry\r\n          const geometry = new THREE.BoxGeometry(1, 1, 1);\r\n          const material = new THREE.MeshStandardMaterial({ map: texture });\r\n          this.cube = new THREE.Mesh(geometry, material);\r\n          this.scene.add(this.cube);\r\n        },\r\n        undefined,\r\n        (err) => {\r\n          console.error(\"Error loading texture:\", err);\r\n        }\r\n      );\r\n\r\n      this.animate();\r\n    },\r\n    animate() {\r\n      this.animationId = requestAnimationFrame(this.animate);\r\n\r\n      if (this.cube) {\r\n        this.cube.rotation.x += 0.005;\r\n        this.cube.rotation.y += 0.01;\r\n      }\r\n\r\n      if (this.renderer && this.scene && this.camera) {\r\n        this.renderer.render(this.scene, this.camera);\r\n      }\r\n    },\r\n    handleResize() {\r\n      if (!this.$refs.container) return;\r\n      const width = this.$refs.container.clientWidth;\r\n      const height = this.$refs.container.clientHeight;\r\n\r\n      if (this.camera) {\r\n        this.camera.aspect = width / height;\r\n        this.camera.updateProjectionMatrix();\r\n      }\r\n\r\n      if (this.renderer) {\r\n        this.renderer.setSize(width, height);\r\n      }\r\n    },\r\n    cleanup() {\r\n      if (this.animationId) cancelAnimationFrame(this.animationId);\r\n      if (this.renderer) {\r\n        this.renderer.dispose();\r\n        this.$refs.container.removeChild(this.renderer.domElement);\r\n      }\r\n      if (this.cube) {\r\n        this.cube.geometry.dispose();\r\n        if (Array.isArray(this.cube.material)) {\r\n          this.cube.material.forEach((m) => m.dispose());\r\n        } else {\r\n          this.cube.material.dispose();\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.three-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n}\r\n</style>\r\n"],"mappings":";;EACOA,GAAG,EAAC,WAAW;EAACC,KAAK,EAAC;;;uBAA3BC,mBAAA,CAAmD,OAAnDC,UAAmD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}