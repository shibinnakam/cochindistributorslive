{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nexport default {\n  data() {\n    return {\n      leaves: []\n    };\n  },\n  async created() {\n    const res = await fetch('http://localhost:5000/api/leaves/all');\n    this.leaves = await res.json();\n  },\n  methods: {\n    async updateStatus(id, status) {\n      await fetch(`http://localhost:5000/api/leaves/update/${id}`, {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          status\n        })\n      });\n      this.leaves = this.leaves.map(l => l._id === id ? {\n        ...l,\n        status\n      } : l);\n    }\n  }\n};","map":{"version":3,"names":["data","leaves","created","res","fetch","json","methods","updateStatus","id","status","method","headers","body","JSON","stringify","map","l","_id"],"sources":["C:\\Users\\LENOVO\\Music\\distribution-agency-project\\frontend\\src\\views\\AdminLeaves.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2>Leave Requests</h2>\r\n    <div v-for=\"leave in leaves\" :key=\"leave._id\">\r\n      <p>Email: {{ leave.email }}</p>\r\n      <p>Reason: {{ leave.reason }}</p>\r\n      <p>Date: {{ new Date(leave.date).toLocaleDateString() }}</p>\r\n      <p>Status: {{ leave.status }}</p>\r\n      <button v-if=\"leave.status==='Pending'\" @click=\"updateStatus(leave._id,'Approved')\">Approve</button>\r\n      <button v-if=\"leave.status==='Pending'\" @click=\"updateStatus(leave._id,'Rejected')\">Reject</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() { return { leaves: [] }; },\r\n  async created() {\r\n    const res = await fetch('http://localhost:5000/api/leaves/all');\r\n    this.leaves = await res.json();\r\n  },\r\n  methods: {\r\n    async updateStatus(id, status) {\r\n      await fetch(`http://localhost:5000/api/leaves/update/${id}`, {\r\n        method: 'PATCH',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ status }),\r\n      });\r\n      this.leaves = this.leaves.map(l => l._id === id ? { ...l, status } : l);\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"mappings":";;AAeA,eAAe;EACbA,IAAIA,CAAA,EAAG;IAAE,OAAO;MAAEC,MAAM,EAAE;IAAG,CAAC;EAAE,CAAC;EACjC,MAAMC,OAAOA,CAAA,EAAG;IACd,MAAMC,GAAE,GAAI,MAAMC,KAAK,CAAC,sCAAsC,CAAC;IAC/D,IAAI,CAACH,MAAK,GAAI,MAAME,GAAG,CAACE,IAAI,CAAC,CAAC;EAChC,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,YAAYA,CAACC,EAAE,EAAEC,MAAM,EAAE;MAC7B,MAAML,KAAK,CAAC,2CAA2CI,EAAE,EAAE,EAAE;QAC3DE,MAAM,EAAE,OAAO;QACfC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEL;QAAO,CAAC;MACjC,CAAC,CAAC;MACF,IAAI,CAACR,MAAK,GAAI,IAAI,CAACA,MAAM,CAACc,GAAG,CAACC,CAAA,IAAKA,CAAC,CAACC,GAAE,KAAMT,EAAC,GAAI;QAAE,GAAGQ,CAAC;QAAEP;MAAO,IAAIO,CAAC,CAAC;IACzE;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}