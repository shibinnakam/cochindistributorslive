{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nexport default {\n  data() {\n    return {\n      leaves: []\n    };\n  },\n  async created() {\n    await this.fetchLeaves();\n  },\n  methods: {\n    async fetchLeaves() {\n      const res = await fetch(\"http://localhost:5000/api/leaves/all\");\n      this.leaves = await res.json();\n    },\n    async updateStatus(id, status) {\n      const res = await fetch(`http://localhost:5000/api/leaves/update/${id}`, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          status\n        })\n      });\n      const updatedLeave = await res.json();\n      this.leaves = this.leaves.map(l => l._id === id ? updatedLeave : l);\n    },\n    async deleteLeave(id) {\n      if (!confirm(\"Are you sure you want to delete this leave?\")) return;\n      await fetch(`http://localhost:5000/api/leaves/delete/${id}`, {\n        method: \"DELETE\"\n      });\n      this.leaves = this.leaves.filter(l => l._id !== id);\n    }\n  }\n};","map":{"version":3,"names":["data","leaves","created","fetchLeaves","methods","res","fetch","json","updateStatus","id","status","method","headers","body","JSON","stringify","updatedLeave","map","l","_id","deleteLeave","confirm","filter"],"sources":["C:\\Users\\LENOVO\\Music\\OneDrive\\Pictures\\distribution-agency-project\\frontend\\src\\views\\AdminLeaves.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2>Leave Requests</h2>\r\n\r\n    <table class=\"leave-table\">\r\n      <thead>\r\n        <tr>\r\n          <th>Email</th>\r\n          <th>Reason</th>\r\n          <th>Requested Date</th>\r\n          <th>Status</th>\r\n          <th>Approved Date</th>\r\n          <th>Rejected Date</th>\r\n          <th>Actions</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"leave in leaves\" :key=\"leave._id\">\r\n          <td>{{ leave.email }}</td>\r\n          <td>{{ leave.reason }}</td>\r\n          <td>{{ new Date(leave.date).toLocaleDateString() }}</td>\r\n          <td>{{ leave.status }}</td>\r\n          <td>\r\n            {{\r\n              leave.approvedDate\r\n                ? new Date(leave.approvedDate).toLocaleString()\r\n                : \"-\"\r\n            }}\r\n          </td>\r\n          <td>\r\n            {{\r\n              leave.rejectedDate\r\n                ? new Date(leave.rejectedDate).toLocaleString()\r\n                : \"-\"\r\n            }}\r\n          </td>\r\n          <td>\r\n            <button\r\n              v-if=\"leave.status === 'Pending'\"\r\n              @click=\"updateStatus(leave._id, 'Approved')\"\r\n            >\r\n              Approve\r\n            </button>\r\n            <button\r\n              v-if=\"leave.status === 'Pending'\"\r\n              @click=\"updateStatus(leave._id, 'Rejected')\"\r\n            >\r\n              Reject\r\n            </button>\r\n            <button @click=\"deleteLeave(leave._id)\" class=\"delete-btn\">\r\n              Delete\r\n            </button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      leaves: [],\r\n    };\r\n  },\r\n  async created() {\r\n    await this.fetchLeaves();\r\n  },\r\n  methods: {\r\n    async fetchLeaves() {\r\n      const res = await fetch(\"http://localhost:5000/api/leaves/all\");\r\n      this.leaves = await res.json();\r\n    },\r\n    async updateStatus(id, status) {\r\n      const res = await fetch(`http://localhost:5000/api/leaves/update/${id}`, {\r\n        method: \"PATCH\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ status }),\r\n      });\r\n      const updatedLeave = await res.json();\r\n      this.leaves = this.leaves.map((l) => (l._id === id ? updatedLeave : l));\r\n    },\r\n    async deleteLeave(id) {\r\n      if (!confirm(\"Are you sure you want to delete this leave?\")) return;\r\n\r\n      await fetch(`http://localhost:5000/api/leaves/delete/${id}`, {\r\n        method: \"DELETE\",\r\n      });\r\n      this.leaves = this.leaves.filter((l) => l._id !== id);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.leave-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  margin-top: 20px;\r\n}\r\n\r\n.leave-table th,\r\n.leave-table td {\r\n  border: 1px solid #ddd;\r\n  padding: 8px;\r\n  text-align: center;\r\n}\r\n\r\n.leave-table th {\r\n  background-color: #f2f2f2;\r\n  font-weight: bold;\r\n}\r\n\r\nbutton {\r\n  margin: 2px;\r\n  padding: 5px 10px;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n}\r\n\r\nbutton:first-of-type {\r\n  background-color: #4caf50;\r\n  color: white;\r\n}\r\n\r\nbutton:nth-of-type(2) {\r\n  background-color: #f44336;\r\n  color: white;\r\n}\r\n\r\n.delete-btn {\r\n  background-color: #555;\r\n  color: white;\r\n}\r\n</style>\r\n"],"mappings":";;;AA4DA,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,MAAM,EAAE;IACV,CAAC;EACH,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,MAAM,IAAI,CAACC,WAAW,CAAC,CAAC;EAC1B,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,WAAWA,CAAA,EAAG;MAClB,MAAME,GAAE,GAAI,MAAMC,KAAK,CAAC,sCAAsC,CAAC;MAC/D,IAAI,CAACL,MAAK,GAAI,MAAMI,GAAG,CAACE,IAAI,CAAC,CAAC;IAChC,CAAC;IACD,MAAMC,YAAYA,CAACC,EAAE,EAAEC,MAAM,EAAE;MAC7B,MAAML,GAAE,GAAI,MAAMC,KAAK,CAAC,2CAA2CG,EAAE,EAAE,EAAE;QACvEE,MAAM,EAAE,OAAO;QACfC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEL;QAAO,CAAC;MACjC,CAAC,CAAC;MACF,MAAMM,YAAW,GAAI,MAAMX,GAAG,CAACE,IAAI,CAAC,CAAC;MACrC,IAAI,CAACN,MAAK,GAAI,IAAI,CAACA,MAAM,CAACgB,GAAG,CAAEC,CAAC,IAAMA,CAAC,CAACC,GAAE,KAAMV,EAAC,GAAIO,YAAW,GAAIE,CAAE,CAAC;IACzE,CAAC;IACD,MAAME,WAAWA,CAACX,EAAE,EAAE;MACpB,IAAI,CAACY,OAAO,CAAC,6CAA6C,CAAC,EAAE;MAE7D,MAAMf,KAAK,CAAC,2CAA2CG,EAAE,EAAE,EAAE;QAC3DE,MAAM,EAAE;MACV,CAAC,CAAC;MACF,IAAI,CAACV,MAAK,GAAI,IAAI,CAACA,MAAM,CAACqB,MAAM,CAAEJ,CAAC,IAAKA,CAAC,CAACC,GAAE,KAAMV,EAAE,CAAC;IACvD;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}