{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"form-wrapper\"\n};\nconst _hoisted_2 = {\n  class: \"form-card\"\n};\nconst _hoisted_3 = [\"value\"];\nconst _hoisted_4 = [\"src\"];\nconst _hoisted_5 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[8] || (_cache[8] = _createElementVNode(\"h2\", {\n    class: \"form-title\"\n  }, \"Add Product\", -1 /* CACHED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[6] || (_cache[6] = _withModifiers((...args) => $options.addProduct && $options.addProduct(...args), [\"prevent\"]))\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.name = $event),\n    type: \"text\",\n    placeholder: \"Product Name\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.name]]), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.description = $event),\n    placeholder: \"Description\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.description]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.originalPrice = $event),\n    type: \"number\",\n    placeholder: \"Original Price\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.originalPrice]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.discountPrice = $event),\n    type: \"number\",\n    placeholder: \"Discount Price\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.discountPrice]]), _createCommentVNode(\" Category Dropdown \"), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.category = $event),\n    required: \"\"\n  }, [_cache[7] || (_cache[7] = _createElementVNode(\"option\", {\n    value: \"\"\n  }, \"Select Category\", -1 /* CACHED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.categories, cat => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: cat._id,\n      value: cat._id\n    }, _toDisplayString(cat.name), 9 /* TEXT, PROPS */, _hoisted_3);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.category]]), _createCommentVNode(\" Image Upload \"), _createElementVNode(\"input\", {\n    type: \"file\",\n    onChange: _cache[5] || (_cache[5] = (...args) => $options.handleImageUpload && $options.handleImageUpload(...args)),\n    accept: \"image/*\"\n  }, null, 32 /* NEED_HYDRATION */), $data.preview ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 0,\n    src: $data.preview,\n    class: \"preview-img\"\n  }, null, 8 /* PROPS */, _hoisted_4)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"button\", {\n    type: \"submit\",\n    disabled: $data.loading\n  }, _toDisplayString($data.loading ? \"Saving...\" : \"Add Product\"), 9 /* TEXT, PROPS */, _hoisted_5)], 32 /* NEED_HYDRATION */)])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onSubmit","_cache","_withModifiers","args","$options","addProduct","$data","name","$event","type","placeholder","required","description","originalPrice","discountPrice","_createCommentVNode","category","value","_Fragment","_renderList","categories","cat","key","_id","_hoisted_3","onChange","handleImageUpload","accept","preview","src","disabled","loading","_hoisted_5"],"sources":["C:\\Users\\LENOVO\\Music\\distribution-agency-project\\frontend\\src\\views\\AddProduct.vue"],"sourcesContent":["<template>\n  <div class=\"form-wrapper\">\n    <div class=\"form-card\">\n      <h2 class=\"form-title\">Add Product</h2>\n      <form @submit.prevent=\"addProduct\">\n        <input v-model=\"name\" type=\"text\" placeholder=\"Product Name\" required />\n        <textarea v-model=\"description\" placeholder=\"Description\"></textarea>\n        <input v-model=\"originalPrice\" type=\"number\" placeholder=\"Original Price\" required />\n        <input v-model=\"discountPrice\" type=\"number\" placeholder=\"Discount Price\" required />\n\n        <!-- Category Dropdown -->\n        <select v-model=\"category\" required>\n          <option value=\"\">Select Category</option>\n          <option v-for=\"cat in categories\" :key=\"cat._id\" :value=\"cat._id\">\n            {{ cat.name }}\n          </option>\n        </select>\n\n        <!-- Image Upload -->\n        <input type=\"file\" @change=\"handleImageUpload\" accept=\"image/*\" />\n        <img v-if=\"preview\" :src=\"preview\" class=\"preview-img\" />\n\n        <button type=\"submit\" :disabled=\"loading\">\n          {{ loading ? \"Saving...\" : \"Add Product\" }}\n        </button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"AddProduct\",\n  data() {\n    return {\n      name: \"\",\n      description: \"\",\n      originalPrice: \"\",\n      discountPrice: \"\",\n      category: \"\",\n      categories: [],\n      image: null,\n      preview: null,\n      loading: false\n    };\n  },\n  methods: {\n    handleImageUpload(e) {\n      const file = e.target.files[0];\n      if (file) {\n        this.image = file;\n        this.preview = URL.createObjectURL(file);\n      }\n    },\n    async loadCategories() {\n      try {\n        const res = await axios.get(\"http://localhost:5000/api/categories\");\n        this.categories = res.data;\n      } catch (err) {\n        console.error(\"Error loading categories:\", err.message);\n      }\n    },\n    async addProduct() {\n      if (!this.image) return alert(\"⚠️ Please select an image\");\n\n      this.loading = true;\n      try {\n        const formData = new FormData();\n        formData.append(\"name\", this.name);\n        formData.append(\"description\", this.description);\n        formData.append(\"originalPrice\", this.originalPrice);\n        formData.append(\"discountPrice\", this.discountPrice);\n        formData.append(\"category\", this.category);\n        formData.append(\"image\", this.image);\n\n        await axios.post(\"http://localhost:5000/api/products/addproduct\", formData, {\n          headers: { \"Content-Type\": \"multipart/form-data\" }\n        });\n\n        alert(\"✅ Product added successfully!\");\n        this.resetForm();\n      } catch (err) {\n        alert(\"❌ Error adding product: \" + (err.response?.data?.error || err.message));\n      } finally {\n        this.loading = false;\n      }\n    },\n    resetForm() {\n      this.name = \"\";\n      this.description = \"\";\n      this.originalPrice = \"\";\n      this.discountPrice = \"\";\n      this.category = \"\";\n      this.image = null;\n      this.preview = null;\n    }\n  },\n  mounted() {\n    this.loadCategories();\n  }\n};\n</script>\n\n<style>\n.preview-img {\n  max-width: 150px;\n  margin-top: 10px;\n}\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAc;;EAClBA,KAAK,EAAC;AAAW;;;;;uBADxBC,mBAAA,CA0BM,OA1BNC,UA0BM,GAzBJC,mBAAA,CAwBM,OAxBNC,UAwBM,G,0BAvBJD,mBAAA,CAAuC;IAAnCH,KAAK,EAAC;EAAY,GAAC,aAAW,qBAClCG,mBAAA,CAqBO;IArBAE,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,UAAA,IAAAD,QAAA,CAAAC,UAAA,IAAAF,IAAA,CAAU;sBAC/BL,mBAAA,CAAwE;+DAAxDQ,KAAA,CAAAC,IAAI,GAAAC,MAAA;IAAEC,IAAI,EAAC,MAAM;IAACC,WAAW,EAAC,cAAc;IAACC,QAAQ,EAAR;iDAA7CL,KAAA,CAAAC,IAAI,E,mBACpBT,mBAAA,CAAqE;+DAAlDQ,KAAA,CAAAM,WAAW,GAAAJ,MAAA;IAAEE,WAAW,EAAC;iDAAzBJ,KAAA,CAAAM,WAAW,E,mBAC9Bd,mBAAA,CAAqF;+DAArEQ,KAAA,CAAAO,aAAa,GAAAL,MAAA;IAAEC,IAAI,EAAC,QAAQ;IAACC,WAAW,EAAC,gBAAgB;IAACC,QAAQ,EAAR;iDAA1DL,KAAA,CAAAO,aAAa,E,mBAC7Bf,mBAAA,CAAqF;+DAArEQ,KAAA,CAAAQ,aAAa,GAAAN,MAAA;IAAEC,IAAI,EAAC,QAAQ;IAACC,WAAW,EAAC,gBAAgB;IAACC,QAAQ,EAAR;iDAA1DL,KAAA,CAAAQ,aAAa,E,GAE7BC,mBAAA,uBAA0B,E,gBAC1BjB,mBAAA,CAKS;+DALQQ,KAAA,CAAAU,QAAQ,GAAAR,MAAA;IAAEG,QAAQ,EAAR;gCACzBb,mBAAA,CAAyC;IAAjCmB,KAAK,EAAC;EAAE,GAAC,iBAAe,sB,kBAChCrB,mBAAA,CAESsB,SAAA,QAAAC,WAAA,CAFab,KAAA,CAAAc,UAAU,EAAjBC,GAAG;yBAAlBzB,mBAAA,CAES;MAF0B0B,GAAG,EAAED,GAAG,CAACE,GAAG;MAAGN,KAAK,EAAEI,GAAG,CAACE;wBACxDF,GAAG,CAACd,IAAI,wBAAAiB,UAAA;2EAHElB,KAAA,CAAAU,QAAQ,E,GAOzBD,mBAAA,kBAAqB,EACrBjB,mBAAA,CAAkE;IAA3DW,IAAI,EAAC,MAAM;IAAEgB,QAAM,EAAAxB,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAsB,iBAAA,IAAAtB,QAAA,CAAAsB,iBAAA,IAAAvB,IAAA,CAAiB;IAAEwB,MAAM,EAAC;qCAC3CrB,KAAA,CAAAsB,OAAO,I,cAAlBhC,mBAAA,CAAyD;;IAApCiC,GAAG,EAAEvB,KAAA,CAAAsB,OAAO;IAAEjC,KAAK,EAAC;4EAEzCG,mBAAA,CAES;IAFDW,IAAI,EAAC,QAAQ;IAAEqB,QAAQ,EAAExB,KAAA,CAAAyB;sBAC5BzB,KAAA,CAAAyB,OAAO,sDAAAC,UAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}