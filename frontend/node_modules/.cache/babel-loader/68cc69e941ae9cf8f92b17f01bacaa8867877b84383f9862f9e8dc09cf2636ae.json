{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"staff-dashboard\"\n};\nconst _hoisted_2 = {\n  class: \"sidebar\"\n};\nconst _hoisted_3 = {\n  class: \"arrow\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"submenu\"\n};\nconst _hoisted_5 = {\n  class: \"content\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"dashboard-tab\"\n};\nconst _hoisted_7 = {\n  class: \"stats-grid\"\n};\nconst _hoisted_8 = {\n  class: \"stat-box total-items\"\n};\nconst _hoisted_9 = {\n  class: \"stat-box leaves-taken\"\n};\nconst _hoisted_10 = {\n  class: \"stat-box pending-tasks\"\n};\nconst _hoisted_11 = {\n  class: \"stat-box completed-tasks\"\n};\nconst _hoisted_12 = {\n  key: 1,\n  class: \"profile-tab\"\n};\nconst _hoisted_13 = {\n  class: \"profile-card\"\n};\nconst _hoisted_14 = {\n  class: \"photo-section\"\n};\nconst _hoisted_15 = [\"src\"];\nconst _hoisted_16 = {\n  key: 0,\n  class: \"message\"\n};\nconst _hoisted_17 = {\n  key: 2,\n  class: \"items-tab\"\n};\nconst _hoisted_18 = {\n  key: 3,\n  class: \"apply-leave-tab\"\n};\nconst _hoisted_19 = {\n  key: 0\n};\nconst _hoisted_20 = {\n  key: 4,\n  class: \"leave-status-tab\"\n};\nconst _hoisted_21 = {\n  class: \"leave-table\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Sidebar \"), _createElementVNode(\"aside\", _hoisted_2, [_cache[22] || (_cache[22] = _createElementVNode(\"h2\", {\n    class: \"sidebar-title\"\n  }, \"Staff Panel\", -1 /* CACHED */)), _createElementVNode(\"ul\", null, [_createElementVNode(\"li\", {\n    class: _normalizeClass({\n      active: $data.currentTab === 'dashboard'\n    }),\n    onClick: _cache[0] || (_cache[0] = $event => $data.currentTab = 'dashboard')\n  }, \"Dashboard\", 2 /* CLASS */), _createElementVNode(\"li\", {\n    class: _normalizeClass({\n      active: $data.currentTab === 'profile'\n    }),\n    onClick: _cache[1] || (_cache[1] = $event => $data.currentTab = 'profile')\n  }, \"Profile\", 2 /* CLASS */), _createElementVNode(\"li\", {\n    class: _normalizeClass({\n      active: $data.currentTab === 'items'\n    }),\n    onClick: _cache[2] || (_cache[2] = $event => $data.currentTab = 'items')\n  }, \"Manage Items\", 2 /* CLASS */), _createElementVNode(\"li\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.toggleLeaves && $options.toggleLeaves(...args)),\n    class: \"has-submenu\"\n  }, [_cache[21] || (_cache[21] = _createTextVNode(\" Leaves \", -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_3, _toDisplayString($data.showLeaves ? \"â–¼\" : \"â–¶\"), 1 /* TEXT */)]), $data.showLeaves ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_4, [_createElementVNode(\"li\", {\n    class: _normalizeClass({\n      active: $data.currentTab === 'apply-leave'\n    }),\n    onClick: _cache[4] || (_cache[4] = _withModifiers($event => $data.currentTab = 'apply-leave', [\"stop\"]))\n  }, \"Apply for Leave\", 2 /* CLASS */), _createElementVNode(\"li\", {\n    class: _normalizeClass({\n      active: $data.currentTab === 'leave-status'\n    }),\n    onClick: _cache[5] || (_cache[5] = _withModifiers($event => $data.currentTab = 'leave-status', [\"stop\"]))\n  }, \"Leave Status\", 2 /* CLASS */)])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"li\", {\n    onClick: _cache[6] || (_cache[6] = (...args) => $options.logout && $options.logout(...args))\n  }, \"Logout\")])]), _createCommentVNode(\" Main Content \"), _createElementVNode(\"main\", _hoisted_5, [_createCommentVNode(\" Dashboard Tab \"), $data.currentTab === 'dashboard' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_cache[23] || (_cache[23] = _createElementVNode(\"h2\", null, \"Dashboard\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, \"Total Items: \" + _toDisplayString($data.stats.totalItems), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_9, \"Leaves Taken: \" + _toDisplayString($data.stats.leavesTaken), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_10, \"Pending Tasks: \" + _toDisplayString($data.stats.pendingTasks), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_11, \"Completed Tasks: \" + _toDisplayString($data.stats.completedTasks), 1 /* TEXT */)])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Profile Tab \"), $data.currentTab === 'profile' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [_cache[32] || (_cache[32] = _createElementVNode(\"h2\", null, \"My Profile\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"img\", {\n    src: $data.staff.profilePhoto ? $data.apiBase + $data.staff.profilePhoto : $data.defaultPhoto,\n    alt: \"Profile Photo\",\n    class: \"profile-photo\"\n  }, null, 8 /* PROPS */, _hoisted_15), _createElementVNode(\"input\", {\n    type: \"file\",\n    onChange: _cache[7] || (_cache[7] = (...args) => $options.onFileChange && $options.onFileChange(...args))\n  }, null, 32 /* NEED_HYDRATION */)]), _createElementVNode(\"form\", {\n    onSubmit: _cache[14] || (_cache[14] = _withModifiers((...args) => $options.updateProfile && $options.updateProfile(...args), [\"prevent\"])),\n    class: \"profile-form\"\n  }, [_cache[25] || (_cache[25] = _createElementVNode(\"label\", null, \"Name\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.staff.name = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.staff.name]]), _cache[26] || (_cache[26] = _createElementVNode(\"label\", null, \"Email (cannot be changed)\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.staff.email = $event),\n    disabled: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.staff.email]]), _cache[27] || (_cache[27] = _createElementVNode(\"label\", null, \"Phone\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $data.staff.phone = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.staff.phone]]), _cache[28] || (_cache[28] = _createElementVNode(\"label\", null, \"Gender\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $data.staff.gender = $event)\n  }, _cache[24] || (_cache[24] = [_createElementVNode(\"option\", {\n    value: \"male\"\n  }, \"Male\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: \"female\"\n  }, \"Female\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: \"other\"\n  }, \"Other\", -1 /* CACHED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $data.staff.gender]]), _cache[29] || (_cache[29] = _createElementVNode(\"label\", null, \"Address\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[12] || (_cache[12] = $event => $data.staff.address = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.staff.address]]), _cache[30] || (_cache[30] = _createElementVNode(\"label\", null, \"Pincode\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[13] || (_cache[13] = $event => $data.staff.pincode = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.staff.pincode]]), _cache[31] || (_cache[31] = _createElementVNode(\"button\", {\n    type: \"submit\"\n  }, \"Update Profile\", -1 /* CACHED */))], 32 /* NEED_HYDRATION */)]), $data.message ? (_openBlock(), _createElementBlock(\"p\", _hoisted_16, _toDisplayString($data.message), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Manage Items Tab \"), $data.currentTab === 'items' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, _cache[33] || (_cache[33] = [_createElementVNode(\"h2\", null, \"Manage Items\", -1 /* CACHED */), _createElementVNode(\"p\", null, \"ðŸ‘‰ Here you can add, update, or delete items.\", -1 /* CACHED */)]))) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Apply Leave Tab \"), $data.currentTab === 'apply-leave' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, [_cache[40] || (_cache[40] = _createElementVNode(\"h2\", null, \"Apply for Leave\", -1 /* CACHED */)), _createElementVNode(\"form\", {\n    class: \"leave-form\",\n    onSubmit: _cache[20] || (_cache[20] = _withModifiers((...args) => $options.submitLeave && $options.submitLeave(...args), [\"prevent\"]))\n  }, [_cache[35] || (_cache[35] = _createElementVNode(\"label\", null, \"Leave Type\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[15] || (_cache[15] = $event => $data.newLeave.type = $event),\n    required: \"\"\n  }, _cache[34] || (_cache[34] = [_createElementVNode(\"option\", null, \"Sick Leave\", -1 /* CACHED */), _createElementVNode(\"option\", null, \"Casual Leave\", -1 /* CACHED */), _createElementVNode(\"option\", null, \"Vacation\", -1 /* CACHED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $data.newLeave.type]]), _cache[36] || (_cache[36] = _createElementVNode(\"label\", null, \"From Date\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    \"onUpdate:modelValue\": _cache[16] || (_cache[16] = $event => $data.newLeave.from = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newLeave.from]]), _cache[37] || (_cache[37] = _createElementVNode(\"label\", null, \"To Date\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    \"onUpdate:modelValue\": _cache[17] || (_cache[17] = $event => $data.newLeave.to = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newLeave.to]]), _cache[38] || (_cache[38] = _createElementVNode(\"label\", null, \"Reason\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[18] || (_cache[18] = $event => $data.newLeave.reason = $event),\n    placeholder: \"Enter reason\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newLeave.reason]]), _cache[39] || (_cache[39] = _createElementVNode(\"button\", {\n    type: \"submit\"\n  }, \"Submit Leave\", -1 /* CACHED */)), _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[19] || (_cache[19] = (...args) => $options.resetLeaveForm && $options.resetLeaveForm(...args))\n  }, \"Clear\")], 32 /* NEED_HYDRATION */), $data.leaveMessage ? (_openBlock(), _createElementBlock(\"p\", _hoisted_19, _toDisplayString($data.leaveMessage), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Leave Status Tab \"), $data.currentTab === 'leave-status' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_20, [_cache[42] || (_cache[42] = _createElementVNode(\"h2\", null, \"Leave Status\", -1 /* CACHED */)), _createElementVNode(\"table\", _hoisted_21, [_cache[41] || (_cache[41] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Leave Type\"), _createElementVNode(\"th\", null, \"From\"), _createElementVNode(\"th\", null, \"To\"), _createElementVNode(\"th\", null, \"Status\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.leaveStatus, leave => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: leave._id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(leave.type), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString($options.formatDate(leave.from)), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString($options.formatDate(leave.to)), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(leave.status), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])])) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_normalizeClass","active","$data","currentTab","onClick","_cache","$event","args","$options","toggleLeaves","_hoisted_3","_toDisplayString","showLeaves","_hoisted_4","_withModifiers","logout","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","stats","totalItems","_hoisted_9","leavesTaken","_hoisted_10","pendingTasks","_hoisted_11","completedTasks","_hoisted_12","_hoisted_13","_hoisted_14","src","staff","profilePhoto","apiBase","defaultPhoto","alt","type","onChange","onFileChange","onSubmit","updateProfile","name","required","email","disabled","phone","gender","value","address","pincode","message","_hoisted_16","_hoisted_17","_hoisted_18","submitLeave","newLeave","from","to","reason","placeholder","resetLeaveForm","leaveMessage","_hoisted_19","_hoisted_20","_hoisted_21","_Fragment","_renderList","leaveStatus","leave","key","_id","formatDate","status"],"sources":["C:\\Users\\LENOVO\\Music\\distribution-agency-project\\frontend\\src\\views\\StaffPage.vue"],"sourcesContent":["<template>\n  <div class=\"staff-dashboard\">\n    <!-- Sidebar -->\n    <aside class=\"sidebar\">\n      <h2 class=\"sidebar-title\">Staff Panel</h2>\n      <ul>\n        <li :class=\"{ active: currentTab === 'dashboard' }\" @click=\"currentTab = 'dashboard'\">Dashboard</li>\n        <li :class=\"{ active: currentTab === 'profile' }\" @click=\"currentTab = 'profile'\">Profile</li>\n        <li :class=\"{ active: currentTab === 'items' }\" @click=\"currentTab = 'items'\">Manage Items</li>\n        <li @click=\"toggleLeaves\" class=\"has-submenu\">\n          Leaves <span class=\"arrow\">{{ showLeaves ? \"â–¼\" : \"â–¶\" }}</span>\n        </li>\n        <ul v-if=\"showLeaves\" class=\"submenu\">\n          <li :class=\"{ active: currentTab === 'apply-leave' }\" @click.stop=\"currentTab = 'apply-leave'\">Apply for Leave</li>\n          <li :class=\"{ active: currentTab === 'leave-status' }\" @click.stop=\"currentTab = 'leave-status'\">Leave Status</li>\n        </ul>\n        <li @click=\"logout\">Logout</li>\n      </ul>\n    </aside>\n\n    <!-- Main Content -->\n    <main class=\"content\">\n      <!-- Dashboard Tab -->\n      <div v-if=\"currentTab === 'dashboard'\" class=\"dashboard-tab\">\n        <h2>Dashboard</h2>\n        <div class=\"stats-grid\">\n          <div class=\"stat-box total-items\">Total Items: {{ stats.totalItems }}</div>\n          <div class=\"stat-box leaves-taken\">Leaves Taken: {{ stats.leavesTaken }}</div>\n          <div class=\"stat-box pending-tasks\">Pending Tasks: {{ stats.pendingTasks }}</div>\n          <div class=\"stat-box completed-tasks\">Completed Tasks: {{ stats.completedTasks }}</div>\n        </div>\n      </div>\n\n      <!-- Profile Tab -->\n      <div v-if=\"currentTab === 'profile'\" class=\"profile-tab\">\n        <h2>My Profile</h2>\n        <div class=\"profile-card\">\n          <div class=\"photo-section\">\n            <img :src=\"staff.profilePhoto ? apiBase + staff.profilePhoto : defaultPhoto\" alt=\"Profile Photo\" class=\"profile-photo\"/>\n            <input type=\"file\" @change=\"onFileChange\" />\n          </div>\n          <form @submit.prevent=\"updateProfile\" class=\"profile-form\">\n            <label>Name</label><input v-model=\"staff.name\" required />\n            <label>Email (cannot be changed)</label><input v-model=\"staff.email\" disabled />\n            <label>Phone</label><input v-model=\"staff.phone\" required />\n            <label>Gender</label>\n            <select v-model=\"staff.gender\">\n              <option value=\"male\">Male</option>\n              <option value=\"female\">Female</option>\n              <option value=\"other\">Other</option>\n            </select>\n            <label>Address</label><input v-model=\"staff.address\" required />\n            <label>Pincode</label><input v-model=\"staff.pincode\" required />\n            <button type=\"submit\">Update Profile</button>\n          </form>\n        </div>\n        <p v-if=\"message\" class=\"message\">{{ message }}</p>\n      </div>\n\n      <!-- Manage Items Tab -->\n      <div v-if=\"currentTab === 'items'\" class=\"items-tab\">\n        <h2>Manage Items</h2>\n        <p>ðŸ‘‰ Here you can add, update, or delete items.</p>\n      </div>\n\n      <!-- Apply Leave Tab -->\n      <div v-if=\"currentTab === 'apply-leave'\" class=\"apply-leave-tab\">\n        <h2>Apply for Leave</h2>\n        <form class=\"leave-form\" @submit.prevent=\"submitLeave\">\n          <label>Leave Type</label>\n          <select v-model=\"newLeave.type\" required>\n            <option>Sick Leave</option>\n            <option>Casual Leave</option>\n            <option>Vacation</option>\n          </select>\n\n          <label>From Date</label>\n          <input type=\"date\" v-model=\"newLeave.from\" required />\n\n          <label>To Date</label>\n          <input type=\"date\" v-model=\"newLeave.to\" required />\n\n          <label>Reason</label>\n          <textarea v-model=\"newLeave.reason\" placeholder=\"Enter reason\" required></textarea>\n\n          <button type=\"submit\">Submit Leave</button>\n          <button type=\"button\" @click=\"resetLeaveForm\">Clear</button>\n        </form>\n        <p v-if=\"leaveMessage\">{{ leaveMessage }}</p>\n      </div>\n\n      <!-- Leave Status Tab -->\n      <div v-if=\"currentTab === 'leave-status'\" class=\"leave-status-tab\">\n        <h2>Leave Status</h2>\n        <table class=\"leave-table\">\n          <thead>\n            <tr>\n              <th>Leave Type</th>\n              <th>From</th>\n              <th>To</th>\n              <th>Status</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"leave in leaveStatus\" :key=\"leave._id\">\n              <td>{{ leave.type }}</td>\n              <td>{{ formatDate(leave.from) }}</td>\n              <td>{{ formatDate(leave.to) }}</td>\n              <td>{{ leave.status }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </main>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      currentTab: \"dashboard\",\n      showLeaves: false,\n      staff: { name: \"\", email: \"\", phone: \"\", gender: \"\", address: \"\", pincode: \"\", profilePhoto: \"\" },\n      stats: { totalItems: 0, leavesTaken: 0, pendingTasks: 0, completedTasks: 0 },\n      newLeave: { type: \"Sick Leave\", from: \"\", to: \"\", reason: \"\" },\n      leaveStatus: [],\n      leaveMessage: \"\",\n      selectedFile: null,\n      message: \"\",\n      apiBase: \"http://localhost:5000\",\n      defaultPhoto: \"/default-avatar.png\",\n    };\n  },\n  methods: {\n    async fetchProfile() {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const res = await axios.get(`${this.apiBase}/api/staff/me`, { headers: { Authorization: `Bearer ${token}` } });\n        this.staff = res.data.staff;\n        this.fetchLeaveStatus();\n      } catch {\n        this.message = \"Error loading profile\";\n      }\n    },\n    async fetchStats() {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const res = await axios.get(`${this.apiBase}/api/staff/stats`, { headers: { Authorization: `Bearer ${token}` } });\n        this.stats = res.data;\n      } catch (err) {\n        console.error(\"Error fetching stats\", err);\n      }\n    },\n    onFileChange(e) { this.selectedFile = e.target.files[0]; },\n    async updateProfile() {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const formData = new FormData();\n        Object.keys(this.staff).forEach((key) => { if (key !== \"email\") formData.append(key, this.staff[key]); });\n        if (this.selectedFile) formData.append(\"profilePhoto\", this.selectedFile);\n        const res = await axios.put(`${this.apiBase}/api/staff/update`, formData, { headers: { Authorization: `Bearer ${token}`, \"Content-Type\": \"multipart/form-data\" }});\n        this.message = res.data.message;\n        this.fetchProfile();\n      } catch (err) {\n        this.message = err.response?.data?.message || \"Error updating profile\";\n      }\n    },\n    toggleLeaves() { this.showLeaves = !this.showLeaves; },\n    logout() { localStorage.removeItem(\"token\"); this.$router.push(\"/login\"); },\n\n    async submitLeave() {\n      try {\n        const token = localStorage.getItem(\"token\");\n        await axios.post(`${this.apiBase}/api/leaves/request`, { email: this.staff.email, ...this.newLeave }, { headers: { Authorization: `Bearer ${token}` } });\n        this.leaveMessage = \"Leave request submitted!\";\n        this.resetLeaveForm();\n        this.fetchLeaveStatus();\n      } catch {\n        this.leaveMessage = \"Error submitting leave\";\n      }\n    },\n    resetLeaveForm() { this.newLeave = { type: \"Sick Leave\", from: \"\", to: \"\", reason: \"\" }; },\n    async fetchLeaveStatus() {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const res = await axios.get(`${this.apiBase}/api/leaves/my?email=${this.staff.email}`, { headers: { Authorization: `Bearer ${token}` } });\n        this.leaveStatus = res.data;\n      } catch (err) {\n        console.error(\"Error fetching leave status\", err);\n      }\n    },\n    formatDate(dateStr) { return new Date(dateStr).toLocaleDateString(); },\n  },\n  mounted() {\n    this.fetchProfile();\n    this.fetchStats();\n  },\n};\n</script>\n\n<style scoped>\n.staff-dashboard { display: flex; min-height: 100vh; }\n.sidebar { width: 220px; background: #2c3e50; color: white; padding: 20px; }\n.sidebar-title { font-size: 18px; margin-bottom: 20px; }\n.sidebar ul { list-style: none; padding: 0; }\n.sidebar li { padding: 12px 10px; cursor: pointer; border-radius: 6px; transition: background 0.3s; }\n.sidebar li:hover, .sidebar li.active { background: #34495e; }\n.has-submenu { font-weight: bold; }\n.arrow { float: right; }\n.submenu { margin-left: 15px; }\n.submenu li { padding: 8px 10px; background: #3b4a5a; border-radius: 4px; margin: 4px 0; }\n.submenu li.active { background: #1abc9c; }\n.content { flex: 1; padding: 20px; background: #f4f6f9; }\n.stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; }\n.stat-box { padding: 20px; border-radius: 10px; color: white; font-weight: bold; text-align: center; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); }\n.total-items { background: #3498db; }\n.leaves-taken { background: #e74c3c; }\n.pending-tasks { background: #f39c12; }\n.completed-tasks { background: #2ecc71; }\n.profile-card { display: flex; gap: 20px; background: #fff; border-radius: 12px; padding: 20px; box-shadow: 0px 4px 12px rgba(0,0,0,0.1); }\n.photo-section { display: flex; flex-direction: column; align-items: center; }\n.profile-photo { width: 120px; height: 120px; border-radius: 50%; object-fit: cover; margin-bottom: 10px; }\n.profile-form { flex: 1; display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }\n.profile-form label { grid-column: span 2; font-weight: bold; }\n.profile-form input, .profile-form select, .profile-form textarea { grid-column: span 2; padding: 8px; border-radius: 8px; border: 1px solid #ccc; }\nbutton { grid-column: span 2; padding: 10px; background: #007bff; color: white; border: none; border-radius: 8px; cursor: pointer; }\nbutton:hover { background: #0056b3; }\n.leave-form { display: grid; gap: 15px; max-width: 500px; }\n.leave-form textarea { min-height: 80px; }\n.leave-table { width: 100%; border-collapse: collapse; margin-top: 15px; }\n.leave-table th, .leave-table td { border: 1px solid #ccc; padding: 10px; text-align: center; }\n.leave-table th { background: #34495e; color: white; }\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}