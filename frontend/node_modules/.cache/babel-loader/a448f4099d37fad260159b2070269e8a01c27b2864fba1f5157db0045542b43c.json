{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"staff-management\"\n};\nconst _hoisted_2 = [\"onClick\"];\nconst _hoisted_3 = [\"onClick\"];\nconst _hoisted_4 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[4] || (_cache[4] = _createElementVNode(\"h2\", null, \"Staff Management\", -1 /* CACHED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[1] || (_cache[1] = _withModifiers((...args) => $options.inviteStaff && $options.inviteStaff(...args), [\"prevent\"]))\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.email = $event),\n    type: \"email\",\n    placeholder: \"Enter staff email\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]]), _cache[2] || (_cache[2] = _createElementVNode(\"button\", {\n    type: \"submit\"\n  }, \"Invite\", -1 /* CACHED */))], 32 /* NEED_HYDRATION */), _cache[5] || (_cache[5] = _createElementVNode(\"h3\", null, \"Staff List\", -1 /* CACHED */)), _createElementVNode(\"table\", null, [_cache[3] || (_cache[3] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Email\"), _createElementVNode(\"th\", null, \"Name\"), _createElementVNode(\"th\", null, \"Phone\"), _createElementVNode(\"th\", null, \"Date of Joining\"), _createElementVNode(\"th\", null, \"Status\"), _createElementVNode(\"th\", null, \"Action\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.staff, s => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: s._id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(s.email), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(s.name || \"—\"), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(s.phone || \"—\"), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(s.dateOfJoining ? new Date(s.dateOfJoining).toLocaleDateString() : \"—\"), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(s.status), 1 /* TEXT */), _createElementVNode(\"td\", null, [s.status === 'pending' ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      onClick: $event => $options.approveStaff(s._id)\n    }, \" Approve \", 8 /* PROPS */, _hoisted_2)) : _createCommentVNode(\"v-if\", true), s.status === 'active' ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 1,\n      onClick: $event => $options.setStatus(s._id, 'deactivated')\n    }, \" Deactivate \", 8 /* PROPS */, _hoisted_3)) : _createCommentVNode(\"v-if\", true), s.status === 'deactivated' ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 2,\n      onClick: $event => $options.setStatus(s._id, 'active')\n    }, \" Activate \", 8 /* PROPS */, _hoisted_4)) : _createCommentVNode(\"v-if\", true)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","onSubmit","_cache","_withModifiers","args","$options","inviteStaff","$data","email","$event","type","placeholder","required","_Fragment","_renderList","staff","s","key","_id","_toDisplayString","name","phone","dateOfJoining","Date","toLocaleDateString","status","onClick","approveStaff","_hoisted_2","setStatus","_hoisted_3","_hoisted_4"],"sources":["C:\\Users\\LENOVO\\Music\\distribution-agency-project\\frontend\\src\\views\\StaffManagement.vue"],"sourcesContent":["<template>\n  <div class=\"staff-management\">\n    <h2>Staff Management</h2>\n\n    <form @submit.prevent=\"inviteStaff\">\n      <input\n        v-model=\"email\"\n        type=\"email\"\n        placeholder=\"Enter staff email\"\n        required\n      />\n      <button type=\"submit\">Invite</button>\n    </form>\n\n    <h3>Staff List</h3>\n    <table>\n      <thead>\n        <tr>\n          <th>Email</th>\n          <th>Name</th>\n          <th>Phone</th>\n          <th>Date of Joining</th>\n          <th>Status</th>\n          <th>Action</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"s in staff\" :key=\"s._id\">\n          <td>{{ s.email }}</td>\n          <td>{{ s.name || \"—\" }}</td>\n          <td>{{ s.phone || \"—\" }}</td>\n          <td>\n            {{ s.dateOfJoining ? new Date(s.dateOfJoining).toLocaleDateString() : \"—\" }}\n          </td>\n          <td>{{ s.status }}</td>\n          <td>\n            <button v-if=\"s.status === 'pending'\" @click=\"approveStaff(s._id)\">\n              Approve\n            </button>\n            <button\n              v-if=\"s.status === 'active'\"\n              @click=\"setStatus(s._id, 'deactivated')\"\n            >\n              Deactivate\n            </button>\n            <button\n              v-if=\"s.status === 'deactivated'\"\n              @click=\"setStatus(s._id, 'active')\"\n            >\n              Activate\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return { email: \"\", staff: [] };\n  },\n  methods: {\n    async fetchStaff() {\n      const res = await axios.get(\"http://localhost:5000/api/staff\");\n      this.staff = res.data.staff;\n    },\n    async inviteStaff() {\n      await axios.post(\"http://localhost:5000/api/staff/invite\", {\n        email: this.email,\n      });\n      alert(\"Invitation sent!\");\n      this.email = \"\";\n      this.fetchStaff();\n    },\n    async approveStaff(id) {\n      await axios.put(`http://localhost:5000/api/staff/approve/${id}`);\n      this.fetchStaff();\n    },\n    async setStatus(id, status) {\n      await axios.put(`http://localhost:5000/api/staff/status/${id}`, {\n        status,\n      });\n      this.fetchStaff();\n    },\n  },\n  mounted() {\n    this.fetchStaff();\n  },\n};\n</script>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAkB;;;;;uBAA7BC,mBAAA,CAsDM,OAtDNC,UAsDM,G,0BArDJC,mBAAA,CAAyB,YAArB,kBAAgB,qBAEpBA,mBAAA,CAQO;IARAC,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,WAAA,IAAAD,QAAA,CAAAC,WAAA,IAAAF,IAAA,CAAW;sBAChCJ,mBAAA,CAKE;+DAJSO,KAAA,CAAAC,KAAK,GAAAC,MAAA;IACdC,IAAI,EAAC,OAAO;IACZC,WAAW,EAAC,mBAAmB;IAC/BC,QAAQ,EAAR;iDAHSL,KAAA,CAAAC,KAAK,E,6BAKhBR,mBAAA,CAAqC;IAA7BU,IAAI,EAAC;EAAQ,GAAC,QAAM,oB,sDAG9BV,mBAAA,CAAmB,YAAf,YAAU,qBACdA,mBAAA,CAuCQ,gB,0BAtCNA,mBAAA,CASQ,gBARNA,mBAAA,CAOK,aANHA,mBAAA,CAAc,YAAV,OAAK,GACTA,mBAAA,CAAa,YAAT,MAAI,GACRA,mBAAA,CAAc,YAAV,OAAK,GACTA,mBAAA,CAAwB,YAApB,iBAAe,GACnBA,mBAAA,CAAe,YAAX,QAAM,GACVA,mBAAA,CAAe,YAAX,QAAM,E,uBAGdA,mBAAA,CA2BQ,iB,kBA1BNF,mBAAA,CAyBKe,SAAA,QAAAC,WAAA,CAzBWP,KAAA,CAAAQ,KAAK,EAAVC,CAAC;yBAAZlB,mBAAA,CAyBK;MAzBmBmB,GAAG,EAAED,CAAC,CAACE;QAC7BlB,mBAAA,CAAsB,YAAAmB,gBAAA,CAAfH,CAAC,CAACR,KAAK,kBACdR,mBAAA,CAA4B,YAAAmB,gBAAA,CAArBH,CAAC,CAACI,IAAI,yBACbpB,mBAAA,CAA6B,YAAAmB,gBAAA,CAAtBH,CAAC,CAACK,KAAK,yBACdrB,mBAAA,CAEK,YAAAmB,gBAAA,CADAH,CAAC,CAACM,aAAa,OAAOC,IAAI,CAACP,CAAC,CAACM,aAAa,EAAEE,kBAAkB,0BAEnExB,mBAAA,CAAuB,YAAAmB,gBAAA,CAAhBH,CAAC,CAACS,MAAM,kBACfzB,mBAAA,CAgBK,aAfWgB,CAAC,CAACS,MAAM,kB,cAAtB3B,mBAAA,CAES;;MAF8B4B,OAAK,EAAAjB,MAAA,IAAEJ,QAAA,CAAAsB,YAAY,CAACX,CAAC,CAACE,GAAG;OAAG,WAEnE,iBAAAU,UAAA,K,mCAEQZ,CAAC,CAACS,MAAM,iB,cADhB3B,mBAAA,CAKS;;MAHN4B,OAAK,EAAAjB,MAAA,IAAEJ,QAAA,CAAAwB,SAAS,CAACb,CAAC,CAACE,GAAG;OACxB,cAED,iBAAAY,UAAA,K,mCAEQd,CAAC,CAACS,MAAM,sB,cADhB3B,mBAAA,CAKS;;MAHN4B,OAAK,EAAAjB,MAAA,IAAEJ,QAAA,CAAAwB,SAAS,CAACb,CAAC,CAACE,GAAG;OACxB,YAED,iBAAAa,UAAA,K","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}